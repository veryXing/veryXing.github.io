[{"title":"pytest-qt 测试模态窗体.","url":"/article/18647ffa.html","content":"\n步骤分别是 :\n\n1. 点击 开始扫描 弹出 选择路径窗口 ;\n\n2. 勾选路基 ;\n\n3.点击确定 ;\n<!-- more -->\n\n大概想测一下这个界面 :\n\n![image.png](https://upload-images.jianshu.io/upload_images/10769157-c1ed0bd52808c5b8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n步骤分别是 :\n\n1. 点击 开始扫描 弹出 选择路径窗口 ;\n\n2. 勾选路基 ;\n\n3.点击确定 ;\n\n需要测试的函数 :\n\n![image.png](https://upload-images.jianshu.io/upload_images/10769157-b5265859d74b269d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n测试函数 :\n\n![image.png](https://upload-images.jianshu.io/upload_images/10769157-58f4310a54a815ee.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n可以发现断言失败 .\n\n![image.png](https://upload-images.jianshu.io/upload_images/10769157-939c73b5be19c21e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n官方文档 : 测试模态窗体.\n\n[https://pytest-qt.readthedocs.io/en/latest/note_dialogs.html](https://pytest-qt.readthedocs.io/en/latest/note_dialogs.html)\n\n用的是官方的 `monkeypatch` 方式 .\n\n大致意思就是替换 `FileSelectPathDialog` 类的exec函数.\n","tags":["pytest-qt"],"categories":["教程"]},{"title":"post","url":"/article/5a8a6c8d.html","categories":["Docs文檔"]},{"title":"某网站自动下载音乐mp3和歌词","url":"/article/140ab620.html","content":"\n直接上代码\n\n```python\nimport requests\nfrom bs4 import BeautifulSoup\nimport json\nimport os\nimport time\n# tqdm用于显示进度条\nfrom tqdm import tqdm\nimport urllib.parse  # 将网址中的中文转化为编码后的字符\n \n# 忽略特定类型的警告\nimport warnings\nwarnings.filterwarnings(\"ignore\", category=DeprecationWarning, message=\"invalid escape sequence\")\n \n\nheaders = {\n    'authority': 'www.gequbao.com',\n    'referer': 'https://www.gequbao.com/',\n    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36 Edg/119.0.0.0',\n}\nserver = 'https://www.gequbao.com'\ninput_singer=input(\"请输入歌手名：\")\n# input_singer='林俊杰'\ninput_singer=urllib.parse.quote(input_singer)\nsinger = 'https://www.gequbao.com/s/{}'.format(input_singer)\nis_download_lrc = input(\"是否下载歌词? 默认不下载(yes,no)\")\n \n\n# 获取音乐下载路径\ndef get_music_download_url(song_id):\n    # 歌词下载地址\n    lrc_download_url = 'https://www.gequbao.com/download/lrc/{}'.format(song_id)\n    # 解析歌曲下载链接\n    song_download_url = 'https://www.gequbao.com/api/play_url?id={}&json=1'.format(song_id)\n    res = requests.get(url=song_download_url, headers=headers)\n    res.encoding = 'utf-8'\n    decoded_data = json.loads(res.text.encode('utf-8').decode('unicode_escape'))\n    download_url = decoded_data['data']['url']\n    return lrc_download_url,download_url\n \n# 下载文件（名称，下载地址，下载目录，下载的文件类型）\ndef download_file(file_name, download_url, download_directory, file_extension=\"mp3\"):  \n    # 确保目录存在  \n    if not os.path.exists(download_directory):  \n        os.makedirs(download_directory)  \n    # 获取文件名，注意！此处会自动给文件名称增加后缀，默认MP3\n    file_path = os.path.join(download_directory, f\"{file_name}.{file_extension}\")  \n    # 检查文件是否已存在  \n    if os.path.exists(file_path):  \n        print(f\"[-] 文件已存在： {file_path}\")  \n        return\n    # 发起请求并下载文件\n    try:\n        with requests.get(download_url, stream=True) as response:\n            if response.status_code >= 200 and response.status_code < 300:\n                total_size = int(response.headers.get('content-length', 0))\n                with open(file_path, 'wb') as file, tqdm(\n                        total=total_size, unit='B', unit_scale=True,\n                        desc=f\"[+] 正在下载：{file_name}.{file_extension}\", leave=True) as pbar:\n                    for chunk in response.iter_content(chunk_size=1024):\n                        file.write(chunk)\n                        pbar.update(len(chunk))\n            else:\n                print(f\"[x] HTTP错误：{response.status_code}\")\n    except requests.exceptions.RequestException as e:  \n        print(f\"[x] 下载失败! {file_name}.{file_extension}\",\"\\t{}\".format(e))\n\ndef main():\n    res = requests.get(singer, headers=headers)\n    res.encoding = 'utf-8'\n    html = res.text\n    # 使用自带的html.parser解析\n    soup = BeautifulSoup(html, 'html.parser')\n    # 歌曲的列表\n    songs = soup.find('div', class_='card-text').find_all(class_='text-primary')\n    # 歌手名列表\n    singers = soup.find('div', class_='card-text').find_all(class_='text-success')\n    # 搜索的歌手名称\n    search_singer_name = soup.find('input', id='s-input-line')['value']\n    print('查询到歌曲数: %d ' % len(songs))\n    for each_song,each_singer in zip(songs,singers):\n        try:\n            # 歌曲ID\n            song_id = each_song.get('href').replace('/music/','')\n            # 歌名\n            song_title = each_song.get_text().strip()\n            # 歌手\n            song_singer = each_singer.get_text().strip()\n            # 保存路径\n            save_url = os.getcwd()+'\\\\songs\\\\{}'.format(search_singer_name)\n            # 下载保存的文件名格式\n            file_name = '{} - {}'.format(song_singer,song_title)\n            # 先判断是否存在，然后再获取下载地址，减少请求，反之请求频繁\n            # 确保目录存在  \n            if not os.path.exists(save_url):  \n                os.makedirs(save_url)  \n            # 获取文件名  \n            is_file_name = os.path.join(save_url, f\"{file_name}.mp3\")\n            # 检查文件是否已存在  \n            if os.path.exists(is_file_name):  \n                print(\"[-] 文件已存在： {}\".format(is_file_name.replace(save_url,'').replace('\\\\','')))\n                continue          \n            lrc_url,song_url = get_music_download_url(song_id)\n            # print('----->',song_title,song_url)\n            download_file(file_name, song_url, save_url, 'mp3')\n            if(is_download_lrc == 'yes'):   # 是否下载歌词\n                download_file(file_name, lrc_url,  save_url, 'lrc')\n        except Exception as e:\n            print(e)        \n        #TODO 针对此脚本，这个网站有请求频繁防护，目前休眠20秒不太好使，可以调长点，测试下来 30秒没啥问题\n        # 休眠 \n        time.sleep(30)\n\nif __name__ == '__main__':\n    main()\n```\n\n\n\n","tags":["音乐"],"categories":["代码"]},{"title":"PyQt密码管理系统","url":"/article/32b656da.html","content":"\n<!-- more -->\n\n主程序登录界面：\n\n```python\n# -*- coding: utf-8 -*-\n\n# Form implementation generated from reading ui file 'wb.ui'\n#\n# Created by: PyQt5 UI code generator 5.10.1\n#\n# WARNING! All changes made in this file will be lost!\n\nfrom PyQt5 import QtCore, QtGui, QtWidgets\nfrom PyQt5.QtCore import pyqtSignal\nimport sign_in\nimport sys\nimport connectData\nimport password_screen\nimport background_rc\n\nclass Ui_MainWindow(object):\n    def setupUi(self, MainWindow):\n        MainWindow.setObjectName(\"MainWindow\")\n        MainWindow.resize(400, 300)\n        self.MainWindow = MainWindow\n        icon = QtGui.QIcon()\n        icon.addPixmap(QtGui.QPixmap(\":/icon/wb.ico\"), QtGui.QIcon.Normal, QtGui.QIcon.Off)\n        MainWindow.setWindowIcon(icon)\n\n        self.SQL = connectData.sql()\n\n        self.centralwidget = QtWidgets.QWidget(MainWindow)\n        self.centralwidget.setObjectName(\"centralwidget\")\n        self.horizontalLayout = QtWidgets.QHBoxLayout(self.centralwidget)\n        self.horizontalLayout.setObjectName(\"horizontalLayout\")\n        spacerItem = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)\n        self.horizontalLayout.addItem(spacerItem)\n        self.widget = QtWidgets.QWidget(self.centralwidget)\n        self.widget.setObjectName(\"widget\")\n        self.verticalLayout_2 = QtWidgets.QVBoxLayout(self.widget)\n        self.verticalLayout_2.setObjectName(\"verticalLayout_2\")\n        self.verticalLayout = QtWidgets.QVBoxLayout()\n        self.verticalLayout.setObjectName(\"verticalLayout\")\n        spacerItem1 = QtWidgets.QSpacerItem(20, 40, QtWidgets.QSizePolicy.Minimum, QtWidgets.QSizePolicy.Expanding)\n        self.verticalLayout.addItem(spacerItem1)\n        self.horizontalLayout_2 = QtWidgets.QHBoxLayout()\n        self.horizontalLayout_2.setObjectName(\"horizontalLayout_2\")\n        self.label = QtWidgets.QLabel(self.widget)\n        self.label.setObjectName(\"label\")\n        self.horizontalLayout_2.addWidget(self.label)\n        self.lineEdit = QtWidgets.QLineEdit(self.widget)\n        self.lineEdit.setObjectName(\"lineEdit\")\n        self.horizontalLayout_2.addWidget(self.lineEdit)\n        self.verticalLayout.addLayout(self.horizontalLayout_2)\n        self.horizontalLayout_3 = QtWidgets.QHBoxLayout()\n        self.horizontalLayout_3.setObjectName(\"horizontalLayout_3\")\n        self.label_2 = QtWidgets.QLabel(self.widget)\n        self.label_2.setObjectName(\"label_2\")\n        self.horizontalLayout_3.addWidget(self.label_2)\n        self.lineEdit_2 = QtWidgets.QLineEdit(self.widget)\n        self.lineEdit_2.setObjectName(\"lineEdit_2\")\n        self.horizontalLayout_3.addWidget(self.lineEdit_2)\n        self.verticalLayout.addLayout(self.horizontalLayout_3)\n        self.horizontalLayout_4 = QtWidgets.QHBoxLayout()\n        self.horizontalLayout_4.setObjectName(\"horizontalLayout_4\")\n        self.pushButton = QtWidgets.QPushButton(self.widget)\n        self.pushButton.setObjectName(\"pushButton\")\n        self.horizontalLayout_4.addWidget(self.pushButton, 0, QtCore.Qt.AlignHCenter)\n        self.pushButton_2 = QtWidgets.QPushButton(self.widget)\n        self.pushButton_2.setObjectName(\"pushButton_2\")\n        self.horizontalLayout_4.addWidget(self.pushButton_2, 0, QtCore.Qt.AlignHCenter)\n        self.verticalLayout.addLayout(self.horizontalLayout_4)\n        spacerItem2 = QtWidgets.QSpacerItem(20, 40, QtWidgets.QSizePolicy.Minimum, QtWidgets.QSizePolicy.Expanding)\n        self.verticalLayout.addItem(spacerItem2)\n        self.verticalLayout_2.addLayout(self.verticalLayout)\n        self.horizontalLayout.addWidget(self.widget)\n        spacerItem3 = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)\n        self.horizontalLayout.addItem(spacerItem3)\n        MainWindow.setCentralWidget(self.centralwidget)\n        self.statusbar = QtWidgets.QStatusBar(MainWindow)\n        self.statusbar.setObjectName(\"statusbar\")\n        MainWindow.setStatusBar(self.statusbar)\n\n        self.retranslateUi(MainWindow)\n        self.pushButton.clicked.connect(self.show_sign_in_windows)\n        self.pushButton_2.clicked.connect(self.show_logon_windows)\n\n        self.lineEdit_2.returnPressed.connect(self.show_logon_windows)\n        self.lineEdit_2.setEchoMode(QtWidgets.QLineEdit.Password)\n\n        QtCore.QMetaObject.connectSlotsByName(MainWindow)\n\n    def show_sign_in_windows(self):\n        self.Dialog = QtWidgets.QDialog()\n        self.ui2 = sign_in.Ui_Dialog()\n        self.ui2.closeWindow.connect(self.MainWindow_show)\n        self.ui2.setupUi(self.Dialog)\n        self.Dialog.show()\n        MainWindow.hide()\n\n    def show_logon_windows(self):\n        if self.SQL.chack_user(self.lineEdit.text(),self.lineEdit_2.text()):\n            # self.Dialog = QtWidgets.QDialog()\n            self.ui2 = password_screen.Ui_Dialog(self.lineEdit.text())\n            self.ui2.closeWindow.connect(self.MainWindow_show)\n            # self.ui2.setupUi(self.Dialog)\n            # self.Dialog.show()\n            self.ui2.show()\n\n            MainWindow.hide()\n        else:\n            QtWidgets.QMessageBox.about(self.MainWindow,\"提示\",\"用户名或密码不正确！\")\n\n    def MainWindow_show(self,val):\n        self.lineEdit.setText(val)\n        self.lineEdit_2.setText('')\n        MainWindow.show()\n\n    def retranslateUi(self, MainWindow):\n        _translate = QtCore.QCoreApplication.translate\n        MainWindow.setWindowTitle(_translate(\"MainWindow\", \"个人密码管理系统\"))\n        self.label.setText(_translate(\"MainWindow\", \"用户名：\"))\n        self.label_2.setText(_translate(\"MainWindow\", \"密  码：\"))\n        self.pushButton.setText(_translate(\"MainWindow\", \"注册\"))\n        self.pushButton_2.setText(_translate(\"MainWindow\", \"登录\"))\n\n\nif __name__ =='__main__':\n\n    app = QtWidgets.QApplication(sys.argv)\n    MainWindow = QtWidgets.QMainWindow()\n    ui = Ui_MainWindow()\n    ui.setupUi(MainWindow)\n    MainWindow.show()\n    sys.exit(app.exec_())\n```\n\n操作数据\n\n```python\nimport sqlite3\n\nclass sql():\n\n    def __init__(self):\n        self.conn = sqlite3.connect('data.db')\n        c = self.conn.cursor()\n        try:\n            create_tb_cmd='''\n            CREATE TABLE IF NOT EXISTS USER\n            (      NAME           char(50)    NOT NULL,\\\n                   PASSWORD       char(50)     NOT NULL,\\\n                   LEVEL    integer DEFAULT 1,\\\n                   primary key (NAME));\n            '''\n            c.execute(create_tb_cmd)\n\n            create_password_cmd = '''\n                    CREATE TABLE IF NOT EXISTS PASSWORD\n                    (ID INTEGER PRIMARY KEY    autoincrement,\\\n                           application           char(50)    NOT NULL,\\\n                           NAME           char(50)    NOT NULL,\\\n                           PASSWORD       char(50)     NOT NULL,\\\n                           user       char(50)     NOT NULL,\\\n                           CreatedTime TimeStamp NOT NULL DEFAULT (datetime('now','localtime'))\n                           );\n                    '''\n            c.execute(create_password_cmd)\n            self.conn.commit()\n            # self.conn.close()\n        except Exception as e:\n            print(e)\n            print (\"Create table failed\")\n\n\n    def chack_user(self,user,password):\n        try:\n            c = self.conn.cursor()\n            chack_pass_cmd = 'select PASSWORD from user where NAME == \"{}\"'.format(user)\n            c.execute(chack_pass_cmd)\n            self.conn.commit()\n            passwd_list = c.fetchall()\n            print(passwd_list)\n            if passwd_list != []:\n                if passwd_list[0][0] == password:\n                    return True\n                else:\n                    return False\n            return False\n        except Exception as e:\n            print(e)\n            return False\n\n    def insert_user(self,name,password):\n        try:\n            c = self.conn.cursor()\n            insert_user_cmd = 'insert into user (NAME,PASSWORD) values (\"{}\",\"{}\")'.format(name,password)\n            c.execute(insert_user_cmd)\n            self.conn.commit()\n            return True\n        except Exception as e:\n            print(e)\n            return False\n\n    def insert_passwd(self,application,name,passwd,user):\n        try:\n            c = self.conn.cursor()\n            insert_passwd_cmd = 'insert into PASSWORD (application,NAME,PASSWORD,user) values (\"{}\",\"{}\",\"{}\",\"{}\")'.format(application,name,passwd,user)\n            c.execute(insert_passwd_cmd)\n            self.conn.commit()\n            return True\n        except Exception as e:\n            print(e)\n            return False\n\n    def select_passwdByName(self,application):\n        try:\n            c = self.conn.cursor()\n            insert_passwd_cmd = 'select * from PASSWORD where application = \"{}\" order by CreatedTime desc'.format(application)\n            c.execute(insert_passwd_cmd)\n            self.conn.commit()\n            passwd_list = c.fetchall()\n            print(passwd_list)\n            return passwd_list\n        except Exception as e:\n            print(e)\n            return False\n\n    def delete_passwd(self,application,time,user):\n        try:\n            c = self.conn.cursor()\n            delete_passwd_cmd = 'delete from PASSWORD where application=\"{}\" and CreatedTime= \"{}\" and user = \"{}\"'.format(application,time,user)\n            c.execute(delete_passwd_cmd)\n            self.conn.commit()\n            return True\n        except Exception as e:\n            print(e)\n            return False\n\n    def update_passwd(self,password,application,time,user):\n        try:\n            c = self.conn.cursor()\n            update_passwd_cmd = 'update PASSWORD set PASSWORD = \"{}\" where application=\"{}\" and CreatedTime= \"{}\" and user = \"{}\"'.format(password,application,time,user)\n            c.execute(update_passwd_cmd)\n            self.conn.commit()\n            return True\n        except Exception as e:\n            print(e)\n            return False\n\n    def select_passwd_all(self,user):\n        try:\n            c = self.conn.cursor()\n            insert_passwd_cmd = 'select * from PASSWORD where  user = \"{}\"  order by application asc,CreatedTime DESC'.format(user)\n            c.execute(insert_passwd_cmd)\n            self.conn.commit()\n            passwd_list = c.fetchall()\n            # print(passwd_list)\n            return passwd_list\n        except Exception as e:\n            print(e)\n            return []\n\n    def select_passwd_by_like(self,str,user):\n        try:\n            c = self.conn.cursor()\n            insert_passwd_cmd = 'select * from PASSWORD where user = \"{}\" and application like \"%{}%\"  order by application asc,CreatedTime DESC'.format(user,str)\n            c.execute(insert_passwd_cmd)\n            self.conn.commit()\n            passwd_list = c.fetchall()\n            # print(passwd_list)\n            return passwd_list\n        except Exception as e:\n            print(e)\n            return []\n\n\n    def close(self):\n        try:\n            self.conn.close()\n        except:\n            pass\n```\n\n显示密码界面\n\n```python\n# -*- coding: utf-8 -*-\n\n# Form implementation generated from reading ui file 'password_screen.ui'\n#\n# Created by: PyQt5 UI code generator 5.10.1\n#\n# WARNING! All changes made in this file will be lost!\n\nfrom PyQt5 import QtCore, QtGui, QtWidgets\nfrom PyQt5.QtCore import pyqtSignal\nfrom PyQt5.QtWidgets import *\nimport connectData\nimport password\nimport search\n\nimport background_rc\nclass Ui_Dialog(QDialog):\n    closeWindow = pyqtSignal(str)\n    def __init__(self,user):\n        super(QDialog, self).__init__()\n        self.user = user\n        self.search_str = ''\n        self.setupUi(self)\n\n    def setupUi(self, Dialog):\n        Dialog.setObjectName(\"Dialog\")\n        Dialog.resize(750, 600)\n\n        icon = QtGui.QIcon()\n        icon.addPixmap(QtGui.QPixmap(\":/icon/wb.ico\"), QtGui.QIcon.Normal, QtGui.QIcon.Off)\n        Dialog.setWindowIcon(icon)\n        self.setWindowFlags(QtCore.Qt.WindowMaximizeButtonHint | QtCore.Qt.WindowMinimizeButtonHint | QtCore.Qt.WindowCloseButtonHint)\n\n        self.verticalLayout_2 = QtWidgets.QVBoxLayout(Dialog)\n        self.verticalLayout_2.setObjectName(\"verticalLayout_2\")\n        self.groupBox = QtWidgets.QGroupBox(Dialog)\n        self.groupBox.setTitle(\"\")\n        self.groupBox.setObjectName(\"groupBox\")\n        self.horizontalLayout_3 = QtWidgets.QHBoxLayout(self.groupBox)\n        self.horizontalLayout_3.setObjectName(\"horizontalLayout_3\")\n        self.verticalLayout = QtWidgets.QVBoxLayout()\n        self.verticalLayout.setObjectName(\"verticalLayout\")\n        self.horizontalLayout = QtWidgets.QHBoxLayout()\n        self.horizontalLayout.setObjectName(\"horizontalLayout\")\n        spacerItem = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)\n        self.horizontalLayout.addItem(spacerItem)\n        self.pushButton_5 = QtWidgets.QPushButton(self.groupBox)\n        self.pushButton_5.setMinimumSize(QtCore.QSize(20, 20))\n        self.pushButton_5.setMaximumSize(QtCore.QSize(20, 20))\n        self.pushButton_5.setStyleSheet(\"\\n\"\n\"QPushButton{background-color:rgb(104, 104, 104);color: white;     border: 2px groove gray;border-style: outset;\\n\"\n\"image: url(:/image/select.ico);}\\n\"\n\"\\n\"\n\"QPushButton:pressed{background-color:rgb(85, 170, 255); border-style: inset;border-image: url(:/image/select.ico); }\")\n        self.pushButton_5.setText(\"\")\n        self.pushButton_5.setObjectName(\"pushButton_5\")\n        self.horizontalLayout.addWidget(self.pushButton_5)\n        self.pushButton = QtWidgets.QPushButton(self.groupBox)\n        self.pushButton.setMinimumSize(QtCore.QSize(20, 20))\n        self.pushButton.setMaximumSize(QtCore.QSize(20, 20))\n        self.pushButton.setStyleSheet(\"\\n\"\n\"QPushButton{background-color:rgb(104, 104, 104);color: white;     border: 2px groove gray;border-style: outset;\\n\"\n\"image: url(:/image/add.ico);}\\n\"\n\"\\n\"\n\"QPushButton:pressed{background-color:rgb(85, 170, 255); border-style: inset;border-image: url(:/image/add.ico); }\")\n        self.pushButton.setText(\"\")\n        self.pushButton.setObjectName(\"pushButton\")\n        self.horizontalLayout.addWidget(self.pushButton)\n        self.pushButton_2 = QtWidgets.QPushButton(self.groupBox)\n        self.pushButton_2.setMinimumSize(QtCore.QSize(20, 20))\n        self.pushButton_2.setMaximumSize(QtCore.QSize(20, 20))\n        self.pushButton_2.setStyleSheet(\"\\n\"\n\"QPushButton{background-color:rgb(104, 104, 104);color: white;     border: 2px groove gray;border-style: outset;\\n\"\n\"image: url(:/image/delete.ico);}\\n\"\n\"\\n\"\n\"QPushButton:pressed{background-color:rgb(85, 170, 255); border-style: inset;border-image: url(:/image/delete.ico); }\")\n        self.pushButton_2.setText(\"\")\n        self.pushButton_2.setObjectName(\"pushButton_2\")\n        self.horizontalLayout.addWidget(self.pushButton_2)\n        self.verticalLayout.addLayout(self.horizontalLayout)\n        self.tableWidget = QtWidgets.QTableWidget(self.groupBox)\n        self.tableWidget.setEnabled(True)\n        self.tableWidget.setToolTip(\"\")\n        self.tableWidget.setObjectName(\"tableWidget\")\n        self.tableWidget.setColumnCount(4)\n        self.tableWidget.setRowCount(0)\n        item = QtWidgets.QTableWidgetItem()\n        self.tableWidget.setHorizontalHeaderItem(0, item)\n        item = QtWidgets.QTableWidgetItem()\n        self.tableWidget.setHorizontalHeaderItem(1, item)\n        item = QtWidgets.QTableWidgetItem()\n        self.tableWidget.setHorizontalHeaderItem(2, item)\n        item = QtWidgets.QTableWidgetItem()\n        self.tableWidget.setHorizontalHeaderItem(3, item)\n        self.verticalLayout.addWidget(self.tableWidget)\n        self.horizontalLayout_2 = QtWidgets.QHBoxLayout()\n        self.horizontalLayout_2.setObjectName(\"horizontalLayout_2\")\n        self.verticalLayout.addLayout(self.horizontalLayout_2)\n        self.horizontalLayout_3.addLayout(self.verticalLayout)\n        self.verticalLayout_2.addWidget(self.groupBox)\n\n        self.retranslateUi(Dialog)\n        QtCore.QMetaObject.connectSlotsByName(Dialog)\n\n    def retranslateUi(self, Dialog):\n        _translate = QtCore.QCoreApplication.translate\n        Dialog.setWindowTitle(_translate(\"Dialog\", \"Dialog\"))\n        self.pushButton_5.setToolTip(_translate(\"Dialog\", \"查找\"))\n        self.pushButton.setToolTip(_translate(\"Dialog\", \"添加\"))\n        self.pushButton_2.setToolTip(_translate(\"Dialog\", \"删除\"))\n        item = self.tableWidget.horizontalHeaderItem(0)\n        item.setText(_translate(\"Dialog\", \"应用\"))\n        item = self.tableWidget.horizontalHeaderItem(1)\n        item.setText(_translate(\"Dialog\", \"用户名\"))\n        item = self.tableWidget.horizontalHeaderItem(2)\n        item.setText(_translate(\"Dialog\", \"密码\"))\n        item = self.tableWidget.horizontalHeaderItem(3)\n        item.setText(_translate(\"Dialog\", \"时间\"))\n\n        self.pushButton.clicked.connect(self.addclick)\n        self.pushButton_2.clicked.connect(self.deleteclick)\n        self.pushButton_5.clicked.connect(self.search_app)\n        Dialog.setWindowTitle(_translate(\"Dialog\", \"{}\".format(self.user)))\n        self.SQL = connectData.sql()\n        self.tableWidget.setColumnWidth(3, 200)\n\n        self.update_UI()\n\n        self.tableWidget.doubleClicked.connect(self.table_change)\n\n        self.tableWidget.setEditTriggers(QAbstractItemView.NoEditTriggers)\n\n        self.tableWidget.setContextMenuPolicy(QtCore.Qt.CustomContextMenu)  ######允许右键产生子菜单\n        self.tableWidget.customContextMenuRequested.connect(self.custom_right_menu)  ####右键菜单\n\n    def custom_right_menu(self, pos):\n        try:\n            menu = QMenu()\n            opt2 = menu.addAction(\"添加\")\n            opt1 = menu.addAction(\"删除\")\n            action = menu.exec_(self.tableWidget.mapToGlobal(pos))\n            if action == opt1:\n                self.deleteclick()\n            elif action == opt2:\n\n                application = self.tableWidget.item(self.tableWidget.currentRow(), 0).text()\n                name = self.tableWidget.item(self.tableWidget.currentRow(), 1).text()\n\n                # self.Dialog = QtWidgets.QDialog()\n                self.ui2 = password.Ui_Dialog(self.user, application, name, '', '', False)\n                self.ui2.closeWindow.connect(self.update_UI)\n                # self.ui2.setupUi(self.Dialog)\n                self.ui2.show()\n            else:\n                return\n        except Exception as e:\n            print(e)\n\n\n\n\n\n    def table_change(self):\n\n        try:\n            application = self.tableWidget.item(self.tableWidget.currentRow(), 0).text()\n            name = self.tableWidget.item(self.tableWidget.currentRow(), 1).text()\n            password_str = self.tableWidget.item(self.tableWidget.currentRow(), 2).text()\n            time_str = self.tableWidget.item(self.tableWidget.currentRow(), 3).text()\n\n            # self.Dialog = QtWidgets.QDialog()\n            self.ui2 = password.Ui_Dialog(self.user, application, name, password_str, time_str, True)\n            self.ui2.closeWindow.connect(self.update_UI)\n            # self.ui2.setupUi(self.Dialog)\n            self.ui2.show()\n        except Exception as e:\n            print(e)\n\n    def update_UI(self, app_str=''):\n        self.search_str = app_str\n        if self.search_str == '':\n            password_list = self.SQL.select_passwd_all(self.user)\n            _translate = QtCore.QCoreApplication.translate\n            item = self.tableWidget.horizontalHeaderItem(0)\n            item.setText(_translate(\"Dialog\", \"应用\"))\n        else:\n            password_list = self.SQL.select_passwd_by_like(app_str, self.user)\n            _translate = QtCore.QCoreApplication.translate\n            item = self.tableWidget.horizontalHeaderItem(0)\n            item.setText(_translate(\"Dialog\", \"应用({})\".format(self.search_str)))\n\n        print(password_list)\n        self.tableWidget.setRowCount(len(password_list))\n        for index1, data in enumerate(password_list):\n            self.tableWidget.setItem(index1, 0, QTableWidgetItem(data[1]))\n            self.tableWidget.setItem(index1, 1, QTableWidgetItem(data[2]))\n            self.tableWidget.setItem(index1, 2, QTableWidgetItem(data[3]))\n            self.tableWidget.setItem(index1, 3, QTableWidgetItem(data[5]))\n\n    def addclick(self):\n\n        # self.Dialog = QtWidgets.QDialog()\n        self.ui2 = password.Ui_Dialog(self.user)\n        self.ui2.closeWindow.connect(self.update_UI)\n        # self.ui2.setupUi(self.Dialog)\n        self.ui2.show()\n\n    def deleteclick(self):\n        reply = QtWidgets.QMessageBox.question(self,\n                                               '确认',\n                                               \"是否要删除这条记录？\",\n                                               QtWidgets.QMessageBox.Yes | QtWidgets.QMessageBox.No,\n                                               QtWidgets.QMessageBox.No)\n        if reply == QtWidgets.QMessageBox.Yes:\n            try:\n                application = self.tableWidget.item(self.tableWidget.currentRow(), 0).text()\n                name = self.tableWidget.item(self.tableWidget.currentRow(), 1).text()\n                password = self.tableWidget.item(self.tableWidget.currentRow(), 2).text()\n                time_str = self.tableWidget.item(self.tableWidget.currentRow(), 3).text()\n                if self.SQL.delete_passwd(application, time_str, self.user):\n                    self.tableWidget.removeRow(self.tableWidget.currentRow())\n                else:\n                    QtWidgets.QMessageBox.about(self, '提示', '删除失败！')\n            except:\n                QtWidgets.QMessageBox.about(self, '提示', '请选择删除项！')\n        else:\n             pass\n\n\n    def search_app(self):\n\n        self.ui2 = search.Ui_Dialog(self.search_str)\n        self.ui2.closeWindow.connect(self.update_UI)\n        # self.ui2.setupUi(self.Dialog)\n        self.ui2.show()\n\n    def closeEvent(self, a0: QtGui.QCloseEvent) -> None:\n        self.closeWindow.emit(self.user)\n```\n\n注册用户界面\n\n```python\n# -*- coding: utf-8 -*-\n\n# Form implementation generated from reading ui file 'sign_in.ui'\n#\n# Created by: PyQt5 UI code generator 5.10.1\n#\n# WARNING! All changes made in this file will be lost!\n\nfrom PyQt5 import QtCore, QtGui, QtWidgets\nfrom PyQt5.QtCore import pyqtSignal\nfrom PyQt5.QtWidgets import *\nimport connectData\nimport background_rc\nclass Ui_Dialog(QDialog):\n\n    closeWindow = pyqtSignal(str)\n\n    def setupUi(self, Dialog):\n        Dialog.setObjectName(\"Dialog\")\n        Dialog.resize(400, 300)\n        icon = QtGui.QIcon()\n        icon.addPixmap(QtGui.QPixmap(\":/icon/wb.ico\"), QtGui.QIcon.Normal, QtGui.QIcon.Off)\n        Dialog.setWindowIcon(icon)\n        Dialog.setWindowFlags(\n            QtCore.Qt.WindowMaximizeButtonHint | QtCore.Qt.WindowMinimizeButtonHint | QtCore.Qt.WindowCloseButtonHint)\n\n        self.Dialog = Dialog\n        self.horizontalLayout = QtWidgets.QHBoxLayout(Dialog)\n        self.horizontalLayout.setObjectName(\"horizontalLayout\")\n        spacerItem = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)\n        self.horizontalLayout.addItem(spacerItem)\n        self.verticalLayout = QtWidgets.QVBoxLayout()\n        self.verticalLayout.setObjectName(\"verticalLayout\")\n        spacerItem1 = QtWidgets.QSpacerItem(20, 40, QtWidgets.QSizePolicy.Minimum, QtWidgets.QSizePolicy.Expanding)\n        self.verticalLayout.addItem(spacerItem1)\n        self.horizontalLayout_2 = QtWidgets.QHBoxLayout()\n        self.horizontalLayout_2.setObjectName(\"horizontalLayout_2\")\n        self.label = QtWidgets.QLabel(Dialog)\n        self.label.setObjectName(\"label\")\n        self.horizontalLayout_2.addWidget(self.label)\n        self.lineEdit = QtWidgets.QLineEdit(Dialog)\n        self.lineEdit.setObjectName(\"lineEdit\")\n        self.horizontalLayout_2.addWidget(self.lineEdit)\n        self.verticalLayout.addLayout(self.horizontalLayout_2)\n        self.horizontalLayout_3 = QtWidgets.QHBoxLayout()\n        self.horizontalLayout_3.setObjectName(\"horizontalLayout_3\")\n        self.label_2 = QtWidgets.QLabel(Dialog)\n        self.label_2.setObjectName(\"label_2\")\n        self.horizontalLayout_3.addWidget(self.label_2)\n        self.lineEdit_2 = QtWidgets.QLineEdit(Dialog)\n        self.lineEdit_2.setObjectName(\"lineEdit_2\")\n        self.horizontalLayout_3.addWidget(self.lineEdit_2)\n        self.verticalLayout.addLayout(self.horizontalLayout_3)\n        self.horizontalLayout_5 = QtWidgets.QHBoxLayout()\n        self.horizontalLayout_5.setObjectName(\"horizontalLayout_5\")\n        self.label_3 = QtWidgets.QLabel(Dialog)\n        self.label_3.setObjectName(\"label_3\")\n        self.horizontalLayout_5.addWidget(self.label_3)\n        self.lineEdit_3 = QtWidgets.QLineEdit(Dialog)\n        self.lineEdit_3.setObjectName(\"lineEdit_3\")\n        self.horizontalLayout_5.addWidget(self.lineEdit_3)\n        self.verticalLayout.addLayout(self.horizontalLayout_5)\n        self.horizontalLayout_4 = QtWidgets.QHBoxLayout()\n        self.horizontalLayout_4.setObjectName(\"horizontalLayout_4\")\n        spacerItem2 = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)\n        self.horizontalLayout_4.addItem(spacerItem2)\n        self.pushButton = QtWidgets.QPushButton(Dialog)\n        self.pushButton.setObjectName(\"pushButton\")\n        self.horizontalLayout_4.addWidget(self.pushButton, 0, QtCore.Qt.AlignHCenter)\n        spacerItem3 = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)\n        self.horizontalLayout_4.addItem(spacerItem3)\n        self.verticalLayout.addLayout(self.horizontalLayout_4)\n        spacerItem4 = QtWidgets.QSpacerItem(20, 40, QtWidgets.QSizePolicy.Minimum, QtWidgets.QSizePolicy.Expanding)\n        self.verticalLayout.addItem(spacerItem4)\n        self.horizontalLayout.addLayout(self.verticalLayout)\n        spacerItem5 = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)\n        self.horizontalLayout.addItem(spacerItem5)\n\n        self.retranslateUi(Dialog)\n        QtCore.QMetaObject.connectSlotsByName(Dialog)\n\n\n    def retranslateUi(self, Dialog):\n        _translate = QtCore.QCoreApplication.translate\n        Dialog.setWindowTitle(_translate(\"Dialog\", \"注册\"))\n        self.label.setText(_translate(\"Dialog\", \"用户名：\"))\n        self.label_2.setText(_translate(\"Dialog\", \"密  码：\"))\n        self.label_3.setText(_translate(\"Dialog\", \"确  认：\"))\n        self.pushButton.setText(_translate(\"Dialog\", \"注册\"))\n\n        self.pushButton.clicked.connect(self.sign_in)\n\n    def sign_in(self):\n        self.SQL = connectData.sql()\n        if self.lineEdit_2.text() == self.lineEdit_3.text():\n            if self.SQL.insert_user(self.lineEdit.text(),self.lineEdit_2.text()):\n                self.closeWindow.emit(str(self.lineEdit.text()))\n                self.SQL.close()\n                self.Dialog.close()\n            else:\n                QtWidgets.QMessageBox.about(self.Dialog,'提示','用户已存在！')\n        else:\n            QtWidgets.QMessageBox.about(self.Dialog,'提示','请确认密码！')\n```\n\n添加修改密码界面\n\n```python\n# -*- coding: utf-8 -*-\n\n# Form implementation generated from reading ui file 'password.ui'\n#\n# Created by: PyQt5 UI code generator 5.10.1\n#\n# WARNING! All changes made in this file will be lost!\n\nfrom PyQt5 import QtCore, QtGui, QtWidgets\nfrom PyQt5.QtCore import pyqtSignal\nfrom PyQt5.QtWidgets import *\nimport connectData\nimport background_rc\nclass Ui_Dialog(QDialog):\n    closeWindow = pyqtSignal()\n\n    def __init__(self, user,application = '',name = '',password = '',time_str = '',update = False):\n        super(QDialog, self).__init__()\n\n        self.user = user\n        self.application = application\n        self.name = name\n        self.password = password\n        self.update_tag = update\n        self.time_str = time_str\n        self.setupUi(self)\n\n    def setupUi(self, Dialog):\n        Dialog.setObjectName(\"Dialog\")\n        Dialog.resize(320, 220)\n        icon = QtGui.QIcon()\n        icon.addPixmap(QtGui.QPixmap(\":/icon/wb.ico\"), QtGui.QIcon.Normal, QtGui.QIcon.Off)\n        Dialog.setWindowIcon(icon)\n        self.setWindowFlags(\n            QtCore.Qt.WindowMaximizeButtonHint | QtCore.Qt.WindowMinimizeButtonHint | QtCore.Qt.WindowCloseButtonHint)\n\n        self.Dialog = Dialog\n        self.horizontalLayout_4 = QtWidgets.QHBoxLayout(Dialog)\n        self.horizontalLayout_4.setObjectName(\"horizontalLayout_4\")\n        spacerItem = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)\n        self.horizontalLayout_4.addItem(spacerItem)\n        self.verticalLayout = QtWidgets.QVBoxLayout()\n        self.verticalLayout.setObjectName(\"verticalLayout\")\n        spacerItem1 = QtWidgets.QSpacerItem(20, 40, QtWidgets.QSizePolicy.Minimum, QtWidgets.QSizePolicy.Expanding)\n        self.verticalLayout.addItem(spacerItem1)\n        self.horizontalLayout = QtWidgets.QHBoxLayout()\n        self.horizontalLayout.setObjectName(\"horizontalLayout\")\n        self.label = QtWidgets.QLabel(Dialog)\n        self.label.setObjectName(\"label\")\n        self.horizontalLayout.addWidget(self.label)\n        self.lineEdit = QtWidgets.QLineEdit(Dialog)\n        self.lineEdit.setObjectName(\"lineEdit\")\n        self.horizontalLayout.addWidget(self.lineEdit)\n        self.verticalLayout.addLayout(self.horizontalLayout)\n        self.horizontalLayout_2 = QtWidgets.QHBoxLayout()\n        self.horizontalLayout_2.setObjectName(\"horizontalLayout_2\")\n        self.label_2 = QtWidgets.QLabel(Dialog)\n        self.label_2.setObjectName(\"label_2\")\n        self.horizontalLayout_2.addWidget(self.label_2)\n        self.lineEdit_2 = QtWidgets.QLineEdit(Dialog)\n        self.lineEdit_2.setObjectName(\"lineEdit_2\")\n        self.horizontalLayout_2.addWidget(self.lineEdit_2)\n        self.verticalLayout.addLayout(self.horizontalLayout_2)\n        self.horizontalLayout_3 = QtWidgets.QHBoxLayout()\n        self.horizontalLayout_3.setObjectName(\"horizontalLayout_3\")\n        self.label_3 = QtWidgets.QLabel(Dialog)\n        self.label_3.setObjectName(\"label_3\")\n        self.horizontalLayout_3.addWidget(self.label_3)\n        self.lineEdit_3 = QtWidgets.QLineEdit(Dialog)\n        self.lineEdit_3.setObjectName(\"lineEdit_3\")\n        self.horizontalLayout_3.addWidget(self.lineEdit_3)\n        self.verticalLayout.addLayout(self.horizontalLayout_3)\n        self.horizontalLayout_5 = QtWidgets.QHBoxLayout()\n        self.horizontalLayout_5.setObjectName(\"horizontalLayout_5\")\n        self.verticalLayout.addLayout(self.horizontalLayout_5)\n        self.pushButton = QtWidgets.QPushButton(Dialog)\n        self.pushButton.setObjectName(\"pushButton\")\n        self.verticalLayout.addWidget(self.pushButton, 0, QtCore.Qt.AlignHCenter)\n        spacerItem2 = QtWidgets.QSpacerItem(20, 40, QtWidgets.QSizePolicy.Minimum, QtWidgets.QSizePolicy.Expanding)\n        self.verticalLayout.addItem(spacerItem2)\n        self.horizontalLayout_4.addLayout(self.verticalLayout)\n        spacerItem3 = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)\n        self.horizontalLayout_4.addItem(spacerItem3)\n\n        self.retranslateUi(Dialog)\n        QtCore.QMetaObject.connectSlotsByName(Dialog)\n\n    def retranslateUi(self, Dialog):\n        _translate = QtCore.QCoreApplication.translate\n        Dialog.setWindowTitle(_translate(\"Dialog\", \"密码\"))\n        self.label.setText(_translate(\"Dialog\", \"应用名称：\"))\n        self.label_2.setText(_translate(\"Dialog\", \"用 户 名：\"))\n        self.label_3.setText(_translate(\"Dialog\", \"密    码：\"))\n        self.pushButton.setText(_translate(\"Dialog\", \"确定\"))\n        if self.update_tag:\n            self.lineEdit.setDisabled(True)\n            self.lineEdit_2.setDisabled(True)\n\n\n        self.lineEdit.setText(self.application)\n        self.lineEdit_2.setText(self.name)\n        self.lineEdit_3.setText(self.password)\n\n        self.pushButton.clicked.connect(self.add_password)\n        self.SQL = connectData.sql()\n\n    def add_password(self):\n        if self.update_tag:\n\n            if self.SQL.update_passwd(self.lineEdit_3.text(),self.lineEdit.text(),self.time_str,self.user):\n                self.SQL.close()\n                self.closeWindow.emit()\n                self.Dialog.close()\n            else:\n                QtWidgets.QMessageBox.about(self, '提示', '错误！')\n                # self.Dialog.close()\n        else:\n\n            if self.SQL.insert_passwd(self.lineEdit.text(),self.lineEdit_2.text(),self.lineEdit_3.text(),self.user):\n                self.SQL.close()\n                self.closeWindow.emit()\n                self.Dialog.close()\n            else:\n                QtWidgets.QMessageBox.about(self, '提示', '错误！')\n```\n\n查询界面\n\n```python\n# -*- coding: utf-8 -*-\n\n# Form implementation generated from reading ui file 'search.ui'\n#\n# Created by: PyQt5 UI code generator 5.10.1\n#\n# WARNING! All changes made in this file will be lost!\n\nfrom PyQt5 import QtCore, QtGui, QtWidgets\nfrom PyQt5.QtCore import pyqtSignal\nfrom PyQt5.QtWidgets import *\nimport background_rc\n\n\nclass Ui_Dialog(QDialog):\n    closeWindow = pyqtSignal(str)\n    def __init__(self,search_str):\n        super(QDialog, self).__init__()\n        self.search_str = search_str\n        self.setupUi(self)\n\n    def setupUi(self, Dialog):\n        Dialog.setObjectName(\"Dialog\")\n        Dialog.resize(300, 150)\n        icon = QtGui.QIcon()\n        icon.addPixmap(QtGui.QPixmap(\":/icon/wb.ico\"), QtGui.QIcon.Normal, QtGui.QIcon.Off)\n        Dialog.setWindowIcon(icon)\n        self.setWindowFlags(\n            QtCore.Qt.WindowMaximizeButtonHint | QtCore.Qt.WindowMinimizeButtonHint | QtCore.Qt.WindowCloseButtonHint)\n\n        self.horizontalLayout_3 = QtWidgets.QHBoxLayout(Dialog)\n        self.horizontalLayout_3.setObjectName(\"horizontalLayout_3\")\n        spacerItem = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)\n        self.horizontalLayout_3.addItem(spacerItem)\n        self.verticalLayout = QtWidgets.QVBoxLayout()\n        self.verticalLayout.setObjectName(\"verticalLayout\")\n        spacerItem1 = QtWidgets.QSpacerItem(20, 40, QtWidgets.QSizePolicy.Minimum, QtWidgets.QSizePolicy.Expanding)\n        self.verticalLayout.addItem(spacerItem1)\n        self.horizontalLayout = QtWidgets.QHBoxLayout()\n        self.horizontalLayout.setObjectName(\"horizontalLayout\")\n        self.label = QtWidgets.QLabel(Dialog)\n        self.label.setObjectName(\"label\")\n        self.horizontalLayout.addWidget(self.label)\n        self.lineEdit = QtWidgets.QLineEdit(Dialog)\n        self.lineEdit.setObjectName(\"lineEdit\")\n        self.horizontalLayout.addWidget(self.lineEdit)\n        self.verticalLayout.addLayout(self.horizontalLayout)\n        spacerItem2 = QtWidgets.QSpacerItem(20, 40, QtWidgets.QSizePolicy.Minimum, QtWidgets.QSizePolicy.Expanding)\n        self.verticalLayout.addItem(spacerItem2)\n        self.horizontalLayout_2 = QtWidgets.QHBoxLayout()\n        self.horizontalLayout_2.setObjectName(\"horizontalLayout_2\")\n        self.pushButton = QtWidgets.QPushButton(Dialog)\n        self.pushButton.setObjectName(\"pushButton\")\n        self.horizontalLayout_2.addWidget(self.pushButton)\n        self.pushButton_2 = QtWidgets.QPushButton(Dialog)\n        self.pushButton_2.setObjectName(\"pushButton_2\")\n        self.horizontalLayout_2.addWidget(self.pushButton_2)\n        self.verticalLayout.addLayout(self.horizontalLayout_2)\n        spacerItem3 = QtWidgets.QSpacerItem(20, 40, QtWidgets.QSizePolicy.Minimum, QtWidgets.QSizePolicy.Expanding)\n        self.verticalLayout.addItem(spacerItem3)\n        self.horizontalLayout_3.addLayout(self.verticalLayout)\n        spacerItem4 = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)\n        self.horizontalLayout_3.addItem(spacerItem4)\n\n        self.retranslateUi(Dialog)\n        QtCore.QMetaObject.connectSlotsByName(Dialog)\n\n    def retranslateUi(self, Dialog):\n        _translate = QtCore.QCoreApplication.translate\n        Dialog.setWindowTitle(_translate(\"Dialog\", \"查找\"))\n        self.label.setText(_translate(\"Dialog\", \"查找：\"))\n        self.pushButton.setText(_translate(\"Dialog\", \"确定\"))\n        self.pushButton_2.setText(_translate(\"Dialog\", \"取消\"))\n\n        self.lineEdit.setText(self.search_str)\n        self.pushButton.clicked.connect(self.search_app)\n        self.pushButton_2.clicked.connect(self.cancel_search)\n\n    def search_app(self):\n        self.closeWindow.emit(self.lineEdit.text())\n        self.close()\n\n    def cancel_search(self):\n        self.closeWindow.emit('')\n        self.close()\n```\n\n","tags":["PyQt"],"categories":["PyQt"]},{"title":"PyQt5实现桌面小宠物","url":"/article/a0a0fd82.html","content":"\n要实现一个桌面宠物，你需要使用PyQt5创建一个 GUI 程序，然后在主循环中更新宠物的状态。\n\n以下是一个简单的示例，展示如何使用PyQt5创建一个简单的宠物窗口，该窗口在屏幕上可以随鼠标移动。\n\n首先，你需要安装PyQt5。你可以使用 pip 来安装：\n\n```python pip install PyQt5\npip install PyQt5\n```\n\n然后，创建一个 Python 文件（例如 pet_cat.py），并输入以下代码：\n\n```python\n'''桌面宠物'''\nclass DesktopPet(QWidget):\n\tdef __init__(self, parent=None, **kwargs):\n\t\tsuper(DesktopPet, self).__init__(parent)\n\t\t# 初始化\n\t\tself.setWindowFlags(Qt.FramelessWindowHint|Qt.WindowStaysOnTopHint|Qt.SubWindow)\n\t\tself.setAutoFillBackground(False)\n\t\tself.setAttribute(Qt.WA_TranslucentBackground, True)\n\t\tself.repaint()\n\t\t# 随机导入一个宠物\n\t\tself.pet_images, iconpath = self.randomLoadPetImages()\n\t\t# 设置退出选项\n\t\tquit_action = QAction('退出', self, triggered=self.quit)\n\t\tquit_action.setIcon(QIcon(iconpath))\n\t\tself.tray_icon_menu = QMenu(self)\n\t\tself.tray_icon_menu.addAction(quit_action)\n\t\tself.tray_icon = QSystemTrayIcon(self)\n\t\tself.tray_icon.setIcon(QIcon(iconpath))\n\t\tself.tray_icon.setContextMenu(self.tray_icon_menu)\n\t\tself.tray_icon.show()\n\t\t# 当前显示的图片\n\t\tself.image = QLabel(self)\n\t\tself.setImage(self.pet_images[0][0])\n\t\t# 是否跟随鼠标\n\t\tself.is_follow_mouse = False\n\t\t# 宠物拖拽时避免鼠标直接跳到左上角\n\t\tself.mouse_drag_pos = self.pos()\n\t\t# 显示\n\t\tself.resize(128, 128)\n\t\tself.randomPosition()\n\t\tself.show()\n\t\t# 宠物动画动作执行所需的一些变量\n\t\tself.is_running_action = False\n\t\tself.action_images = []\n\t\tself.action_pointer = 0\n\t\tself.action_max_len = 0\n\t\t# 每隔一段时间做个动作\n\t\tself.timer = QTimer()\n\t\tself.timer.timeout.connect(self.randomAct)\n\t\tself.timer.start(100)\n\t'''随机做一个动作'''\n\tdef randomAct(self):\n\t\tif not self.is_running_action:\n\t\t\tself.is_running_action = True\n\t\t\tself.action_images = random.choice(self.pet_images)\n\t\t\tself.action_max_len = len(self.action_images)\n\t\t\tself.action_pointer = 0\n\t\tself.runFrame()\n\n\t'''完成动作的每一帧'''\n\tdef runFrame(self):\n\t\tif self.action_pointer == self.action_max_len:\n\t\t\tself.is_running_action = False\n\t\t\tself.action_pointer = 0\n\t\t\tself.action_max_len = 0\n\n\t\tself.setImage(self.action_images[self.action_pointer])\n\t\tself.action_pointer += 1\n\t'''设置当前显示的图片'''\n\tdef setImage(self, image):\n\t\tself.image.setPixmap(QPixmap.fromImage(image))\n\t'''随机导入一个桌面宠物的所有图片'''\n\tdef randomLoadPetImages(self):\n\t\tpet_name = random.choice(list(cfg.PET_ACTIONS_MAP.keys()))\n\n\t\tactions = cfg.PET_ACTIONS_MAP[pet_name]\n\t\tpet_images = []\n\t\tfor action in actions:\n\t\t\tpet_images.append([self.loadImage(os.path.join(cfg.ROOT_DIR, pet_name, 'shime'+item+'.png')) for item in action])\n\t\ticonpath = os.path.join(cfg.ROOT_DIR, pet_name, 'shime1.png')\n\t\treturn pet_images, iconpath\n\t'''鼠标左键按下时, 宠物将和鼠标位置绑定'''\n\tdef mousePressEvent(self, event):\n\t\tif event.button() == Qt.LeftButton:\n\t\t\tself.is_follow_mouse = True\n\t\t\tself.mouse_drag_pos = event.globalPos() - self.pos()\n\t\t\tevent.accept()\n\t\t\tself.setCursor(QCursor(Qt.OpenHandCursor))\n\t'''鼠标移动, 则宠物也移动'''\n\tdef mouseMoveEvent(self, event):\n\t\tif Qt.LeftButton and self.is_follow_mouse:\n\t\t\tself.move(event.globalPos() - self.mouse_drag_pos)\n\t\t\tevent.accept()\n\t'''鼠标释放时, 取消绑定'''\n\tdef mouseReleaseEvent(self, event):\n\t\tself.is_follow_mouse = False\n\t\tself.setCursor(QCursor(Qt.ArrowCursor))\n\t'''导入图像'''\n\tdef loadImage(self, imagepath):\n\t\timage = QImage()\n\t\timage.load(imagepath)\n\t\treturn image\n\t'''随机到一个屏幕上的某个位置'''\n\tdef randomPosition(self):\n\t\tscreen_geo = QDesktopWidget().screenGeometry()\n\t\tpet_geo = self.geometry()\n\t\twidth = (screen_geo.width() - pet_geo.width()) * random.random()\n\t\theight = (screen_geo.height() - pet_geo.height()) * random.random()\n\t\tself.move(width, height)\n\t'''退出程序'''\n\tdef quit(self):\n\t\tself.close()\n\t\tsys.exit()\n\n\n'''run'''\nif __name__ == '__main__':\n\tapp = QApplication(sys.argv)\n\tpet = DesktopPet()\n\tsys.exit(app.exec_())\n\n```\n\n这个程序会创建一个包含个宠物的窗口，宠物会100毫秒随机移动一次。请注意，你需要有一个多组图片等文件夹，并且它需要和这个 Python 文件在同一目录下。你可以使用任何你喜欢的图片动画\n\n![请添加图片描述](assets/8d86d633e384ae90e5728a23642bcc49.gif)\n","tags":["pyqt"],"categories":["PyQt"]},{"title":"QSS (Qt Style Sheet) 样式设定","url":"/article/bf8fd827.html","content":"QSS 是 PyQt6 裡用來設定元件樣式的樣式表 ( Qt Style Sheet )，使用方法和網頁 CSS 非常類似，雖然 QSS 沒有辦法像網頁 CSS 般的完整，但已經可以滿足大部分的樣式設計需求，這篇教學會介紹如何使用 QSS 設定元件樣式。<!-- more -->\n\n\n## 開始使用 QSS\n\n在 PyQt6 裡建立元件之後，元件會具有一個 setStyleSheet() 方法，在方法裡撰寫樣式，就會修改原本元件的樣式，例如下方的程式碼執行後，就會將 QLabel 的文字設定為 30px 的大小和紅色 ( 如果遇到多個樣式，可以使用三個單引號的方式撰寫 )。\n\n```py\nfrom PyQt6 import QtWidgets\nimport sys\napp = QtWidgets.QApplication(sys.argv)\n\nForm = QtWidgets.QWidget()\nForm.setWindowTitle('oxxo.studio')\nForm.resize(300, 200)\n\nlabel = QtWidgets.QLabel(Form)\nlabel.setGeometry(10,10,150,100)\nlabel.setText('HELLO')\nlabel.setStyleSheet('''\n        font-size:30px;\n        color:red;\n    ''')\n\nForm.show()\nsys.exit(app.exec())\n```\n\nclass 寫法：\n\n```py\nfrom PyQt6 import QtWidgets\nimport sys\n\nclass MyWidget(QtWidgets.QWidget):\n    def __init__(self):\n        super().__init__()\n        self.setObjectName(\"MainWindow\")\n        self.setWindowTitle('oxxo.studio')\n        self.resize(300, 200)\n        self.ui()\n\n    def ui(self):\n        self.label = QtWidgets.QLabel(self)\n        self.label.setGeometry(10,10,150,100)\n        self.label.setText('HELLO')\n        self.label.setStyleSheet('''\n                font-size:30px;\n                color:red;\n            ''')\n\nif __name__ == '__main__':\n    app = QtWidgets.QApplication(sys.argv)\n    Form = MyWidget()\n    Form.show()\n    sys.exit(app.exec())\n```\n\n![PyQt6 教學 - QSS ( Qt Style Sheet ) 樣式設定](assets/qss-01-1728890756438-3.webp)\n\n## 常用樣式設定\n\n下方列出一些常用的樣式 ( 完整屬性參考「[List of Properties](https://doc.qt.io/qt-6/stylesheet-reference.html#list-of-properties)」)。\n\n| 樣式             | 說明                                                     |\n| ---------------- | -------------------------------------------------------- |\n| font-size        | 文字大小，單位 px。                                      |\n| color            | 文字顏色，可使用顏色名稱或色碼，例如 #f00 為紅色。       |\n| font-family      | 字體。                                                   |\n| font-weight      | 字體粗細，可設定 normal、bold。                          |\n| font-style       | 文字樣式，可設定 normal、italic、oblique。               |\n| spacing          | 文字間距，不用單位。                                     |\n| text-align       | 文字對齊方式，可設定 left、center、right。               |\n| height           | 元件高度，單位 px。                                      |\n| width            | 元件寬度，單位 px。                                      |\n| margin           | 元件外邊距，單位 px。                                    |\n| padding          | 元件內邊距，單位 px。                                    |\n| opacity          | 透明度，範圍 0～255，0 為透明。                          |\n| background       | 背景色或背景圖，可使用顏色名稱或色碼，例如 #f00 為紅色。 |\n| background-color | 背景色，可使用顏色名稱或色碼，例如 #f00 為紅色。         |\n| border           | 邊框，有三個值分別是 ( 粗細、樣式、顏色 )。              |\n| border-width     | 邊框寬度，單位 px。                                      |\n| border-style     | 邊框樣式，可設定 solid、dashed、dotted。                 |\n| border-color     | 邊框顏色，可使用顏色名稱或色碼，例如 #f00 為紅色。       |\n| border-radius    | 邊框是否圓角，圓角半徑單位 px。                          |\n\n樣式裡的 padding、margin、border-width、border-style、border-color 的簡單設定規則如下 ( 以 padding 為例 )：\n\n| 寫法                    | 說明                             |\n| ----------------------- | -------------------------------- |\n| padding:1px             | 上下左右都 1px。                 |\n| padding:1px 2px         | 上下 1px，左右 2px。             |\n| padding:1px 2px 3px     | 上 1px，左右 2px，下 3px。       |\n| padding:1px 2px 3px 4px | 上 1px，右 2px，下 3px，左 4px。 |\n\n如果不要一次設定 padding、margin、border、border-width、border-style、border-color，也可以加上方向的名稱單獨設定 ( 以 padding 為例 )：\n\n| 樣式           | 說明                      |\n| -------------- | ------------------------- |\n| padding-top    | 元件上方內邊距，單位 px。 |\n| padding-right  | 元件右側內邊距，單位 px。 |\n| padding-bottom | 元件下方內邊距，單位 px。 |\n| padding-left   | 元件左側內邊距，單位 px。 |\n\n## 偽狀態設定\n\n除了設定主要樣式，QSS 也像 CSS 一樣可以設定「偽狀態」( Pseudo-States )，偽類的意思是「觸發了某些事件或進行某些行為後，才會出現的狀態」 ( 偽類會使用一個冒號開頭 )，例如「滑鼠移到按鈕上」的行為，對應的偽狀態就是「:hover」，下方列出一些常見的偽狀態 ( 完整偽狀態參考「[List of Pseudo-States](https://doc.qt.io/qt-6/stylesheet-reference.html#list-of-pseudo-states)」 )：\n\n| 偽狀態    | 說明                          |\n| --------- | ----------------------------- |\n| :hover    | 滑鼠移上去。                  |\n| :active   | 發生行為 ( 通常可能是點擊 )。 |\n| :focus    | 成為焦點 ( 通常是點擊之後 )。 |\n| :checked  | 被勾選。                      |\n| :disabled | 停用狀態。                    |\n| :enabled  | 啟用狀態。                    |\n| :selected | 被選取。                      |\n\n以下方的程式碼為例，執行後會設定 QPushButton 的 :hover 樣式 ( 注意需要額外使用 QPushButton:hover )，當滑鼠移動到按鈕上方時，按鈕的邊框會變粗，背景色會變成黃色。\n\n```py\nfrom PyQt6 import QtWidgets\nimport sys\napp = QtWidgets.QApplication(sys.argv)\n\nForm = QtWidgets.QWidget()\nForm.setWindowTitle('oxxo.studio')\nForm.resize(300, 200)\n\nbtn = QtWidgets.QPushButton(Form)\nbtn.setGeometry(10,10,150,100)\nbtn.setText('HELLO')\nbtn.setStyleSheet('''\n    QPushButton{\n        border:1px solid #000;\n        background:#fff;\n    }\n    QPushButton:hover{\n        border:5px solid #000;\n        background:#ff0;\n    }\n''')\n\nForm.show()\nsys.exit(app.exec())\n```\n\nclass 寫法：\n\n```py\nfrom PyQt6 import QtWidgets\nimport sys\n\nclass MyWidget(QtWidgets.QWidget):\n    def __init__(self):\n        super().__init__()\n        self.setObjectName(\"MainWindow\")\n        self.setWindowTitle('oxxo.studio')\n        self.resize(300, 200)\n        self.ui()\n\n    def ui(self):\n        self.btn = QtWidgets.QPushButton(self)\n        self.btn.setGeometry(10,10,150,100)\n        self.btn.setText('HELLO')\n        self.btn.setStyleSheet('''\n            QPushButton{\n                border:1px solid #000;\n                background:#fff;\n            }\n            QPushButton:hover{\n                border:5px solid #000;\n                background:#ff0;\n            }\n        ''')\n\nif __name__ == '__main__':\n    app = QtWidgets.QApplication(sys.argv)\n    Form = MyWidget()\n    Form.show()\n    sys.exit(app.exec())\n```\n\n![PyQt6 教學 - QSS ( Qt Style Sheet ) 樣式設定 - 偽狀態設定](assets/qss-02.webp)\n\n## 子控制項設定\n\n在 PyQt6 裡，有些元件可能會包含其他的子控制項 ( 例如 QListWidget 列表選擇框會包含選項的子元件 )，這些子元件也可以使用對應的 QSS 語法設定樣式 ( 子控制項會使用兩個冒號開頭 )，下方列出一些常見的子元件設定方法 ( 完整子元件設定參考「[List of Sub-Controls](https://doc.qt.io/qt-6/stylesheet-reference.html#list-of-sub-controls)」 )：\n\n| 子控制項   | 說明             |\n| ---------- | ---------------- |\n| ::chunk    | 進度條進度。     |\n| ::item     | 列表選擇框項目。 |\n| ::groove   | 滑桿底線。       |\n| ::handle   | 滑桿拉霸。       |\n| ::sub-page | 滑桿調整線。     |\n\n下方的程式碼執行後，會將 QSlider 數值調整滑桿更改為黑底線與紅色調整桿。\n\n```py\nfrom PyQt6 import QtWidgets, QtCore\nimport sys\napp = QtWidgets.QApplication(sys.argv)\n\nForm = QtWidgets.QWidget()\nForm.setWindowTitle('oxxo.studio')\nForm.resize(300, 200)\n\nslider = QtWidgets.QSlider(Form)\nslider.setGeometry(20,20,200,30)\nslider.setOrientation(QtCore.Qt.Orientation.Horizontal)\nslider.setStyleSheet('''\n    QSlider {\n        border-radius: 10px;\n    }\n    QSlider::groove:horizontal {\n        height: 5px;\n        background: #000;\n    }\n    QSlider::handle:horizontal{\n        background: #f00;\n        width: 16px;\n        height: 16px;\n        margin:-6px 0;\n        border-radius:8px;\n    }\n    QSlider::sub-page:horizontal{\n        background:#f90;\n    }\n''')\n\nForm.show()\nsys.exit(app.exec())\n```\n\nclass 寫法：\n\n```py\nfrom PyQt6 import QtWidgets, QtCore\nimport sys\n\nclass MyWidget(QtWidgets.QWidget):\n    def __init__(self):\n        super().__init__()\n        self.setObjectName(\"MainWindow\")\n        self.setWindowTitle('oxxo.studio')\n        self.resize(300, 200)\n        self.ui()\n\n    def ui(self):\n        self.slider = QtWidgets.QSlider(self)\n        self.slider.setGeometry(20,20,200,30)\n        self.slider.setOrientation(QtCore.Qt.Orientation.Horizontal)\n        self.slider.setStyleSheet('''\n            QSlider {\n                border-radius: 10px;\n            }\n            QSlider::groove:horizontal {\n                height: 5px;\n                background: #000;\n            }\n            QSlider::handle:horizontal{\n                background: #f00;\n                width: 16px;\n                height: 16px;\n                margin:-6px 0;\n                border-radius:8px;\n            }\n            QSlider::sub-page:horizontal{\n                background:#f90;\n            }\n        ''')\n\nif __name__ == '__main__':\n    app = QtWidgets.QApplication(sys.argv)\n    Form = MyWidget()\n    Form.show()\n    sys.exit(app.exec())\n```\n\n![PyQt6 教學 - QSS ( Qt Style Sheet ) 樣式設定 - 子控制項設定](assets/qss-03.webp)\n\n## 注意事項\n\n雖然使用 QSS 可以很方便的修改樣式，但仍然有些小細節需要注意，例如 QPushButton，一旦設定了「邊框」，則必須要一併設定背景色和點擊樣式，不然其他樣式就會被清空，類似這種狀況可以參考「[Qt Style Sheets Reference](https://doc.qt.io/qt-6/stylesheet-reference.html)」裡有特別標注「粉紅色背景」的說明。\n\n下方的程式碼執行後，會發現本來按鈕的點擊效果，因為設定了 border 樣式而消失了。\n\n```py\nfrom PyQt6 import QtWidgets\nimport sys\napp = QtWidgets.QApplication(sys.argv)\n\nForm = QtWidgets.QWidget()\nForm.setWindowTitle('oxxo.studio')\nForm.resize(300, 200)\n\nbtn = QtWidgets.QPushButton(Form)\nbtn.setGeometry(10,10,150,100)\nbtn.setText('HELLO')\nbtn.setStyleSheet('border:1px solid #000')\n\nForm.show()\nsys.exit(app.exec())\n```\n\nclass 寫法：\n\n```py\nfrom PyQt6 import QtWidgets, QtCore\nimport sys\n\nclass MyWidget(QtWidgets.QWidget):\n    def __init__(self):\n        super().__init__()\n        self.setObjectName(\"MainWindow\")\n        self.setWindowTitle('oxxo.studio')\n        self.resize(300, 200)\n        self.ui()\n\n    def ui(self):\n        self.btn = QtWidgets.QPushButton(self)\n        self.btn.setGeometry(10,10,150,100)\n        self.btn.setText('HELLO')\n        self.btn.setStyleSheet('border:1px solid #000')\n\nif __name__ == '__main__':\n    app = QtWidgets.QApplication(sys.argv)\n    Form = MyWidget()\n    Form.show()\n    sys.exit(app.exec())\n```\n\n![PyQt6 教學 - QSS ( Qt Style Sheet ) 樣式設定 - 注意事項](assets/qss-04.webp)\n\n## 參考資料\n\n完整 QSS 說明可以參考：[Qt Style Sheets Reference](https://doc.qt.io/qt-6/stylesheet-reference.html)","tags":["PyQt","Qss"],"categories":["PyQt"]},{"title":"pyqt5 无边框界面","url":"/article/0.html","content":"\n## pyqt5 无边框界面\n\n```python\nfrom PyQt5.QtWidgets import QWidget, QLabel, QPushButton, QVBoxLayout\nfrom PyQt5.QtCore import Qt, QPoint\nfrom PyQt5.QtGui import QFont, QCursor\n\n\nclass QTitleLabel(QLabel):\n    \"\"\"\n    新建标题栏标签类\n    \"\"\"\n\n    def __init__(self, *args):\n        super(QTitleLabel, self).__init__(*args)\n        self.setAlignment(Qt.AlignLeft | Qt.AlignVCenter)\n        self.setFixedHeight(30)\n\n\nclass QTitleButton(QPushButton):\n    \"\"\"\n    新建标题栏按钮类\n    \"\"\"\n\n    def __init__(self, *args):\n        super(QTitleButton, self).__init__(*args)\n        self.setFont(QFont(\"Webdings\"))  # 特殊字体以不借助图片实现最小化最大化和关闭按钮\n        self.setFixedWidth(40)\n\n\nclass QUnFrameWindow(QWidget):\n    \"\"\"\n    无边框窗口类\n    \"\"\"\n\n    def __init__(self):\n        super(QUnFrameWindow, self).__init__(None, Qt.FramelessWindowHint)  # 设置为顶级窗口，无边框\n        self._padding = 5  # 设置边界宽度为5\n        self.initTitleLabel()  # 安放标题栏标签\n        self.setWindowTitle = self._setTitleText(self.setWindowTitle)  # 用装饰器将设置WindowTitle名字函数共享到标题栏标签上\n        self.setWindowTitle(\"UnFrameWindow\")\n        self.initLayout()  # 设置框架布局\n        self.setMinimumWidth(250)\n        self.setMouseTracking(True)  # 设置widget鼠标跟踪\n        self.initDrag()  # 设置鼠标跟踪判断默认值\n\n    def initDrag(self):\n        # 设置鼠标跟踪判断扳机默认值\n        self._move_drag = False\n        self._corner_drag = False\n        self._bottom_drag = False\n        self._right_drag = False\n\n    def initTitleLabel(self):\n        # 安放标题栏标签\n        self._TitleLabel = QTitleLabel(self)\n        self._TitleLabel.setMouseTracking(True)  # 设置标题栏标签鼠标跟踪（如不设，则标题栏内在widget上层，无法实现跟踪）\n        self._TitleLabel.setIndent(10)  # 设置标题栏文本缩进\n        self._TitleLabel.move(0, 0)  # 标题栏安放到左上角\n\n    def initLayout(self):\n        # 设置框架布局\n        self._MainLayout = QVBoxLayout()\n        self._MainLayout.setSpacing(0)\n        self._MainLayout.addWidget(QLabel(), Qt.AlignLeft)  # 顶一个QLabel在竖放框架第一行，以免正常内容挤占到标题范围里\n        self._MainLayout.addStretch()\n        self.setLayout(self._MainLayout)\n\n    def addLayout(self, QLayout):\n        # 给widget定义一个addLayout函数，以实现往竖放框架的正确内容区内嵌套Layout框架\n        self._MainLayout.addLayout(QLayout)\n\n    def _setTitleText(self, func):\n        # 设置标题栏标签的装饰器函数\n        def wrapper(*args):\n            self._TitleLabel.setText(*args)\n            return func(*args)\n\n        return wrapper\n\n    def setTitleAlignment(self, alignment):\n        # 给widget定义一个setTitleAlignment函数，以实现标题栏标签的对齐方式设定\n        self._TitleLabel.setAlignment(alignment | Qt.AlignVCenter)\n\n    def setCloseButton(self, bool):\n        # 给widget定义一个setCloseButton函数，为True时设置一个关闭按钮\n        if bool == True:\n            self._CloseButton = QTitleButton(b'\\xef\\x81\\xb2'.decode(\"utf-8\"), self)\n            self._CloseButton.setObjectName(\"CloseButton\")  # 设置按钮的ObjectName以在qss样式表内定义不同的按钮样式\n            self._CloseButton.setToolTip(\"关闭窗口\")\n            self._CloseButton.setMouseTracking(True)  # 设置按钮鼠标跟踪（如不设，则按钮在widget上层，无法实现跟踪）\n            self._CloseButton.setFixedHeight(self._TitleLabel.height())  # 设置按钮高度为标题栏高度\n            self._CloseButton.clicked.connect(self.close)  # 按钮信号连接到关闭窗口的槽函数\n\n    def setMinMaxButtons(self, bool):\n        # 给widget定义一个setMinMaxButtons函数，为True时设置一组最小化最大化按钮\n        if bool == True:\n            self._MinimumButton = QTitleButton(b'\\xef\\x80\\xb0'.decode(\"utf-8\"), self)\n            self._MinimumButton.setObjectName(\"MinMaxButton\")  # 设置按钮的ObjectName以在qss样式表内定义不同的按钮样式\n            self._MinimumButton.setToolTip(\"最小化\")\n            self._MinimumButton.setMouseTracking(True)  # 设置按钮鼠标跟踪（如不设，则按钮在widget上层，无法实现跟踪）\n            self._MinimumButton.setFixedHeight(self._TitleLabel.height())  # 设置按钮高度为标题栏高度\n            self._MinimumButton.clicked.connect(self.showMinimized)  # 按钮信号连接到最小化窗口的槽函数\n            self._MaximumButton = QTitleButton(b'\\xef\\x80\\xb1'.decode(\"utf-8\"), self)\n            self._MaximumButton.setObjectName(\"MinMaxButton\")  # 设置按钮的ObjectName以在qss样式表内定义不同的按钮样式\n            self._MaximumButton.setToolTip(\"最大化\")\n            self._MaximumButton.setMouseTracking(True)  # 设置按钮鼠标跟踪（如不设，则按钮在widget上层，无法实现跟踪）\n            self._MaximumButton.setFixedHeight(self._TitleLabel.height())  # 设置按钮高度为标题栏高度\n            self._MaximumButton.clicked.connect(self._changeNormalButton)  # 按钮信号连接切换到恢复窗口大小按钮函数\n\n    def _changeNormalButton(self):\n        # 切换到恢复窗口大小按钮\n        try:\n            self.showMaximized()  # 先实现窗口最大化\n            self._MaximumButton.setText(b'\\xef\\x80\\xb2'.decode(\"utf-8\"))  # 更改按钮文本\n            self._MaximumButton.setToolTip(\"恢复\")  # 更改按钮提示\n            self._MaximumButton.disconnect()  # 断开原本的信号槽连接\n            self._MaximumButton.clicked.connect(self._changeMaxButton)  # 重新连接信号和槽\n        except:\n            pass\n\n    def _changeMaxButton(self):\n        # 切换到最大化按钮\n        try:\n            self.showNormal()\n            self._MaximumButton.setText(b'\\xef\\x80\\xb1'.decode(\"utf-8\"))\n            self._MaximumButton.setToolTip(\"最大化\")\n            self._MaximumButton.disconnect()\n            self._MaximumButton.clicked.connect(self._changeNormalButton)\n        except:\n            pass\n\n    def resizeEvent(self, QResizeEvent):\n        # 自定义窗口调整大小事件\n        self._TitleLabel.setFixedWidth(self.width())  # 将标题标签始终设为窗口宽度\n        # 分别移动三个按钮到正确的位置\n        try:\n            self._CloseButton.move(self.width() - self._CloseButton.width(), 0)\n        except:\n            pass\n        try:\n            self._MinimumButton.move(self.width() - (self._CloseButton.width() + 1) * 3 + 1, 0)\n        except:\n            pass\n        try:\n            self._MaximumButton.move(self.width() - (self._CloseButton.width() + 1) * 2 + 1, 0)\n        except:\n            pass\n        # 重新调整边界范围以备实现鼠标拖放缩放窗口大小，采用三个列表生成式生成三个列表\n        self._right_rect = [QPoint(x, y) for x in range(self.width() - self._padding, self.width() + 1)\n                            for y in range(1, self.height() - self._padding)]\n        self._bottom_rect = [QPoint(x, y) for x in range(1, self.width() - self._padding)\n                             for y in range(self.height() - self._padding, self.height() + 1)]\n        self._corner_rect = [QPoint(x, y) for x in range(self.width() - self._padding, self.width() + 1)\n                             for y in range(self.height() - self._padding, self.height() + 1)]\n\n    def mousePressEvent(self, event):\n        # 重写鼠标点击的事件\n        if (event.button() == Qt.LeftButton) and (event.pos() in self._corner_rect):\n            # 鼠标左键点击右下角边界区域\n            self._corner_drag = True\n            event.accept()\n        elif (event.button() == Qt.LeftButton) and (event.pos() in self._right_rect):\n            # 鼠标左键点击右侧边界区域\n            self._right_drag = True\n            event.accept()\n        elif (event.button() == Qt.LeftButton) and (event.pos() in self._bottom_rect):\n            # 鼠标左键点击下侧边界区域\n            self._bottom_drag = True\n            event.accept()\n        elif (event.button() == Qt.LeftButton) and (event.y() < self._TitleLabel.height()):\n            # 鼠标左键点击标题栏区域\n            self._move_drag = True\n            self.move_DragPosition = event.globalPos() - self.pos()\n            event.accept()\n\n    def mouseMoveEvent(self, QMouseEvent):\n        # 判断鼠标位置切换鼠标手势\n        if QMouseEvent.pos() in self._corner_rect:\n            self.setCursor(Qt.SizeFDiagCursor)\n        elif QMouseEvent.pos() in self._bottom_rect:\n            self.setCursor(Qt.SizeVerCursor)\n        elif QMouseEvent.pos() in self._right_rect:\n            self.setCursor(Qt.SizeHorCursor)\n        else:\n            self.setCursor(Qt.ArrowCursor)\n        # 当鼠标左键点击不放及满足点击区域的要求后，分别实现不同的窗口调整\n        # 没有定义左方和上方相关的5个方向，主要是因为实现起来不难，但是效果很差，拖放的时候窗口闪烁，再研究研究是否有更好的实现\n        if Qt.LeftButton and self._right_drag:\n            # 右侧调整窗口宽度\n            self.resize(QMouseEvent.pos().x(), self.height())\n            QMouseEvent.accept()\n        elif Qt.LeftButton and self._bottom_drag:\n            # 下侧调整窗口高度\n            self.resize(self.width(), QMouseEvent.pos().y())\n            QMouseEvent.accept()\n        elif Qt.LeftButton and self._corner_drag:\n            # 右下角同时调整高度和宽度\n            self.resize(QMouseEvent.pos().x(), QMouseEvent.pos().y())\n            QMouseEvent.accept()\n        elif Qt.LeftButton and self._move_drag:\n            # 标题栏拖放窗口位置\n            self.move(QMouseEvent.globalPos() - self.move_DragPosition)\n            QMouseEvent.accept()\n\n    def mouseReleaseEvent(self, QMouseEvent):\n        # 鼠标释放后，各扳机复位\n        self._move_drag = False\n        self._corner_drag = False\n        self._bottom_drag = False\n        self._right_drag = False\n\n\nif __name__ == \"__main__\":\n    from PyQt5.QtWidgets import QApplication\n    import sys\n\n    app = QApplication(sys.argv)\n    # app.setStyleSheet(open(\"./UnFrameStyle.qss\").read())\n    window = QUnFrameWindow()\n    window.setCloseButton(True)\n    window.setMinMaxButtons(True)\n    window.show()\n    sys.exit(app.exec_())\n```\n\n## 第二\n\n```python\nfrom PyQt6.QtCore import Qt, QPointF, QPoint\nfrom PyQt6.QtWidgets import QApplication, QMainWindow, QWidget\n \nclass MainWindow(QMainWindow):\n    def __init__(self):\n        super().__init__()\n\n        # 设置窗口无边框\n        self.setWindowFlags(Qt.WindowType.FramelessWindowHint)\n\n        # 创建一个子窗口\n        self.widget = QWidget(self)\n        self.widget.setGeometry(0, 0, 200, 200)\n\n        # 设置子窗口背景颜色\n        self.widget.setStyleSheet(\"background-color: red;\")\n\n        # 记录鼠标按下时的坐标\n        self.mouse_pos = None\n\n    def mousePressEvent(self, event):\n        # 鼠标按下时记录坐标\n        self.mouse_pos = event.globalPosition()\n\n    def mouseMoveEvent(self, event):\n        # 鼠标移动时计算移动距离\n        if self.mouse_pos:\n            diff = event.globalPosition() - self.mouse_pos\n            self.move(self.pos() + diff.toPoint())\n            self.mouse_pos = event.globalPosition()\n\n    def mouseReleaseEvent(self, event):\n        # 鼠标释放时清空坐标\n        self.mouse_pos = None\n\nif __name__ == '__main__':\n    app = QApplication([])\n    window = MainWindow()\n    window.show()\n    app.exec()\n```\n\n## 第三\n\n```python\nimport sys\nfrom PySide6.QtWidgets import *\nfrom PySide6.QtGui import *\nfrom PySide6.QtCore import *\nfrom ui import ui_main_win\n \n# 主窗口\nclass main_win(QWidget):\n\n    def __init__(self,parent = None):\n\n        # 从文件中加载UI定义\n        super(main_win, self).__init__(parent)\n        self.ui = ui_main_win.Ui_Form()\n        self.ui.setupUi(self)\n\n        self.setWindowFlag(Qt.FramelessWindowHint)\t\t#将界面设置为无框\n        self.setAttribute(Qt.WA_TranslucentBackground)\t#将界面属性设置为半透明\n        self.shadow = QGraphicsDropShadowEffect()\t\t#设定一个阴影,半径为 4,颜色为 2, 10, 25,偏移为 0,0\n        self.shadow.setBlurRadius(4)\n        self.shadow.setColor(QColor(2, 10, 25))\n        self.shadow.setOffset(0, 0)\n        self.ui.frame.setGraphicsEffect(self.shadow)\t#为frame设定阴影效果\n\n\n#   --------------------------------------------------移动功能-------------------------------------------------\n \n    def mousePressEvent(self, event):\t\t#鼠标左键按下时获取鼠标坐标\n        if event.button() == Qt.LeftButton:\n            self._move_drag = True\n            self.cursor_win_pos = event.globalPosition() - self.pos()\n            event.accept()\n\n    def mouseMoveEvent(self, event):\t#鼠标在按下左键的情况下移动时,根据坐标移动界面\n        # 移动事件\n        if Qt.LeftButton and self._move_drag:\n            m_Point = event.globalPosition() - self.cursor_win_pos\n            self.move(m_Point.x() ,m_Point.y())\n            event.accept()\n\n    def mouseReleaseEvent(self, event):\t#鼠标按键释放时,取消移动\n        self._move_drag = False\n\n# 每一个 PySide6 应用都必须创建一个应用对象\napp = QApplication([])\nmain_win = main_win()\nmain_win.show()\nsys.exit(app.exec())\n```\n\n## 第四\n\n```python\nimport sys\nfrom PySide6 import QtGui\n\nfrom uis.frame_ui import *\nimport icons_rc\n\n\nclass MainWindow(QMainWindow):\n    def __init__(self):\n        super().__init__()\n        self.ui = Ui_MainWindow()\n        self.ui.setupUi(self)\n        # 使模拟边框的3个按钮生效(关闭、最小化、最大化、双击标题框)\n        self.redefine_window_border_btn()\n        # 设置无边框\n        self.setWindowFlag(Qt.Window | Qt.FramelessWindowHint | Qt.WindowSystemMenuHint\n                           | Qt.WindowMinimizeButtonHint| Qt.WindowMaximizeButtonHint)\n        self.centralWidget().layout().setContentsMargins(0, 0, 0, 0)\n        self.ui.window_title.setText(\"模板窗口V1.0\")\n\n    def resize_maximize(self):\n        \"\"\"\n        最大化窗口\n        :return:\n        \"\"\"\n        if self.isMaximized():\n            self.showNormal()\n        else:\n            self.showMaximized()\n\n    def double_clicked_border_bar(self, event):\n        \"\"\"\n        双击顶部标题条,使其在最大化和还原之间切换\n        :param event:\n        :return:\n        \"\"\"\n        if event.button() == QtGui.Qt.MouseButton.LeftButton:\n            self.resize_maximize()\n\n    def move_title_bar(self, event):\n        \"\"\"\n        拖动顶部标题条\n        :param event:\n        :return:\n        \"\"\"\n        self.windowHandle().startSystemMove()\n\n    def redefine_window_border_btn(self):\n        \"\"\"\n        使模拟边框的3个按钮生效(关闭、最小化、最大化、双击标题框)\n        :return:\n        \"\"\"\n        self.ui.btn_close.clicked.connect(self.close)  # 关闭按钮\n        self.ui.btn_min.clicked.connect(self.showMinimized)  # 最小化按钮\n        self.ui.btn_max.clicked.connect(self.resize_maximize)  # 最大化按钮\n        # 设置可拖动（通过拖动窗口上的横条来达到拖动窗口的效果）\n        self.ui.border_frame_mid.mouseDoubleClickEvent = self.double_clicked_border_bar\n        self.ui.border_frame_right.mouseDoubleClickEvent = self.double_clicked_border_bar\n        self.ui.border_frame_mid.mouseMoveEvent = self.move_title_bar\n        self.ui.border_frame_right.mouseMoveEvent = self.move_title_bar\n\nif __name__ == '__main__':\n    app = QApplication(sys.argv)\n    window = MainWindow()\n    window.show()\n    sys.exit(app.exec())\n```\n\n","tags":["PyQt"],"categories":["PyQt"]},{"title":"利用QML实现无边框窗体，要求可移动，可缩放","url":"/article/37bece30.html","content":"## 一，需求\n\n利用QML实现无边框窗体，要求可移动，可缩放。\n\n## 二，效果\n\n![img](assets/ai.gif)\n\n## 三，实现\n\n```python\n//主窗体\nimport QtQuick 2.12\nimport QtQuick.Controls 2.3\nimport QtQuick.Window 2.3\n\nimport \"./widget\"\n\nWindow  {\n    id: window\n    visible: true\n    flags: Qt.FramelessWindowHint|Qt.Window\n    width: 1024\n    height: 768\n    color: \"#0F1013\"\n    property int bw: 3\n\n    //改变鼠标形状\n    MouseArea {\n        anchors.fill: parent\n        hoverEnabled: true\n        cursorShape: {\n            const p = Qt.point(mouseX, mouseY)\n            const b = bw + 10\n            if (p.x < b && p.y < b) return Qt.SizeFDiagCursor\n            if (p.x >= width - b && p.y >= height - b) return Qt.SizeFDiagCursor\n            if (p.x >= width - b && p.y < b) return Qt.SizeBDiagCursor\n            if (p.x < b && p.y >= height - b) return Qt.SizeBDiagCursor\n            if (p.x < b || p.x >= width - b) return Qt.SizeHorCursor\n            if (p.y < b || p.y >= height - b) return Qt.SizeVerCursor\n        }\n        acceptedButtons: Qt.NoButton\n    }\n\n    DragHandler {\n        id: resizeHandler\n        grabPermissions: TapHandler.TakeOverForbidden\n        target: null\n        onActiveChanged: if (active) {\n            const p = resizeHandler.centroid.position\n            const b = bw + 10\n            let e = 0;\n            if (p.x < b) { e |= Qt.LeftEdge }\n            if (p.x >= width - b) { e |= Qt.RightEdge }\n            if (p.y < b) { e |= Qt.TopEdge }\n            if (p.y >= height - b) { e |= Qt.BottomEdge }\n            window.startSystemResize(e);\n        }\n    }\n\n    MyToolBar{\n        window:window\n    }\n}\n//工具栏\nimport QtQuick 2.12\nimport QtQuick.Controls 2.3\nimport QtQuick.Window 2.3\n\nToolBar {\n    height: 50\n    anchors.top: parent.top\n    anchors.left: parent.left\n    anchors.right: parent.right\n    x:bw\n    y:bw\n\n    property var window: null\n    //关闭 最大化 最小化按钮\n    function toggleMaximized(mode) {\n        if(mode===0){\n            if (window.visibility === Window.Maximized) {\n                window.showNormal();\n            } else {\n                window.showMaximized();\n            }\n        }else if(mode===1){\n            window.showMinimized()\n        }else if(mode===2){\n            window.close()\n        }else if(mode===4){\n            return window.visibility\n        }\n\n    }\n\n    Rectangle{\n        id:rectBk\n        anchors.fill: parent\n        color: \"#1F2025\"\n        MouseArea {\n            anchors.fill: parent\n            acceptedButtons: Qt.LeftButton\n            property point clickPos: \"0,0\"\n            onPressed: {\n                clickPos = Qt.point(mouse.x, mouse.y)\n            }\n            onDoubleClicked: {\n                toggleMaximized(0)\n            }\n            onPositionChanged: {\n                //鼠标偏移量\n                var delta = Qt.point(mouse.x-clickPos.x, mouse.y-clickPos.y)\n\n                window.setX(window.x+delta.x)\n                window.setY(window.y+delta.y)\n            }\n        }\n    }\n\n    Row{\n        anchors.right: parent.right\n        anchors.top: parent.top\n        anchors.bottom: parent.bottom\n        spacing: 0\n        Rectangle{\n            width: 50\n            height: 50\n            color: Qt.rgba(0,0,0,0)\n            Image {\n                anchors.centerIn: parent\n                id: min\n                source: \"qrc:/image/icon/minus.png\"\n                width: 26\n                height: 26\n            }\n            MouseArea{\n                anchors.fill: parent\n                hoverEnabled: true\n                onClicked: {\n                    toggleMaximized(1)\n                }\n                onEntered: {\n                    parent.color = \"#454B57\"\n                }\n\n                onExited: {\n                    parent.color = Qt.rgba(0,0,0,0)\n                }\n            }\n        }\n\n        Rectangle{\n            width: 50\n            height: 50\n            color: Qt.rgba(0,0,0,0)\n            Image {\n                id: max\n                source: (toggleMaximized(4) === Window.Maximized)?\"qrc:/image/icon/maximize.png\":\"qrc:/image/icon/maximize2.png\"\n                anchors.centerIn: parent\n                width: 26\n                height: 26\n            }\n            MouseArea{\n                anchors.fill: parent\n                hoverEnabled: true\n                onClicked: {\n                    console.log(\"max\")\n                    toggleMaximized(0)\n                }\n                onEntered: {\n                    parent.color = \"#454B57\"\n                }\n                onExited: {\n                    parent.color = Qt.rgba(0,0,0,0)\n                }\n            }\n        }\n\n        Rectangle{\n            width: 50\n            height: 50\n            color: Qt.rgba(0,0,0,0)\n            Image {\n                id: close\n                source: \"qrc:/image/icon/close.png\"\n                anchors.centerIn: parent\n                width: 26\n                height: 26\n            }\n            MouseArea{\n                anchors.fill: parent\n                hoverEnabled: true\n                onClicked: {\n                    toggleMaximized(2)\n                }\n                onEntered: {\n                    parent.color = \"#454B57\"\n                }\n\n                onExited: {\n                    parent.color = Qt.rgba(0,0,0,0)\n                }\n            }\n        }\n\n    }\n\n    //标题\n    Text {\n        id:title\n        anchors.left: parent.left\n        anchors.verticalCenter:  parent.verticalCenter\n        anchors.leftMargin: 20\n        color: \"#FFFFFF\"\n        font.pixelSize: 24\n        text: qsTr(\"影像检测仪\")\n    }\n\n    Menu {\n        id:settingMenu\n        x:setting.x\n        y:setting.y+setting.height+1\n        width: 120\n        Action {\n            text: qsTr(\"创建项目\")\n            onTriggered: console.log(\"创建项目\")\n\n        }\n        Action {\n            text: qsTr(\"编辑项目\")\n            onTriggered: console.log(\"编辑项目\")\n        }\n\n        delegate: MenuBarItem {\n            id: settingMenuItem\n            height: 40\n            width: 120\n\n            contentItem: Text {\n                text: settingMenuItem.text\n                font.pixelSize: 16\n                color:  \"#ffffff\"\n                horizontalAlignment: Text.AlignHCenter\n                verticalAlignment: Text.AlignVCenter\n                elide: Text.ElideRight\n            }\n\n            background: Rectangle {\n                implicitWidth: 120\n                implicitHeight: 40\n                color: Qt.rgba(0,0,0,0)\n                MouseArea{\n                    anchors.fill: parent\n                    hoverEnabled: true\n                    propagateComposedEvents: true\n                    onClicked: {\n                        settingMenu.close()\n                        settingMenuItem.action.trigger()\n                    }\n                    onEntered: {\n                        parent.color = \"#454B57\"\n                    }\n\n                    onExited: {\n                        parent.color = Qt.rgba(0,0,0,0)\n                    }\n                }\n            }\n        }\n        background: Rectangle {\n            implicitWidth: 150\n            implicitHeight: 40\n            color: \"#1F2025\"\n        }\n    }\n\n    //设置\n    Rectangle{\n        id:setting\n        anchors.top: parent.top\n        anchors.bottom: parent.bottom\n        anchors.left:title.right\n        anchors.leftMargin: 100\n        color: Qt.rgba(0,0,0,0)\n        width: 100\n\n        Row{\n            anchors.centerIn: parent\n            spacing: 2\n            Text {\n                color: \"#FFFFFF\"\n                font.pixelSize: 20\n                text: qsTr(\"设置\")\n                verticalAlignment: Text.AlignVCenter\n                anchors.verticalCenter: parent.verticalCenter\n            }\n            Image {\n                width: 32\n                height: 32\n                anchors.verticalCenter: parent.verticalCenter\n                source: \"qrc:/image/icon/down.png\"\n            }\n        }\n        MouseArea{\n            anchors.fill: parent\n            hoverEnabled: true\n            propagateComposedEvents: true\n            onClicked: {\n                settingMenu.open()\n            }\n            onEntered: {\n                parent.color = \"#454B57\"\n            }\n\n            onExited: {\n                parent.color = Qt.rgba(0,0,0,0)\n            }\n        }\n\n    }\n\n    //关于菜单\n    Menu {\n        id:aboutMenu\n        x:about.x\n        y:about.y+about.height+1\n        width: 120\n        Action {\n            text: qsTr(\"关于这个\")\n            onTriggered: console.log(\"关于这个\")\n        }\n        Action {\n            text: qsTr(\"关于那个\")\n            onTriggered: console.log(\"关于那个\")\n        }\n\n        delegate: MenuBarItem {\n            id: aboutMenuItem\n            height: 40\n            width: 120\n\n            contentItem: Text {\n                text: aboutMenuItem.text\n                font.pixelSize: 16\n                color:  \"#ffffff\"\n                horizontalAlignment: Text.AlignHCenter\n                verticalAlignment: Text.AlignVCenter\n                elide: Text.ElideRight\n            }\n\n            background: Rectangle {\n                implicitWidth: 120\n                implicitHeight: 40\n                color: Qt.rgba(0,0,0,0)\n                MouseArea{\n                    anchors.fill: parent\n                    hoverEnabled: true\n                    propagateComposedEvents: true\n                    onClicked: {\n                        aboutMenu.close()\n                        aboutMenuItem.action.trigger()\n                    }\n                    onEntered: {\n                        parent.color = \"#454B57\"\n                    }\n\n                    onExited: {\n                        parent.color = Qt.rgba(0,0,0,0)\n                    }\n                }\n\n            }\n\n        }\n        background: Rectangle {\n            implicitWidth: 150\n            implicitHeight: 40\n            color: \"#1F2025\"\n        }\n    }\n    //关于\n    Rectangle{\n        id:about\n        anchors.top: parent.top\n        anchors.bottom: parent.bottom\n        anchors.left:setting.right\n        color: Qt.rgba(0,0,0,0)\n        width: 100\n\n        Row{\n            anchors.centerIn: parent\n            spacing: 2\n            Text {\n                color: \"#FFFFFF\"\n                font.pixelSize: 20\n                text: qsTr(\"关于\")\n                verticalAlignment: Text.AlignVCenter\n                anchors.verticalCenter: parent.verticalCenter\n            }\n            Image {\n                width: 32\n                height: 32\n                anchors.verticalCenter: parent.verticalCenter\n                source: \"qrc:/image/icon/down.png\"\n            }\n        }\n        MouseArea{\n            anchors.fill: parent\n            hoverEnabled: true\n            propagateComposedEvents: true\n            onClicked: {\n                aboutMenu.open()\n            }\n            onEntered: {\n                parent.color = \"#454B57\"\n            }\n\n            onExited: {\n                parent.color = Qt.rgba(0,0,0,0)\n            }\n        }\n\n    }\n}\n```","tags":["PyQt"],"categories":["PyQt"]},{"title":"如何在Mac M1上快速安装PyQt5","url":"/article/f5da021a.html","content":"\n由于官方并没有在M1上编译PyQt导致安装存在一些问题。\nM1上的Python不能直接使用x64的 PyQt5。但是M1上可以运行x64的Python。所以通过安装x64的Python然后再安装PyQt5即可。\n<!-- more -->\n\n**1. 安装Python**\n[python-3.9.13-macosx10.9.pkg](https://www.python.org/ftp/python/3.9.13/python-3.9.13-macosx10.9.pkg)\n\n**2. 勾选自定义同时只勾选安装pip**\n\n![step1.png](/images/macpyqtstep1.png)\n\n![step1.png](/images/macpyqtstep2.png)\n\n**3. 设置pip源**\n```shell\n/Library/Frameworks/Python.framework/Versions/3.9/bin/pip3 install pqi\n/Library/Frameworks/Python.framework/Versions/3.9/bin/pqi use tuna\n```\n\n**4. 安装PyQt5**\n```shell\n/Library/Frameworks/Python.framework/Versions/3.9/bin/pip3 install PyQt5\n```\n\n**5. 测试**\n```shell\n/Library/Frameworks/Python.framework/Versions/3.9/bin/python3\n```\n\n![step3.png](/images/macpyqtstep3.png)\n\n\n\n📢📢📢\n\n也可以直接安装 [Miniconda](https://docs.anaconda.com/free/miniconda/miniconda-install/)\n\n然后：conda install -c conda-forge pyqt\n","tags":["PyQt","Mac","M1"],"categories":["笔记"]},{"title":"自定義側邊欄","url":"/article/ea33ab97.html","content":"\n{% note info %}\n\n適用於 >= 3.8.0\n\n{% endnote %}\n\n側邊欄現在支持自定義了，可以添加自己喜歡的 widget。\n\n可添加自己的 widget，也可以對現有的 widget 進行排序（`博客資料`和 `公告`這兩個固定，其它的能排序）\n\n## widget 排序\n\n只需要配置 `sort_order`就行。（使用了 `Flex` 佈局的 `order` 屬性，具體可查看 [mozilla 文檔](https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Flexible_Box_Layout/Ordering_Flex_Items)。簡單來講，就是配置**數字**來實現排序，如果不配置，則默認為 0。數字越小，排序越靠前。\n\n```yaml\naside:\n ...\n  card_recent_post:\n    sort_order: # Don't modify the setting unless you know how it works\n  card_categories:\n    sort_order: # Don't modify the setting unless you know how it works\n  card_tags:\n    sort_order: # Don't modify the setting unless you know how it works\n  card_archives:\n    sort_order: # Don't modify the setting unless you know how it works\n  card_webinfo:\n    sort_order: # Don't modify the setting unless you know how it works\n\nnewest_comments:\n  enable: true\n  sort_order: # Don't modify the setting unless you know how it works\n```\n\n## 自定義 widget\n\n如果你想添加自己的內容到側邊欄去，你可以自定義。\n\n### 創建 widget.yml\n\n在 Hexo 博客目錄中的`source/_data`（如果沒有 _data 文件夾，請自行創建），創建一個文件 `widget.yml`\n\n### 格式\n\n```yaml\ntop:\n  - class_name:\n    id_name:\n    name:\n    icon:\n    html:\n\nbottom:\n  - class_name:\n    id_name:\n    name:\n    icon:\n    order:\n    html:\n```\n\n> 參數詳解\n\n**top**: 創建的 widget 會出現在非 sticky 區域（即所有頁面都會顯示）\n\n**bottom**: 創建的 widget 會出現在 sticky 區域（除了文章頁都會顯示）\n\n| 參數       | 解釋                                   |\n| ---------- | -------------------------------------- |\n| class_name | 所創建的 widget 父類 class 名 （可選） |\n| id_name    | 所創建的 widget 父類 id 名（可選）     |\n| name       | 所創建的 widget 標題                   |\n| icon       | 所創建的 widget 圖標                   |\n| order      | 所創建的 widget 排序 （可選）          |\n| html       | 所創建的 widget 相關代碼               |\n\n![adside-diy-parameter.png](https://oss.012700.xyz/butterfly/2024/09/adside-diy-parameter.png)\n\n生成的 代碼 為\n\n```html\n<div class=\"card-widget 所寫的 class_name\" id=\"所寫的 id_name\" style=\"order: 所寫的 order\">\n  <div class=\"item-headline\">\n    <i class=\"所寫的 icon\"></i>\n    <span>所寫的 name</span>\n  </div>\n  <div class=\"item-content\">所寫的 html</div>\n</div>\n```\n\n如果你需要對添加的 widget 進行 UI 調整，請自行添加 css 到 inject 去。\n\n### 例子\n\n以 [訪客地圖](https://clustrmaps.com/profile/1b7ep/widget/code/globe) 為例子\n\n1. 獲取訪客地圖的 html 代碼\n\n   ```html\n   <script\n     type=\"text/javascript\"\n     id=\"clstr_globe\"\n     src=\"//clustrmaps.com/globe.js?d=5V2tOKp8qAdRM-i8eu7ETTO9ugt5uKbbG-U7Yj8uMl8\"\n   ></script>\n   ```\n\n2. 創建 widget.yml\n\n   ```yaml\n   bottom:\n     - class_name: user-map\n       id_name: user-map\n       name: 訪客地圖\n       icon: fas fa-heartbeat\n       order:\n       html: '<script type=\"text/javascript\" id=\"clstr_globe\" src=\"//clustrmaps.com/globe.js?d=5V2tOKp8qAdRM-i8eu7ETTO9ugt5uKbbG-U7Yj8uMl8\"></script>'\n   ```\n\n3. 運行 hexo\n\n   ![aside-diy-sample.png](https://oss.012700.xyz/butterfly/2024/09/aside-diy-sample.png)\n","tags":["教程","Hexo","主題","butterfly"],"categories":["進階教程"]},{"title":"Butterfly添加全局吸底Aplayer教程","url":"/article/3bd898ff.html","content":"\n{% note info %}\n\n以下文章只是教程\n\n如果部署之后，并没有出现 aplayer , 请确认是否跟足步骤操作或者更换音乐源，多试试。\n\n如果遇到使用問題，请仔细查看插件文档，或者到插件那裏反饋。\n\n{% endnote%}\n\n## 前言\n\n如果你想使用 aplayer，很多人都會推薦安裝 [hexo-tag-aplayer](https://github.com/MoePlayer/hexo-tag-aplayer) 這款插件。這款插件通過 Hexo 獨有的標籤外掛，我們可以很方便的寫入一些參數，插件就會幫我們生成對應的 html。如果你只是使用一些簡單的功能，其實無需使用到這個插件，只需以 html 格式書寫就行，不用插件去轉換。\n\n例如：\n\n如果使用插件，在 markdown 中要這樣寫\n\n```markdown\n{% meting \"000PeZCQ1i4XVs\" \"tencent\" \"artist\" \"theme:#3F51B5\" \"mutex:true\" \"preload:auto\" %}\n```\n\n其會被插件渲染為\n\n```html\n<div id=\"aplayer-uxAIfEUs\" class=\"aplayer aplayer-tag-marker meting-tag-marker\" data-id=\"000PeZCQ1i4XVs\" data-server=\"tencent\" data-type=\"artist\" data-mode=\"circulation\" data-autoplay=\"false\" data-mutex=\"true\" data-listmaxheight=\"340px\" data-preload=\"auto\" data-theme=\"#3F51B5\"></div>\n```\n\n如果我們不想使用插件，就需要在markdown中用html的格式書寫，同時把主題配置文件中的`aplayerInject`開啟\n\n```markdown\n<div class=\"aplayer\" data-id=\"000PeZCQ1i4XVs\" data-server=\"tencent\" data-type=\"artist\" data-mutex=\"true\" data-preload=\"auto\" data-theme=\"#3F51B5\"></div>\n```\n\n這樣我們就可以不用使用多一個插件，當然這種東西見仁見智，選自己喜歡的就行。\n\n回到正題，這篇文章將教大家如何在Butterfly上使用全局吸底 Aplayer\n\n![butterfly-aplayer-xidi.gif](https://oss.012700.xyz/butterfly/2024/09/butterfly-aplayer-xidi.gif)\n\n## 關閉 `asset_inject`\n\n{% note info %}\n\n此步驟適用於安裝了 `hexo-tag-aplayer` 插件的人\n\n{% endnote %}\n\n由於需要全局都插入 aplayer 和 meting 資源，為了防止插入重複的資源，需要把 asset_inject 設為 `false`\n\n在 Hexo 的配置文件中\n\n```yaml\naplayer:\n  meting: true\n  asset_inject: false\n```\n\n## 開啟主題的 `aplayerInject`\n\n在主題的配置文件中，`enable` 設為 `true` 和 `per_page` 設為 `true`\n\n```yaml\n# Inject the css and script (aplayer/meting)\naplayerInject:\n  enable: true\n  per_page: true\n```\n\n## 插入 Aplayer html\n\n為了適配 hexo-tag-aplayer，主題內置的 Meting js 仍為 1.2 版本，並非最新的 2.x 版本。\n\nAplayer html 例子：\n\n```markdown\n<div class=\"aplayer no-destroy\" data-id=\"60198\" data-server=\"netease\" data-type=\"playlist\" data-fixed=\"true\" data-autoplay=\"true\"> </div>\n```\n\n參數解釋\n\n| option             | default     | description                                                                                                                  |\n| ------------------ | ----------- | ---------------------------------------------------------------------------------------------------------------------------- |\n| data-id            | **require** | song id / playlist id / album id / search keyword                                                                            |\n| data-server        | **require** | music platform: `netease`, `tencent`, `kugou`, `xiami`, `baidu`                                                              |\n| data-type          | **require** | `song`, `playlist`, `album`, `search`, `artist`                                                                              |\n| data-fixed         | `false`     | enable fixed mode                                                                                                            |\n| data-mini          | `false`     | enable mini mode                                                                                                             |\n| data-autoplay      | `false`     | audio autoplay                                                                                                               |\n| data-theme         | `#2980b9`   | main color                                                                                                                   |\n| data-loop          | `all`       | player loop play, values: 'all', 'one', 'none'                                                                               |\n| data-order         | `list`      | player play order, values: 'list', 'random'                                                                                  |\n| data-preload       | `auto`      | values: 'none', 'metadata', 'auto'                                                                                           |\n| data-volume        | `0.7`       | default volume, notice that player will remember user setting, default volume will not work after user set volume themselves |\n| data-mutex         | `true`      | prevent to play multiple player at the same time, pause other players when this player start play                            |\n| data-lrctype       | `0`         | lyric type                                                                                                                   |\n| data-listfolded    | `false`     | indicate whether list should folded at first                                                                                 |\n| data-listmaxheight | `340px`     | list max height                                                                                                              |\n| data-storagename   | `metingjs`  | localStorage key that store player setting                                                                                   |\n\n{% note info %}\n\n`require` 代表着這些參數是必須要使用的，其它的參數則可以根據自己需要配置。\n\n配置全局吸底，`data-fixed` 和 `data-mini` 也必須配置，配置為 `true`\n\n如果使用 Pjax，則在 class 裏需添加 `no-destroy`，這樣防止切換頁面時 Aplayer 被銷毀\n\n{% endnote %}\n\n把  `aplayer代碼`  插入到主題配置文件的  `inject.bottom` 去\n\n```yaml\ninject:\n  head:\n  bottom:\n    - <div class=\"aplayer no-destroy\" data-id=\"60198\" data-server=\"netease\" data-type=\"playlist\" data-fixed=\"true\" data-autoplay=\"true\"> </div>\n```\n\n運行 Hexo 就可以看到網頁左下角出現了 Aplayer\n\n最後，如果你想切換頁面時，音樂不會中斷。請把主題配置文件的 `pjax` 設為 `true`\n","tags":["教程","Hexo","主題","butterfly","Aplayer"],"categories":["進階教程"]},{"title":"自定義代碼配色","url":"/article/b37b5fe3.html","content":"\n在[Butterfly-安裝文檔-三-主題配置](http://butterfly.js.org/posts/4aa8abbe/#代碼高亮主題)中已經介紹瞭如何使用自定義代碼配色。\n\n這篇文章是使用自定義代碼配色的實例教程。\n\n## Highlight\n\n以使用`Kimbie dark`主題配色為例子\n\n### 配置`hljs`為`true`\n\n修改 Hexo 根目錄下的`_config.yml`\n\n```yaml\nhighlight:\n  enable: true\n  line_number: true\n  auto_detect: false\n  tab_replace:\n  hljs: true\n```\n\n### 配置`highlight_theme`為`false`\n\n修改`主題配置文件`\n\n```yaml\nhighlight_theme: false\n```\n\n### 下載和修改 CSS 文件\n\n在[Github](https://github.com/highlightjs/highlight.js/blob/master/src/styles/kimbie.dark.css)上找到這個 CSS\n\n在 Hexo 的根目錄`source`文件夾下創立一個`self`文件夾，在`self`文件夾創建一個`Kimbiedark.css`文件\n\n把 Github 上`Kimbie dark`的 CSS 代碼複製到`Kimbiedark.css`去。（你也可以直接從 Github 上下載這個 CSS）\n\n**Kimbiedark.css**代碼如下\n\n```css\n/*\n    Name:     Kimbie (dark)\n    Author:   Jan T. Sott\n    License:  Creative Commons Attribution-ShareAlike 4.0 Unported License\n    URL:      https://github.com/idleberg/Kimbie-highlight.js\n*/\n\n/* Kimbie Comment */\n.hljs-comment,\n.hljs-quote {\n  color: #d6baad;\n}\n\n/* Kimbie Red */\n.hljs-variable,\n.hljs-template-variable,\n.hljs-tag,\n.hljs-name,\n.hljs-selector-id,\n.hljs-selector-class,\n.hljs-regexp,\n.hljs-meta {\n  color: #dc3958;\n}\n\n/* Kimbie Orange */\n.hljs-number,\n.hljs-built_in,\n.hljs-builtin-name,\n.hljs-literal,\n.hljs-type,\n.hljs-params,\n.hljs-deletion,\n.hljs-link {\n  color: #f79a32;\n}\n\n/* Kimbie Yellow */\n.hljs-title,\n.hljs-section,\n.hljs-attribute {\n  color: #f06431;\n}\n\n/* Kimbie Green */\n.hljs-string,\n.hljs-symbol,\n.hljs-bullet,\n.hljs-addition {\n  color: #889b4a;\n}\n\n/* Kimbie Purple */\n.hljs-keyword,\n.hljs-selector-tag,\n.hljs-function {\n  color: #98676a;\n}\n\n.hljs {\n  display: block;\n  overflow-x: auto;\n  background: #221a0f;\n  color: #d3af86;\n  padding: 0.5em;\n}\n\n.hljs-emphasis {\n  font-style: italic;\n}\n\n.hljs-strong {\n  font-weight: bold;\n}\n```\n\n修改這個 CSS 文件為\n\n```css\n/*\n    Name:     Kimbie (dark)\n    Author:   Jan T. Sott\n    License:  Creative Commons Attribution-ShareAlike 4.0 Unported License\n    URL:      https://github.com/idleberg/Kimbie-highlight.js\n*/\n\n/* 新添加的內容\n  ------------------------------------- \n  --hl-color                  代碼框字體顔色 【必須】 (把下面.hljs的 color複製到這裏來)\n  --hl-bg                     代碼框背景色 【必須】 (把下面.hljs的 background複製到這裏來)\n  --hltools-bg: #321a0f       代碼框頂部工具欄背景色 【可選】(如果你關掉了 copy、lang 和 shrink,可不用配置這個）\n  --hltools-color: #fff       代碼框頂部工具欄字體顔色 【可選】(如果你關掉了 copy、lang 和 shrink,可不用配置這個）\n  --hlnumber-bg: #221a0f      代碼框行數背景色 【可選】(如果已經關掉 line_number,可以不用配置這個)\n  --hlnumber-color: #fff      代碼框行數字體顔色 【可選】 (如果已經關掉 line_number,可以不用配置這個)\n  --hlscrollbar-bg: #d3af86   代碼框滾動條顔色 【可選】（默認為主題主顔色）\n  --hlexpand-bg: #d3af86      代碼框底部展開背景色 【可選】(如果已經關掉 highlight_height_limit,可以不用配置這個)\n*/\n\n:root {\n  --hl-color: #d3af86;\n  --hl-bg: #221a0f;\n  --hltools-bg: #321a0f;\n  --hltools-color: #fff;\n  --hlnumber-bg: #221a0f;\n  --hlnumber-color: #fff;\n  --hlscrollbar-bg: #d3af86;\n  --hlexpand-bg: #d3af86;\n}\n\n/* Kimbie Comment */\n.hljs-comment,\n.hljs-quote {\n  color: #d6baad;\n}\n\n/* Kimbie Red */\n.hljs-variable,\n.hljs-template-variable,\n.hljs-tag,\n.hljs-name,\n.hljs-selector-id,\n.hljs-selector-class,\n.hljs-regexp,\n.hljs-meta {\n  color: #dc3958;\n}\n\n/* Kimbie Orange */\n.hljs-number,\n.hljs-built_in,\n.hljs-builtin-name,\n.hljs-literal,\n.hljs-type,\n.hljs-params,\n.hljs-deletion,\n.hljs-link {\n  color: #f79a32;\n}\n\n/* Kimbie Yellow */\n.hljs-title,\n.hljs-section,\n.hljs-attribute {\n  color: #f06431;\n}\n\n/* Kimbie Green */\n.hljs-string,\n.hljs-symbol,\n.hljs-bullet,\n.hljs-addition {\n  color: #889b4a;\n}\n\n/* Kimbie Purple */\n.hljs-keyword,\n.hljs-selector-tag,\n.hljs-function {\n  color: #98676a;\n}\n\n/* 更改的內容 把.hljs改為 #article-container figure.highlight .hljs *、\n/* ------------------------------------- */\n#article-container figure.highlight .hljs {\n  display: block;\n  overflow-x: auto;\n  background: #221a0f;\n  color: #d3af86;\n  padding: 0.5em;\n}\n\n.hljs-emphasis {\n  font-style: italic;\n}\n\n.hljs-strong {\n  font-weight: bold;\n}\n```\n\n### 引入文件\n\n修改`主題配置文件`\n\n```yaml\ninject:\n  head:\n    - <link rel=\"stylesheet\" href=\"/self/Kimbiedark.css\">\n```\n\n### 運行 Hexo\n\n運行 Hexo 後，應該可以看到修改的效果\n\n![hexo-theme-butterfly-doc-highlight-self-css.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-doc-highlight-self-css.png)\n\n## Prismjs\n\n以使用`prism-duotone-light`主題配色為例子\n\n### 配置`highlight_theme`為`false`\n\n修改`主題配置文件`\n\n```yaml\nhighlight_theme: false\n```\n\n### 下載和修改 CSS 文件\n\n在[Github](https://github.com/PrismJS/prism-themes/blob/master/themes/prism-duotone-light.css)上找到這個 CSS\n\n在 Hexo 的根目錄`source`文件夾下創立一個`self`文件夾，在`self`文件夾創建一個`duotone.css`文件\n\n把 Github 上`prism-duotone-light`的 CSS 代碼複製到``duotone.css`去。（你也可以直接從 Github 上下載這個 CSS）\n\n**prism-duotone-light**代碼如下\n\n```css\n/*\nName:   Duotone Light\nAuthor: Simurai, adapted from DuoTone themes for Atom (http://simurai.com/projects/2016/01/01/duotone-themes)\n\nConversion: Bram de Haan (http://atelierbram.github.io/Base2Tone-prism/output/prism/prism-base2tone-morning-light.css)\nGenerated with Base16 Builder (https://github.com/base16-builder/base16-builder)\n*/\n\ncode[class*='language-'],\npre[class*='language-'] {\n  font-family: Consolas, Menlo, Monaco, 'Andale Mono WT', 'Andale Mono', 'Lucida Console', 'Lucida Sans Typewriter',\n    'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', 'Liberation Mono', 'Nimbus Mono L', 'Courier New', Courier,\n    monospace;\n  font-size: 14px;\n  line-height: 1.375;\n  direction: ltr;\n  text-align: left;\n  white-space: pre;\n  word-spacing: normal;\n  word-break: normal;\n\n  -moz-tab-size: 4;\n  -o-tab-size: 4;\n  tab-size: 4;\n\n  -webkit-hyphens: none;\n  -moz-hyphens: none;\n  -ms-hyphens: none;\n  hyphens: none;\n  background: #faf8f5;\n  color: #728fcb;\n}\n\npre > code[class*='language-'] {\n  font-size: 1em;\n}\n\npre[class*='language-']::-moz-selection,\npre[class*='language-'] ::-moz-selection,\ncode[class*='language-']::-moz-selection,\ncode[class*='language-'] ::-moz-selection {\n  text-shadow: none;\n  background: #faf8f5;\n}\n\npre[class*='language-']::selection,\npre[class*='language-'] ::selection,\ncode[class*='language-']::selection,\ncode[class*='language-'] ::selection {\n  text-shadow: none;\n  background: #faf8f5;\n}\n\n/* Code blocks */\npre[class*='language-'] {\n  padding: 1em;\n  margin: 0.5em 0;\n  overflow: auto;\n}\n\n/* Inline code */\n:not(pre) > code[class*='language-'] {\n  padding: 0.1em;\n  border-radius: 0.3em;\n}\n\n.token.comment,\n.token.prolog,\n.token.doctype,\n.token.cdata {\n  color: #b6ad9a;\n}\n\n.token.punctuation {\n  color: #b6ad9a;\n}\n\n.token.namespace {\n  opacity: 0.7;\n}\n\n.token.tag,\n.token.operator,\n.token.number {\n  color: #063289;\n}\n\n.token.property,\n.token.function {\n  color: #b29762;\n}\n\n.token.tag-id,\n.token.selector,\n.token.atrule-id {\n  color: #2d2006;\n}\n\ncode.language-javascript,\n.token.attr-name {\n  color: #896724;\n}\n\ncode.language-css,\ncode.language-scss,\n.token.boolean,\n.token.string,\n.token.entity,\n.token.url,\n.language-css .token.string,\n.language-scss .token.string,\n.style .token.string,\n.token.attr-value,\n.token.keyword,\n.token.control,\n.token.directive,\n.token.unit,\n.token.statement,\n.token.regex,\n.token.atrule {\n  color: #728fcb;\n}\n\n.token.placeholder,\n.token.variable {\n  color: #93abdc;\n}\n\n.token.deleted {\n  text-decoration: line-through;\n}\n\n.token.inserted {\n  border-bottom: 1px dotted #2d2006;\n  text-decoration: none;\n}\n\n.token.italic {\n  font-style: italic;\n}\n\n.token.important,\n.token.bold {\n  font-weight: bold;\n}\n\n.token.important {\n  color: #896724;\n}\n\n.token.entity {\n  cursor: help;\n}\n\npre > code.highlight {\n  outline: 0.4em solid #896724;\n  outline-offset: 0.4em;\n}\n\n/* overrides color-values for the Line Numbers plugin\n * http://prismjs.com/plugins/line-numbers/\n */\n.line-numbers .line-numbers-rows {\n  border-right-color: #ece8de;\n}\n\n.line-numbers-rows > span:before {\n  color: #cdc4b1;\n}\n\n/* overrides color-values for the Line Highlight plugin\n * http://prismjs.com/plugins/line-highlight/\n */\n.line-highlight {\n  background: rgba(45, 32, 6, 0.2);\n  background: -webkit-linear-gradient(left, rgba(45, 32, 6, 0.2) 70%, rgba(45, 32, 6, 0));\n  background: linear-gradient(to right, rgba(45, 32, 6, 0.2) 70%, rgba(45, 32, 6, 0));\n}\n```\n\n修改這個 CSS 文件為\n\n```css\n/* 新添加的內容\n  ------------------------------------- \n  --hl-color                  代碼框字體顔色 【必須】 (把下面 pre[class*=\"language-\"]的 color 複製到這裏來)\n  --hl-bg                     代碼框背景色 【必須】 (把下面 pre[class*=\"language-\"]的 background複製到這裏來)\n  --hltools-bg: #321a0f       代碼框頂部工具欄背景色 【可選】(如果你關掉了 copy、lang 和 shrink,可不用配置這個）\n  --hltools-color: #fff       代碼框頂部工具欄字體顔色 【可選】(如果你關掉了 copy、lang 和 shrink,可不用配置這個）\n  --hlnumber-bg: #221a0f      代碼框行數背景色 【可選】(如果已經關掉 line_number,可以不用配置這個)\n  --hlnumber-color: #fff      代碼框行數字體顔色 【可選】 (如果已經關掉 line_number,可以不用配置這個)\n  --hlscrollbar-bg: #d3af86   代碼框滾動條顔色 【可選】（默認為主題主顔色）\n  --hlexpand-bg: #d3af86      代碼框底部展開背景色 【可選】(如果已經關掉 highlight_height_limit,可以不用配置這個)\n*/\n\n:root {\n  --hl-color: #728fcb;\n  --hl-bg: #faf8f5;\n  --hltools-bg: xxxxxxx;\n  --hltools-color: xxxxxxx;\n  --hlnumber-bg: xxxxxxx;\n  --hlnumber-color: xxxxxxxx;\n  --hlscrollbar-bg: xxxxx;\n  --hlexpand-bg: xxxxxxx;\n}\n\n/* ------------------------------------- */\n\n/* 這些可以刪除（可留着，如果有衝突，請刪除） */\n/* ------------------------------------- */\ncode[class*='language-'],\npre[class*='language-'] {\n  font-family: Consolas, Menlo, Monaco, 'Andale Mono WT', 'Andale Mono', 'Lucida Console', 'Lucida Sans Typewriter',\n    'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', 'Liberation Mono', 'Nimbus Mono L', 'Courier New', Courier,\n    monospace;\n  font-size: 14px;\n  line-height: 1.375;\n  direction: ltr;\n  text-align: left;\n  white-space: pre;\n  word-spacing: normal;\n  word-break: normal;\n\n  -moz-tab-size: 4;\n  -o-tab-size: 4;\n  tab-size: 4;\n\n  -webkit-hyphens: none;\n  -moz-hyphens: none;\n  -ms-hyphens: none;\n  hyphens: none;\n  background: #faf8f5;\n  color: #728fcb;\n}\n\npre > code[class*='language-'] {\n  font-size: 1em;\n}\n\npre[class*='language-']::-moz-selection,\npre[class*='language-'] ::-moz-selection,\ncode[class*='language-']::-moz-selection,\ncode[class*='language-'] ::-moz-selection {\n  text-shadow: none;\n  background: #faf8f5;\n}\n\npre[class*='language-']::selection,\npre[class*='language-'] ::selection,\ncode[class*='language-']::selection,\ncode[class*='language-'] ::selection {\n  text-shadow: none;\n  background: #faf8f5;\n}\n\n/* Code blocks */\npre[class*='language-'] {\n  padding: 1em;\n  margin: 0.5em 0;\n  overflow: auto;\n}\n\n/* Inline code */\n:not(pre) > code[class*='language-'] {\n  padding: 0.1em;\n  border-radius: 0.3em;\n}\n/* ------------------------------------- */\n/* 到這裏為止，可以刪除 */\n\n.token.comment,\n.token.prolog,\n.token.doctype,\n.token.cdata {\n  color: #b6ad9a;\n}\n\n.token.punctuation {\n  color: #b6ad9a;\n}\n\n.token.namespace {\n  opacity: 0.7;\n}\n\n.token.tag,\n.token.operator,\n.token.number {\n  color: #063289;\n}\n\n.token.property,\n.token.function {\n  color: #b29762;\n}\n\n.token.tag-id,\n.token.selector,\n.token.atrule-id {\n  color: #2d2006;\n}\n\ncode.language-javascript,\n.token.attr-name {\n  color: #896724;\n}\n\ncode.language-css,\ncode.language-scss,\n.token.boolean,\n.token.string,\n.token.entity,\n.token.url,\n.language-css .token.string,\n.language-scss .token.string,\n.style .token.string,\n.token.attr-value,\n.token.keyword,\n.token.control,\n.token.directive,\n.token.unit,\n.token.statement,\n.token.regex,\n.token.atrule {\n  color: #728fcb;\n}\n\n.token.placeholder,\n.token.variable {\n  color: #93abdc;\n}\n\n.token.deleted {\n  text-decoration: line-through;\n}\n\n.token.inserted {\n  border-bottom: 1px dotted #2d2006;\n  text-decoration: none;\n}\n\n.token.italic {\n  font-style: italic;\n}\n\n.token.important,\n.token.bold {\n  font-weight: bold;\n}\n\n.token.important {\n  color: #896724;\n}\n\n.token.entity {\n  cursor: help;\n}\n\npre > code.highlight {\n  outline: 0.4em solid #896724;\n  outline-offset: 0.4em;\n}\n\n/* overrides color-values for the Line Numbers plugin\n * http://prismjs.com/plugins/line-numbers/\n */\n.line-numbers .line-numbers-rows {\n  border-right-color: #ece8de;\n}\n\n.line-numbers-rows > span:before {\n  color: #cdc4b1;\n}\n\n/* overrides color-values for the Line Highlight plugin\n * http://prismjs.com/plugins/line-highlight/\n */\n.line-highlight {\n  background: rgba(45, 32, 6, 0.2);\n  background: -webkit-linear-gradient(left, rgba(45, 32, 6, 0.2) 70%, rgba(45, 32, 6, 0));\n  background: linear-gradient(to right, rgba(45, 32, 6, 0.2) 70%, rgba(45, 32, 6, 0));\n}\n```\n\n### 引入文件\n\n修改`主題配置文件`\n\n```yaml\ninject:\n  head:\n    - <link rel=\"stylesheet\" href=\"/self/duotone.css\">\n```\n\n### 運行 Hexo\n\n運行 Hexo 後，應該可以看到修改的效果\n\n![butterfly-custom-code-color-prismjs.png](https://oss.012700.xyz/butterfly/2024/09/butterfly-custom-code-color-prismjs.png)\n","tags":["教程","Hexo","主題","butterfly"],"categories":["進階教程"]},{"title":"Butterfly 文檔(六) 進階教程","url":"/article/fa36e355.html","content":"\n{% note green 'fas fa-rocket' %}\n\n📚 文檔目錄\n\n{% post_link 主题/Butterfly-文檔-一-快速開始 ' 🚀 快速開始' %} - {% post_link 主题/Butterfly-文檔-二-主題頁面 ' 📑 主題頁面' %} - {% post_link 主题/Butterfly-文檔-三-主題配置 ' 📌 主題配置' %} - {% post_link 主题/Butterfly-文檔-四-標簽外掛 ' ⚔️ 標簽外挂' %} - {% post_link 主题/Butterfly-文檔-五-主題問答 ' ❓ 主題問答' %} - {% post_link 主题/Butterfly-文檔-六-進階教程 ' ⚡️ 進階教程' %}\n\n{% endnote %}\n\n{% note orange 'fas fa-magic' %}\n\n你可以通過右下角的 **簡** 按鈕切換為簡體顯示\n\n{% endnote %}\n\n---\n\n## 建議\n\n1. 不要把個人需要的文件/圖片放在主題`source`文件夾裏，因為在升級主題的過程中，可能會把文件覆蓋刪除了。\n   在 Hexo 根目錄的`source`文件夾裏，創建一個文件夾來放置個人文件/圖片。\n   引用文件直接為`/文件夾名稱/文件名`\n\n## 音樂\n\n音樂界面使用了插件 `hexo-tag-aplayer`\n使用方法請參考插件[文檔](https://github.com/MoePlayer/hexo-tag-aplayer/blob/master/docs/README-zh_cn.md)\n\n音樂頁面只是普通的 page 頁，按普通頁面操作生成就行。\n\n> 以下內容可供**選擇**配置\n>\n> 注意： 仍需要安裝插件[hexo-tag-aplayer](https://github.com/MoePlayer/hexo-tag-aplayer)\n\n插件會在每一個文件都插入 js 和 css，為了避免這一情況，3.0 版本內置了 aplayer 需要的 css 和 js。\n\n首先在 Hexo 根目錄 `_config` 裏配置 `asset_inject` 為 `false`\n\n```yaml\naplayer:\n  asset_inject: false\n```\n\n然後在你需要使用 aplayer 的頁面 Front-matter 添加\n\n```markdown\naplayer: true\n```\n\n這樣只會在需要 aplayer 的頁面插入 js 和 css。\n\n如何添加全局 Aplayer 播放，請參考 [這篇文章](/posts/507c070f/)\n\n## 電影\n\n電影界面使用了插件 `hexo-douban`\n\n**注意：**\n\n1. hexo-douban 會主動生成頁面，所以不需要自己創建。\n2. 如遇到無法抓取問題，顯示 `INFO  0 movies have been loaded in xxx ms, because you are offline or your network is bad`\n   請過段時間再試試，這我也無能為力。\n\n## 説説\n\n### Artitalk\n\n安裝插件 [hexo-butterfly-artitalk](https://www.npmjs.com/package/hexo-butterfly-artitalk)\n\n具體配置查看[插件文檔](https://github.com/jerryc127/butterfly-plugins/tree/main/hexo-butterfly-artitalk)\n\n### HexoPlusPlus Talk\n\n安裝插件 [hexo-butterfly-hpptalk](https://www.npmjs.com/package/hexo-butterfly-hpptalk)\n\n具體配置查看[插件文檔](https://github.com/jerryc127/butterfly-plugins/tree/main/hexo-butterfly-hpptalk)\n\n## 自定義代碼配色\n\n{% btn '/posts/b37b5fe3/','點擊前往',fas fa-code,block blue %}\n\n## 自定義側邊欄\n\n{% btn '/posts/ea33ab97/','點擊前往',fas fa-lightbulb,block green %}\n\n## 添加全局吸底 Aplayer 教程\n\n{% btn '/posts/507c070f/','點擊前往',fas fa-music,block pink %}\n\n## Icon\n\nButterfly 主題內置了[Font Awesome V5 ](https://fontawesome.com/)圖標，目前已更新到 5.13.0，總共有 1,588 個免費圖標。由於是國外的圖標網站，對於國內的一些網站 Icon 並不支持。如有需要，你可以引入其它的圖標服務商。\n\n### iconfont\n\n國內最出名的莫過於[iconfont](https://www.iconfont.cn/),功能很強大且圖標內容很豐富的矢量圖標庫。很多 `Font Awesome` 不支持的圖標都可以在這裏找到。同時，[iconfont](https://www.iconfont.cn/)支持選擇需要的圖標生成 css 鏈接，減少不必要的 CSS 加載。\n\n#### 註冊賬號\n\n打開[iconfont](https://www.iconfont.cn/)的網站，點擊導航欄的`人像`圖標，會跳出註冊界面，按要求註冊賬號。\n\n![butterfly-iconfont.png](https://oss.012700.xyz/butterfly/2024/09/butterfly-iconfont.png)\n\n#### 添加圖標入庫\n\n選擇自己需要的圖標，把鼠標移到圖標上，會顯示三個按鈕（依次是添加入庫、收藏和下載），而我們需要的是把圖標添加入庫\n\n![butterfly-iconfont-add.png](https://oss.012700.xyz/butterfly/2024/09/butterfly-iconfont-add.png)\n\n添加入庫後，你可以看到網站右上角`購物車`圖標顯示了`1`字，代表圖標已經添加入庫，點擊`購物車`圖標，會彈出側邊欄顯示詳情。\n\n![butterfly-iconfont-check.png](https://oss.012700.xyz/butterfly/2024/09/butterfly-iconfont-check.png)\n\n![butterfly-iconfont-detail.png](https://oss.012700.xyz/butterfly/2024/09/butterfly-iconfont-detail.png)\n\n已選擇的圖標會顯示在上面，你可以重複上面的操作，把需要的圖標添加入庫，然後點擊`添加到項目`。\n\n接下來會要求選擇項目名稱，沒有的自己創建一個。\n\n![butterfly-iconfont-create.png](https://oss.012700.xyz/butterfly/2024/09/butterfly-iconfont-create.png)\n\n#### 生成 CSS 鏈接\n\n在添加到項目之後，會跳到項目的詳情界面。點擊 `Font class`，然後再點擊 `暫無代碼，點擊生成` 文字。網站會自動生成 CSS 鏈接，我們只需要複製鏈接就行。\n\n![butterfly-iconfont-link.png](https://oss.012700.xyz/butterfly/2024/09/butterfly-iconfont-link.png)\n\n#### 添加鏈接進主題配置文件\n\n打開`主題配置文件`，找到`inject`配置，按要求把鏈接填入\n\n![butterfly-iconfont-setting.png](https://oss.012700.xyz/butterfly/2024/09/butterfly-iconfont-setting.png)\n\n在我們需要使用的地方填入 icon，例如`Menu`，圖片使用格式為`iconfont icon名字`\n\n![butterfly-iconfont-setting-menu.png](https://oss.012700.xyz/butterfly/2024/09/butterfly-iconfont-setting-menu.png)\n\n運行 Butterfly 之後，你就可以看到 menu 的圖標生效了\n\n![butterfly-iconfont-show.png](https://oss.012700.xyz/butterfly/2024/09/butterfly-iconfont-show.png)\n\n#### 其他添加方法\n\n除了通過引入 CSS 鏈接使用圖標，iconfont 也支持通過其它方法使用圖標，具體可查看[iconfont 官方使用文檔](https://www.iconfont.cn/help/detail?helptype=code)\n\n### 其它圖標提供商\n\n除了[iconfont](https://www.iconfont.cn/)，還有[RemixIcon](https://github.com/Remix-Design/RemixIcon)、[Flaticon](https://www.flaticon.com/categories/seo-and-web)等等提供商，很多圖標可以選擇，具體使用方法請參考各自的文檔。\n\n## 圖片壓縮\n\nButterfly 主題需要使用到很多圖片。如果圖片太大，會嚴重拖慢網站的加載速度。\n\n圖片壓縮能夠有效的緩解這個問題。\n\n除了通過`gulp-imagemin`來壓縮圖片，還可以通過在綫壓縮網站和軟件來進行壓縮。以下兩款是我自己正在使用的工具。網上有很多這樣的工具，挑選一款適合自己的就行。\n\n- [tinypng](https://tinypng.com/)\n\n  一個在綫壓縮的網站。壓縮後的圖片也保留了很高的質量，在知乎上很多人推薦，不過免費版有限制。\n\n  ![butterfly-tinypng.png](https://oss.012700.xyz/butterfly/2024/09/butterfly-tinypng.png)\n\n- [caesium](https://saerasoft.com/caesium/)\n\n  開源軟件，支持 Windows 和 macOS。可以批量壓縮軟件，無限制。\n\n  ![butterfly-caesium.png](https://oss.012700.xyz/butterfly/2024/09/butterfly-caesium.png)\n\n- [imgbot](https://github.com/marketplace/imgbot)\n\nimgbot 是一款 Github 插件。\n\n安裝後，你上傳圖片到 Github 去，imgbot 會自動壓縮圖片並推送 PR，我們只需要合併 PR 就行\n\n你可以配置 imgbot 的偵測方法、壓縮方法（有損/無損），具體可以查看插件的文檔\n\n![butterfly-enhance-imgbot.png](https://oss.012700.xyz/butterfly/2024/09/butterfly-enhance-imgbot.png)\n\n## 插件推薦\n\n- [hexo-abbrlink](https://github.com/rozbo/hexo-abbrlink)\n\n  可以把鏈接 permalink 轉為數字的插件，配置容易，生成時自動轉為數字。\n\n- [hexo-generator-feed](https://github.com/hexojs/hexo-generator-feed)\n\n  生成 RSS 文件的插件\n\n- [hexo-filter-nofollow](https://github.com/hexojs/hexo-filter-nofollow)\n\n  為網站使用到的所有外鏈添加`rel=\"noopener external nofollow noreferrer\"`, 可以有效地加強網站 SEO 和防止權重流失\n\n- [hexo-generator-sitemap](https://github.com/hexojs/hexo-generator-sitemap)\n\n  生成 sitemap 的插件\n\n- [hexo-generator-baidu-sitemap](https://github.com/coneycode/hexo-generator-baidu-sitemap)\n\n  看名字就知道，是專門為百度生成 sitemap 的插件\n","tags":["教程","Hexo","主題","butterfly"],"categories":["Docs文檔"]},{"title":"Butterfly 文檔(五) 主題問答","url":"/article/405e153.html","content":"\n{% note green 'fas fa-rocket' %}\n\n📚 文檔目錄\n\n{% post_link 主题/Butterfly-文檔-一-快速開始 ' 🚀 快速開始' %} - {% post_link 主题/Butterfly-文檔-二-主題頁面 ' 📑 主題頁面' %} - {% post_link 主题/Butterfly-文檔-三-主題配置 ' 📌 主題配置' %} - {% post_link 主题/Butterfly-文檔-四-標簽外掛 ' ⚔️ 標簽外挂' %} - {% post_link 主题/Butterfly-文檔-五-主題問答 ' ❓ 主題問答' %} - {% post_link 主题/Butterfly-文檔-六-進階教程 ' ⚡️ 進階教程' %}\n{% endnote %}\n\n{% note orange 'fas fa-magic' %}\n\n你可以通過右下角的 **簡** 按鈕切換為簡體顯示\n\n{% endnote %}\n\n---\n\n以下是一些網友在安裝的過程中出現的問題。在提問題之前，先看有沒有解決方法。\n\n### 運行後網頁顯示代碼\n\n頁面只顯示 `extends includes/layout.pug block content #recent-posts.recent-posts include includes/recent-posts.pug include includes/pagination.pug #aside_content.aside_content include includes/aside.pug`\n\n> 請下載安裝：`npm install hexo-renderer-pug hexo-renderer-stylus --save` or `yarn add hexo-renderer-pug hexo-renderer-stylus`\n\n### 配置友情鏈接報錯\n\n配置友情鏈接頁面時出現報錯\n\n```\nERROR D:\\Desktop\\orxing-blog\\themes\\Butterfly\\layout\\flink.pug:2\n    1| .flink\n  > 2|   each i in site.data.link\n    3|     p.comment-word= i.class_name\n    4|     .post-cards\n    5|       ul.md-links\n\nCannot read property &#39;length&#39; of undefined\nTypeError: D:\\Desktop\\orxing-blog\\themes\\Butterfly\\layout\\flink.pug:2\n    1| .flink\n  > 2|   each i in site.data.link\n    3|     p.comment-word= i.class_name\n    4|     .post-cards\n    5|       ul.md-links\n\nCannot read property &#39;length&#39; of undefined\n    at eval (eval at wrap (D:\\Desktop\\orxing-blog\\node_modules\\pug-runtime\\wrap.js:6:10), <anonymous>:1890:32)\n    at eval (eval at wrap (D:\\Desktop\\orxing-blog\\node_modules\\pug-runtime\\wrap.js:6:10), <anonymous>:2017:4)\n    at template (eval at wrap (D:\\Desktop\\orxing-blog\\node_modules\\pug-runtime\\wrap.js:6:10), <anonymous>:10152:72)\n    at Theme._View.View._compiled (D:\\Desktop\\orxing-blog\\node_modules\\hexo\\lib\\theme\\view.js:123:48)\n    at Theme._View.View.View.render (D:\\Desktop\\orxing-blog\\node_modules\\hexo\\lib\\theme\\view.js:29:15)\n    at D:\\Desktop\\orxing-blog\\node_modules\\hexo\\lib\\hexo\\index.js:349:21\n    at tryCatcher (D:\\Desktop\\orxing-blog\\node_modules\\bluebird\\js\\release\\util.js:16:23)\n    at D:\\Desktop\\orxing-blog\\node_modules\\bluebird\\js\\release\\method.js:15:34\n    at RouteStream._read (D:\\Desktop\\orxing-blog\\node_modules\\hexo\\lib\\hexo\\router.js:123:3)\n    at RouteStream.Readable.read (_stream_readable.js:457:10)\n    at resume_ (_stream_readable.js:936:12)\n    at processTicksAndRejections (internal/process/task_queues.js:84:9)\n```\n\n> 請檢查 `link.yml`文檔內代碼的空格\n\n### 升級最新版後運行報錯\n\n升級最新版本 hexo g 後報錯\n\n```\nINFO  Deleted database.\nINFO  Start processing\nFATAL Something&#39;s wrong. Maybe you can find the solution here: https://hexo.io/docs/troubleshooting.html\nTypeError: Cannot read property &#39;enable&#39; of undefined\n    at Hexo.<anonymous> (/Users/qinkangdeid/Nextcloud/work/codes/personal/github/personal/qinkangdeid.github.io/themes/Butterfly/scripts/post-lazyload.js:5:23)\n    at Hexo.tryCatcher (/Users/qinkangdeid/Nextcloud/work/codes/personal/github/personal/qinkangdeid.github.io/node_modules/bluebird/js/release/util.js:16:23)\n    at Hexo.<anonymous> (/Users/qinkangdeid/Nextcloud/work/codes/personal/github/personal/qinkangdeid.github.io/node_modules/bluebird/js/release/method.js:15:34)\n    at /Users/qinkangdeid/Nextcloud/work/codes/personal/github/personal/qinkangdeid.github.io/node_modules/hexo/lib/extend/filter.js:60:50\n    at tryCatcher (/Users/qinkangdeid/Nextcloud/work/codes/personal/github/personal/qinkangdeid.github.io/node_modules/bluebird/js/release/util.js:16:23)\n    at Object.gotValue (/Users/qinkangdeid/Nextcloud/work/codes/personal/github/personal/qinkangdeid.github.io/node_modules/bluebird/js/release/reduce.js:155:18)\n    at Object.gotAccum (/Users/qinkangdeid/Nextcloud/work/codes/personal/github/personal/qinkangdeid.github.io/node_modules/bluebird/js/release/reduce.js:144:25)\n    at Object.tryCatcher (/Users/qinkangdeid/Nextcloud/work/codes/personal/github/personal/qinkangdeid.github.io/node_modules/bluebird/js/release/util.js:16:23)\n    at Promise._settlePromiseFromHandler (/Users/qinkangdeid/Nextcloud/work/codes/personal/github/personal/qinkangdeid.github.io/node_modules/bluebird/js/release/promise.js:517:31)\n    at Promise._settlePromise (/Users/qinkangdeid/Nextcloud/work/codes/personal/github/personal/qinkangdeid.github.io/node_modules/bluebird/js/release/promise.js:574:18)\n    at Promise._settlePromiseCtx (/Users/qinkangdeid/Nextcloud/work/codes/personal/github/personal/qinkangdeid.github.io/node_modules/bluebird/js/release/promise.js:611:10)\n    at _drainQueueStep (/Users/qinkangdeid/Nextcloud/work/codes/personal/github/personal/qinkangdeid.github.io/node_modules/bluebird/js/release/async.js:142:12)\n    at _drainQueue (/Users/qinkangdeid/Nextcloud/work/codes/personal/github/personal/qinkangdeid.github.io/node_modules/bluebird/js/release/async.js:131:9)\n    at Async._drainQueues (/Users/qinkangdeid/Nextcloud/work/codes/personal/github/personal/qinkangdeid.github.io/node_modules/bluebird/js/release/async.js:147:5)\n    at Immediate.Async.drainQueues [as _onImmediate] (/Users/qinkangdeid/Nextcloud/work/codes/personal/github/personal/qinkangdeid.github.io/node_modules/bluebird/js/release/async.js:17:14)\n    at processImmediate (internal/timers.js:439:21)\n```\n\n> 請參照最新版的_config.yml, 比對後，把缺的配置複製到主題配置文件中去\n\n### wordcount is not a function / totalcount is not a function\n\n報錯`wordcount is not a function`\n\n> 請檢查是否安裝了 wordcount 插件 `npm i --save hexo-wordcount`\n\n### 升級 2.0.0 後運行報錯\n\n舊版本升級到 2.0.0 後報錯\n\n```\nINFO Start processing\nFATAL Something’s wrong. Maybe you can find the solution here: https://hexo.io/docs/troubleshooting.html\nTemplate render error: (unknown path)\nunexpected end of file\nat Object.prettifyError (F:\\hexo\\nodemodules\\nunjucks\\src\\lib.js:36:11)\nat Template.render (F:\\hexo\\node_modules\\nunjucks\\src\\environment.js:542:21)\nat Environment.renderString (F:\\hexo\\node_modules\\nunjucks\\src\\environment.js:380:17)\nat Promise.fromCallback.cb (F:\\hexo\\node_modules\\hexo\\lib\\extend\\tag.js:123:48)\nat tryCatcher (F:\\hexo\\node_modules\\bluebird\\js\\release\\util.js:16:23)\nat Function.Promise.fromNode.Promise.fromCallback (F:\\hexo\\node_modules\\bluebird\\js\\release\\promise.js:185:30)\nat Tag.render (F:\\hexo\\node_modules\\hexo\\lib\\extend\\tag.js:123:18)\nat Object.onRenderEnd (F:\\hexo\\node_modules\\hexo\\lib\\hexo\\post.js:280:20)\nat Promise.then.then.result (F:\\hexo\\node_modules\\hexo\\lib\\hexo\\render.js:64:19)\nat tryCatcher (F:\\hexo\\node_modules\\bluebird\\js\\release\\util.js:16:23)\nat Promise.settlePromiseFromHandler (F:\\hexo\\nodemodules\\bluebird\\js\\release\\promise.js:517:31)\n\n```\n\n> 2.0.0 版本以上刪掉了 gallery，而引入新的 gallery。所以如果有使用舊版，需刪掉或者更改寫法。\n\n### 代碼渲染與實際不同\n\n2.1.0 以下版本會出現的問題\n\n代碼渲染與實際不同\n\n```\n<div>aaa</div>\n```\n\n渲染結果:\n\n![73515338-e6874d80-442f-11ea-9d07-725d37002985.png](https://oss.012700.xyz/butterfly/2024/09/73515338-e6874d80-442f-11ea-9d07-725d37002985.png)\n\n> cheerio 版本錯誤，請安裝 0.22.0 版本\n>\n> npm install cheerio@0.22.0 --save\n\n### 搜索欄在底部\n\nhexo deploy 後搜索欄在頁面底部\n\n> 生成前先 hexo clean\n\n### 本地可以正常運行，但是 push 上去後出錯/缺失/無效\n\n> 1. 清理瀏覽器緩存\n> 2. 如果 1 無效，請確認上傳時是否有運行 hexo clean\n\n### 已在 Hexo 的配置文件設置了語言，為什麼導航欄仍然是英文\n\n> 請在導航的配置裏，自己修改成想要的中文\n\n```yaml\n首頁: / || fa fa-home\n時間軸: /archives/ || fa fa-archive\n標籤: /tags/ || fa fa-tags\n分類: /categories/ || fa fa-folder-open\n```\n\n### 運行報錯 Cannot read property 'bind' of undefined/full_url_for is not function\n\n```powershell\nTypeError: Cannot read property 'bind' of undefined\n```\n\n> 把 Hexo 升級到 4.0 以上版本\n\n### Cannot read property 'appId' of undefined\n\n報錯\n\n```powershell\n  > 1| -\n    2|   var algolia = 'undefined';\n    3|   var env = process.env;\n    4|   if (theme.algolia_search.enable) {\n\nCannot read property 'appId' of undefined\n    at eval (eval at wrap (F:\\github\\Blog\\blog\\node_modules\\pug-runtime\\wrap.js:6:10), <anonymous>:8:49)\n    at template (eval at wrap (F:\\github\\Blog\\blog\\node_modules\\pug-runtime\\wrap.js:6:10), <anonymous>:329:53)\n    at _View._compiledSync (F:\\github\\Blog\\blog\\node_modules\\hexo\\lib\\theme\\view.js:132:24)\n    at _View.renderSync (F:\\github\\Blog\\blog\\node_modules\\hexo\\lib\\theme\\view.js:59:25)\n    at F:\\github\\Blog\\blog\\node_modules\\hexo\\lib\\plugins\\helper\\partial.js:31:52\n    at Cache.apply (F:\\github\\Blog\\blog\\node_modules\\hexo\\node_modules\\hexo-util\\lib\\cache.js:27:46)\n    at Object.fragmentCache (F:\\github\\Blog\\blog\\node_modules\\hexo\\lib\\plugins\\helper\\fragment_cache.js:11:34)\n    at Object.partial (F:\\github\\Blog\\blog\\node_modules\\hexo\\lib\\plugins\\helper\\partial.js:31:17)\n    at eval (eval at wrap (F:\\github\\Blog\\blog\\node_modules\\pug-runtime\\wrap.js:6:10), <anonymous>:149:46)\n    at template (eval at wrap (F:\\github\\Blog\\blog\\node_modules\\pug-runtime\\wrap.js:6:10), <anonymous>:5213:93)\n    at _View._compiled (F:\\github\\Blog\\blog\\node_modules\\hexo\\lib\\theme\\view.js:136:50)\n    at _View.render (F:\\github\\Blog\\blog\\node_modules\\hexo\\lib\\theme\\view.js:39:17)\n    at F:\\github\\Blog\\blog\\node_modules\\hexo\\lib\\hexo\\index.js:64:21\n    at tryCatcher (F:\\github\\Blog\\blog\\node_modules\\hexo\\node_modules\\bluebird\\js\\release\\util.js:16:23)\n    at F:\\github\\Blog\\blog\\node_modules\\hexo\\node_modules\\bluebird\\js\\release\\method.js:15:34\n    at RouteStream._read (F:\\github\\Blog\\blog\\node_modules\\hexo\\lib\\hexo\\router.js:30:5)\n    at RouteStream.Readable.read (_stream_readable.js:490:10)\n    at resume_ (_stream_readable.js:975:12)\n    at processTicksAndRejections (internal/process/task_queues.js:80:21) {\n  path: 'F:\\\\github\\\\Blog\\\\blog\\\\themes\\\\Butterfly\\\\layout\\\\includes\\\\head.pug'\n}\n```\n\n> algolia 插件安裝後還需要配置\n> 查看插件文檔配置\n\n### 頂部出現 Loading\n\n> 生成前先 hexo clean\n\n### 點擊中文目錄報錯的問題\n\n這種情況出現在主題為 `3.0.0`以下版本，升級主題就行\n\n### Uncaught ReferenceError: regeneratorRuntime is not defined\n\n這是因為使用 babel 壓縮代碼而出現的報錯，具體解決方法查看 [babel/gulp-babel](https://github.com/babel/gulp-babel#runtime)\n\n{% btn '/posts/fa36e355/',⚡️ Butterfly 文檔(六) 進階教程,far fa-hand-point-right,block orange right larger %}\n","tags":["教程","Hexo","主題","butterfly"],"categories":["Docs文檔"]},{"title":"Butterfly 文檔(四) 標簽外挂","url":"/article/d9078dbf.html","content":"\n{% note green 'fas fa-rocket' %}\n\n📚 文檔目錄\n\n{% post_link 主题/Butterfly-文檔-一-快速開始 ' 🚀 快速開始' %} - {% post_link 主题/Butterfly-文檔-二-主題頁面 ' 📑 主題頁面' %} - {% post_link 主题/Butterfly-文檔-三-主題配置 ' 📌 主題配置' %} - {% post_link 主题/Butterfly-文檔-四-標簽外掛 ' ⚔️ 標簽外挂' %} - {% post_link 主题/Butterfly-文檔-五-主題問答 ' ❓ 主題問答' %} - {% post_link 主题/Butterfly-文檔-六-進階教程 ' ⚡️ 進階教程' %}\n\n{% endnote %}\n\n{% note orange 'fas fa-magic' %}\n\n你可以通過右下角的 **簡** 按鈕切換為簡體顯示\n\n{% endnote %}\n\n---\n\n{% note info %}\n\n標籤外掛是 Hexo 獨有的功能，並不是標準的 Markdown 格式。\n\n以下的寫法，只適用於 Butterfly 主題，用在其它主題上不會有效果，甚至可能會報錯。使用前請留意\n\n{% endnote %}\n\n{% note warning %}\n\n標籤外掛雖然能為主題帶來一些額外的功能和 UI 方面的強化，但是，標籤外掛也有明顯的限制，使用時請留意。\n\n{% endnote %}\n\n## Note (Bootstrap Callout)\n\n{% tabs note %}\n\n<!-- tab 通用設置 -->\n\n移植於 next 主題，並進行修改。\n\n```yaml\nnote:\n  # Note tag style values:\n  #  - simple    bs-callout old alert style. Default.\n  #  - modern    bs-callout new (v2-v3) alert style.\n  #  - flat      flat callout style with background, like on Mozilla or StackOverflow.\n  #  - disabled  disable all CSS styles import of note tag.\n  style: simple\n  icons: false\n  border_radius: 3\n  # Offset lighter of background in % for modern and flat styles (modern: -12 | 12; flat: -18 | 6).\n  # Offset also applied to label tag variables. This option can work with disabled note tag.\n  light_bg_offset: 0\n```\n\n| 名稱            | 解釋                                                                                   |\n| --------------- | -------------------------------------------------------------------------------------- |\n| style           | 【可選】標籤樣式 <br>（simple/modern/flat/disabled）                                    |\n| icons           | 【可選】是否顯示 icon                                                                   |\n| border_radius   | 【可選】邊框圓角                                                                       |\n| light_bg_offset | 【可選】背景色偏移量                                                                   |\n\n`icons` 和 `light_bg_offset` 只對*方法一*生效\n\nNote 標籤外掛有兩種用法\n\n<!-- endtab -->\n\n<!-- tab 用法 1 -->\n\n```markdown\n{% note [class] [no-icon] [style] %}\nAny content (support inline tags too.io).\n{% endnote %}\n```\n\n| 名稱    | 用法                                                                                                |\n| ------- | --------------------------------------------------------------------------------------------------- |\n| class   | 【可選】標識，不同的標識有不同的配色<br>（ default / primary / success / info / warning / danger ） |\n| no-icon | 【可選】不顯示 icon                                                                                 |\n| style   | 【可選】可以覆蓋配置中的 style <br>（simple/modern/flat/disabled）                                  |\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\nsimple\n{% endnote %}\n\n```markdown\n{% note simple %}\n默認 提示塊標籤\n{% endnote %}\n\n{% note default simple %}\ndefault 提示塊標籤\n{% endnote %}\n\n{% note primary simple %}\nprimary 提示塊標籤\n{% endnote %}\n\n{% note success simple %}\nsuccess 提示塊標籤\n{% endnote %}\n\n{% note info simple %}\ninfo 提示塊標籤\n{% endnote %}\n\n{% note warning simple %}\nwarning 提示塊標籤\n{% endnote %}\n\n{% note danger simple %}\ndanger 提示塊標籤\n{% endnote %}\n```\n\n{% note simple %}\n默認 提示塊標籤\n{% endnote %}\n\n{% note default simple %}\ndefault 提示塊標籤\n{% endnote %}\n\n{% note primary simple %}\nprimary 提示塊標籤\n{% endnote %}\n\n{% note success simple %}\nsuccess 提示塊標籤\n{% endnote %}\n\n{% note info simple %}\ninfo 提示塊標籤\n{% endnote %}\n\n{% note warning simple %}\nwarning 提示塊標籤\n{% endnote %}\n\n{% note danger simple %}\ndanger 提示塊標籤\n{% endnote %}\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\nmodern\n{% endnote %}\n\n```markdown\n{% note modern %}\n默認 提示塊標籤\n{% endnote %}\n\n{% note default modern %}\ndefault 提示塊標籤\n{% endnote %}\n\n{% note primary modern %}\nprimary 提示塊標籤\n{% endnote %}\n\n{% note success modern %}\nsuccess 提示塊標籤\n{% endnote %}\n\n{% note info modern %}\ninfo 提示塊標籤\n{% endnote %}\n\n{% note warning modern %}\nwarning 提示塊標籤\n{% endnote %}\n\n{% note danger modern %}\ndanger 提示塊標籤\n{% endnote %}\n```\n\n{% note modern %}\n默認 提示塊標籤\n{% endnote %}\n\n{% note default modern %}\ndefault 提示塊標籤\n{% endnote %}\n\n{% note primary modern %}\nprimary 提示塊標籤\n{% endnote %}\n\n{% note success modern %}\nsuccess 提示塊標籤\n{% endnote %}\n\n{% note info modern %}\ninfo 提示塊標籤\n{% endnote %}\n\n{% note warning modern %}\nwarning 提示塊標籤\n{% endnote %}\n\n{% note danger modern %}\ndanger 提示塊標籤\n{% endnote %}\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\nflat\n{% endnote %}\n\n```markdown\n{% note flat %}\n默認 提示塊標籤\n{% endnote %}\n\n{% note default flat %}\ndefault 提示塊標籤\n{% endnote %}\n\n{% note primary flat %}\nprimary 提示塊標籤\n{% endnote %}\n\n{% note success flat %}\nsuccess 提示塊標籤\n{% endnote %}\n\n{% note info flat %}\ninfo 提示塊標籤\n{% endnote %}\n\n{% note warning flat %}\nwarning 提示塊標籤\n{% endnote %}\n\n{% note danger flat %}\ndanger 提示塊標籤\n{% endnote %}\n```\n\n{% note flat %}\n默認 提示塊標籤\n{% endnote %}\n\n{% note default flat %}\ndefault 提示塊標籤\n{% endnote %}\n\n{% note primary flat %}\nprimary 提示塊標籤\n{% endnote %}\n\n{% note success flat %}\nsuccess 提示塊標籤\n{% endnote %}\n\n{% note info flat %}\ninfo 提示塊標籤\n{% endnote %}\n\n{% note warning flat %}\nwarning 提示塊標籤\n{% endnote %}\n\n{% note danger flat %}\ndanger 提示塊標籤\n{% endnote %}\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\ndisabled\n{% endnote %}\n\n```markdown\n{% note disabled %}\n默認 提示塊標籤\n{% endnote %}\n\n{% note default disabled %}\ndefault 提示塊標籤\n{% endnote %}\n\n{% note primary disabled %}\nprimary 提示塊標籤\n{% endnote %}\n\n{% note success disabled %}\nsuccess 提示塊標籤\n{% endnote %}\n\n{% note info disabled %}\ninfo 提示塊標籤\n{% endnote %}\n\n{% note warning disabled %}\nwarning 提示塊標籤\n{% endnote %}\n\n{% note danger disabled %}\ndanger 提示塊標籤\n{% endnote %}\n```\n\n{% note disabled %}\n默認 提示塊標籤\n{% endnote %}\n\n{% note default disabled %}\ndefault 提示塊標籤\n{% endnote %}\n\n{% note primary disabled %}\nprimary 提示塊標籤\n{% endnote %}\n\n{% note success disabled %}\nsuccess 提示塊標籤\n{% endnote %}\n\n{% note info disabled %}\ninfo 提示塊標籤\n{% endnote %}\n\n{% note warning disabled %}\nwarning 提示塊標籤\n{% endnote %}\n\n{% note danger disabled %}\ndanger 提示塊標籤\n{% endnote %}\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\nno-icon\n{% endnote %}\n\n```markdown\n{% note no-icon %}\n默認 提示塊標籤\n{% endnote %}\n\n{% note default no-icon %}\ndefault 提示塊標籤\n{% endnote %}\n\n{% note primary no-icon %}\nprimary 提示塊標籤\n{% endnote %}\n\n{% note success no-icon %}\nsuccess 提示塊標籤\n{% endnote %}\n\n{% note info no-icon %}\ninfo 提示塊標籤\n{% endnote %}\n\n{% note warning no-icon %}\nwarning 提示塊標籤\n{% endnote %}\n\n{% note danger no-icon %}\ndanger 提示塊標籤\n{% endnote %}\n```\n\n{% note no-icon %}\n默認 提示塊標籤\n{% endnote %}\n\n{% note default no-icon %}\ndefault 提示塊標籤\n{% endnote %}\n\n{% note primary no-icon %}\nprimary 提示塊標籤\n{% endnote %}\n\n{% note success no-icon %}\nsuccess 提示塊標籤\n{% endnote %}\n\n{% note info no-icon %}\ninfo 提示塊標籤\n{% endnote %}\n\n{% note warning no-icon %}\nwarning 提示塊標籤\n{% endnote %}\n\n{% note danger no-icon %}\ndanger 提示塊標籤\n{% endnote %}\n\n<!-- endtab -->\n\n<!-- tab 用法 2（自定義 icon）-->\n\n{% note pink 'fa-solid fa-bell' %}\n3.2.0 以上版本支持\n{% endnote %}\n\n```markdown\n{% note [color] [icon] [style] %}\nAny content (support inline tags too.io).\n{% endnote %}\n```\n\n| 名稱  | 用法                                                                     |\n| ----- | ------------------------------------------------------------------------ |\n| color | 【可選】顔色 <br>(default / blue / pink / red / purple / orange / green) |\n| icon  | 【可選】可配置自定義 icon (只支持 fontawesome 圖標, 也可以配置 no-icon ) |\n| style | 【可選】可以覆蓋配置中的 style<br/>（simple/modern/flat/disabled）       |\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\nsimple\n{% endnote %}\n\n```markdown\n{% note 'fab fa-cc-visa' simple %}\n你是刷 Visa 還是 UnionPay\n{% endnote %}\n{% note blue 'fas fa-bullhorn' simple %}\n2021 年快到了....\n{% endnote %}\n{% note pink 'fas fa-car-crash' simple %}\n小心開車 安全至上\n{% endnote %}\n{% note red 'fas fa-fan' simple%}\n這是三片呢？還是四片？\n{% endnote %}\n{% note orange 'fas fa-battery-half' simple %}\n你是刷 Visa 還是 UnionPay\n{% endnote %}\n{% note purple 'far fa-hand-scissors' simple %}\n剪刀石頭布\n{% endnote %}\n{% note green 'fab fa-internet-explorer' simple %}\n前端最討厭的瀏覽器\n{% endnote %}\n```\n\n{% note 'fab fa-cc-visa' simple %}\n你是刷 Visa 還是 UnionPay\n{% endnote %}\n{% note blue 'fas fa-bullhorn' simple %}\n2021 年快到了....\n{% endnote %}\n{% note pink 'fas fa-car-crash' simple %}\n小心開車 安全至上\n{% endnote %}\n{% note red 'fas fa-fan' simple%}\n這是三片呢？還是四片？\n{% endnote %}\n{% note orange 'fas fa-battery-half' simple %}\n你是刷 Visa 還是 UnionPay\n{% endnote %}\n{% note purple 'far fa-hand-scissors' simple %}\n剪刀石頭布\n{% endnote %}\n{% note green 'fab fa-internet-explorer' simple %}\n前端最討厭的瀏覽器\n{% endnote %}\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\nmodern\n{% endnote %}\n\n```markdown\n{% note 'fab fa-cc-visa' modern %}\n你是刷 Visa 還是 UnionPay\n{% endnote %}\n{% note blue 'fas fa-bullhorn' modern %}\n2021 年快到了....\n{% endnote %}\n{% note pink 'fas fa-car-crash' modern %}\n小心開車 安全至上\n{% endnote %}\n{% note red 'fas fa-fan' modern%}\n這是三片呢？還是四片？\n{% endnote %}\n{% note orange 'fas fa-battery-half' modern %}\n你是刷 Visa 還是 UnionPay\n{% endnote %}\n{% note purple 'far fa-hand-scissors' modern %}\n剪刀石頭布\n{% endnote %}\n{% note green 'fab fa-internet-explorer' modern %}\n前端最討厭的瀏覽器\n{% endnote %}\n```\n\n{% note 'fab fa-cc-visa' modern %}\n你是刷 Visa 還是 UnionPay\n{% endnote %}\n{% note blue 'fas fa-bullhorn' modern %}\n2021 年快到了....\n{% endnote %}\n{% note pink 'fas fa-car-crash' modern %}\n小心開車 安全至上\n{% endnote %}\n{% note red 'fas fa-fan' modern%}\n這是三片呢？還是四片？\n{% endnote %}\n{% note orange 'fas fa-battery-half' modern %}\n你是刷 Visa 還是 UnionPay\n{% endnote %}\n{% note purple 'far fa-hand-scissors' modern %}\n剪刀石頭布\n{% endnote %}\n{% note green 'fab fa-internet-explorer' modern %}\n前端最討厭的瀏覽器\n{% endnote %}\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\nflat\n{% endnote %}\n\n```markdown\n{% note 'fab fa-cc-visa' flat %}\n你是刷 Visa 還是 UnionPay\n{% endnote %}\n{% note blue 'fas fa-bullhorn' flat %}\n2021 年快到了....\n{% endnote %}\n{% note pink 'fas fa-car-crash' flat %}\n小心開車 安全至上\n{% endnote %}\n{% note red 'fas fa-fan' flat%}\n這是三片呢？還是四片？\n{% endnote %}\n{% note orange 'fas fa-battery-half' flat %}\n你是刷 Visa 還是 UnionPay\n{% endnote %}\n{% note purple 'far fa-hand-scissors' flat %}\n剪刀石頭布\n{% endnote %}\n{% note green 'fab fa-internet-explorer' flat %}\n前端最討厭的瀏覽器\n{% endnote %}\n```\n\n{% note 'fab fa-cc-visa' flat%}\n你是刷 Visa 還是 UnionPay\n{% endnote %}\n{% note blue 'fas fa-bullhorn' flat%}\n2021 年快到了....\n{% endnote %}\n{% note pink 'fas fa-car-crash' flat%}\n小心開車 安全至上\n{% endnote %}\n{% note red 'fas fa-fan' flat %}\n這是三片呢？還是四片？\n{% endnote %}\n{% note orange 'fas fa-battery-half' flat %}\n你是刷 Visa 還是 UnionPay\n{% endnote %}\n{% note purple 'far fa-hand-scissors' flat %}\n剪刀石頭布\n{% endnote %}\n{% note green 'fab fa-internet-explorer' flat %}\n前端最討厭的瀏覽器\n{% endnote %}\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\ndisabled\n{% endnote %}\n\n```markdown\n{% note 'fab fa-cc-visa' disabled %}\n你是刷 Visa 還是 UnionPay\n{% endnote %}\n{% note blue 'fas fa-bullhorn' disabled %}\n2021 年快到了....\n{% endnote %}\n{% note pink 'fas fa-car-crash' disabled %}\n小心開車 安全至上\n{% endnote %}\n{% note red 'fas fa-fan' disabled %}\n這是三片呢？還是四片？\n{% endnote %}\n{% note orange 'fas fa-battery-half' disabled %}\n你是刷 Visa 還是 UnionPay\n{% endnote %}\n{% note purple 'far fa-hand-scissors' disabled %}\n剪刀石頭布\n{% endnote %}\n{% note green 'fab fa-internet-explorer' disabled %}\n前端最討厭的瀏覽器\n{% endnote %}\n```\n\n{% note 'fab fa-cc-visa' disabled %}\n你是刷 Visa 還是 UnionPay\n{% endnote %}\n{% note blue 'fas fa-bullhorn' disabled %}\n2021 年快到了....\n{% endnote %}\n{% note pink 'fas fa-car-crash' disabled %}\n小心開車 安全至上\n{% endnote %}\n{% note red 'fas fa-fan' disabled %}\n這是三片呢？還是四片？\n{% endnote %}\n{% note orange 'fas fa-battery-half' disabled %}\n你是刷 Visa 還是 UnionPay\n{% endnote %}\n{% note purple 'far fa-hand-scissors' disabled %}\n剪刀石頭布\n{% endnote %}\n{% note green 'fab fa-internet-explorer' disabled %}\n前端最討厭的瀏覽器\n{% endnote %}\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\nno-icon\n{% endnote %}\n\n```markdown\n{% note no-icon %}\n你是刷 Visa 還是 UnionPay\n{% endnote %}\n{% note blue no-icon %}\n2021 年快到了....\n{% endnote %}\n{% note pink no-icon %}\n小心開車 安全至上\n{% endnote %}\n{% note red no-icon %}\n這是三片呢？還是四片？\n{% endnote %}\n{% note orange no-icon %}\n你是刷 Visa 還是 UnionPay\n{% endnote %}\n{% note purple no-icon %}\n剪刀石頭布\n{% endnote %}\n{% note green no-icon %}\n前端最討厭的瀏覽器\n{% endnote %}\n```\n\n{% note no-icon %}\n你是刷 Visa 還是 UnionPay\n{% endnote %}\n{% note blue no-icon %}\n2021 年快到了....\n{% endnote %}\n{% note pink no-icon %}\n小心開車 安全至上\n{% endnote %}\n{% note red no-icon %}\n這是三片呢？還是四片？\n{% endnote %}\n{% note orange no-icon %}\n你是刷 Visa 還是 UnionPay\n{% endnote %}\n{% note purple no-icon %}\n剪刀石頭布\n{% endnote %}\n{% note green no-icon %}\n前端最討厭的瀏覽器\n{% endnote %}\n\n<!-- endtab -->\n\n{% endtabs %}\n\n## Gallery 相冊圖庫\n\n{% note pink 'fa-solid fa-bell' %}\n2.2.0 以上提供\n{% endnote %}\n\n一個圖庫集合。\n\n寫法\n\n```\n<div class=\"gallery-group-main\">\n{% galleryGroup name description link img-url %}\n{% galleryGroup name description link img-url %}\n{% galleryGroup name description link img-url %}\n</div>\n```\n\n| 參數        | 解釋           |\n| ----------- | -------------- |\n| name        | 圖庫名字       |\n| description | 圖庫描述       |\n| link        | 連接到對應相冊的地址 |\n| img-url     | 圖庫封面的地址 |\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\n例子\n{% endnote %}\n\n```\n<div class=\"gallery-group-main\">\n{% galleryGroup '壁紙' '收藏的一些壁紙' '/Gallery/wallpaper' https://i.loli.net/2019/11/10/T7Mu8Aod3egmC4Q.png %}\n{% galleryGroup '漫威' '關於漫威的圖片' '/Gallery/marvel' https://i.loli.net/2019/12/25/8t97aVlp4hgyBGu.jpg %}\n{% galleryGroup 'OH MY GIRL' '關於OH MY GIRL的圖片' '/Gallery/ohmygirl' https://i.loli.net/2019/12/25/hOqbQ3BIwa6KWpo.jpg %}\n</div>\n```\n\n<div class=\"gallery-group-main\">\n{% galleryGroup '壁紙' '收藏的一些壁紙' '/Gallery/wallpaper' https://i.loli.net/2019/11/10/T7Mu8Aod3egmC4Q.png %}\n{% galleryGroup '漫威' '關於漫威的圖片' '/Gallery/marvel' https://i.loli.net/2019/12/25/8t97aVlp4hgyBGu.jpg %}\n{% galleryGroup 'OH MY GIRL' '關於OH MY GIRL的圖片' '/Gallery/ohmygirl' https://i.loli.net/2019/12/25/hOqbQ3BIwa6KWpo.jpg %}\n</div>\n\n## Gallery 相冊\n\n{% note pink 'fa-solid fa-bell' %}\n2.0.0 以上提供\n{% endnote %}\n\n區別於舊版的 Gallery 相冊,新的 Gallery 相冊會自動根據圖片長度進行排版，書寫也更加方便，與 markdown 格式一樣。可根據需要插入到相應的 md。\n\n{% tabs %}\n\n<!-- tab 本地 -->\n\n寫法:\n\n```markdown\n{% gallery [lazyload],[rowHeight],[limit] %}\nmarkdown 圖片格式\n{% endgallery %}\n```\n\n| 參數      | 解釋                                                                                 |\n| --------- | ------------------------------------------------------------------------------------ |\n| lazyload  | 【可選】點擊按鈕加載更多圖片，填寫 true/false。默認為 `false`。                      |\n| rowHeight | 【可選】圖片顯示的高度，如果需要一行顯示更多的圖片，可設置更小的數字。默認為 `220`。 |\n| limit     | 【可選】每次加載多少張照片。默認為 `10`。                                            |\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\n例子\n{% endnote %}\n\n```markdown\n{% gallery %}\nmarkdown 圖片格式\n{% endgallery %}\n\n{% gallery true,220,10 %}\nmarkdown 圖片格式\n{% endgallery %}\n\n{% gallery true,,10 %}\nmarkdown 圖片格式\n{% endgallery %}\n```\n\n例如\n\n```markdown\n{% gallery %}\n![](https://i.loli.net/2019/12/25/Fze9jchtnyJXMHN.jpg)\n![](https://i.loli.net/2019/12/25/ryLVePaqkYm4TEK.jpg)\n![](https://i.loli.net/2019/12/25/gEy5Zc1Ai6VuO4N.jpg)\n![](https://i.loli.net/2019/12/25/d6QHbytlSYO4FBG.jpg)\n![](https://i.loli.net/2019/12/25/6nepIJ1xTgufatZ.jpg)\n![](https://i.loli.net/2019/12/25/E7Jvr4eIPwUNmzq.jpg)\n![](https://i.loli.net/2019/12/25/mh19anwBSWIkGlH.jpg)\n![](https://i.loli.net/2019/12/25/2tu9JC8ewpBFagv.jpg)\n{% endgallery %}\n```\n\n{% gallery %}\n![](https://i.loli.net/2019/12/25/Fze9jchtnyJXMHN.jpg)\n![](https://i.loli.net/2019/12/25/ryLVePaqkYm4TEK.jpg)\n![](https://i.loli.net/2019/12/25/gEy5Zc1Ai6VuO4N.jpg)\n![](https://i.loli.net/2019/12/25/d6QHbytlSYO4FBG.jpg)\n![](https://i.loli.net/2019/12/25/6nepIJ1xTgufatZ.jpg)\n![](https://i.loli.net/2019/12/25/E7Jvr4eIPwUNmzq.jpg)\n![](https://i.loli.net/2019/12/25/mh19anwBSWIkGlH.jpg)\n![](https://i.loli.net/2019/12/25/2tu9JC8ewpBFagv.jpg)\n{% endgallery %}\n\n<!-- endtab -->\n\n<!-- tab 遠程拉取 -->\n\n寫法：\n\n```markdown\n{% gallery url,[link],[lazyload],[rowHeight],[limit] %}\n{% endgallery %}\n```\n\n| 參數      | 解釋                                                                                 |\n| --------- | ------------------------------------------------------------------------------------ |\n| url       | 【必須】 識別詞                                                                      |\n| link      | 【必須】遠程的 json 鏈接                                                             |\n| lazyload  | 【可選】點擊按鈕加載更多圖片，填寫 true/false。默認為 `false`。                      |\n| rowHeight | 【可選】圖片顯示的高度，如果需要一行顯示更多的圖片，可設置更小的數字。默認為 `220`。 |\n| limit     | 【可選】每次加載多少張照片。默認為 `10`。                                            |\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\n遠程鏈接 Json 的例子\n{% endnote %}\n\n有三個參數，`url`是必須**存在**的，`alt` 和 `title` 可有，也可沒有。\n\n```json\n[\n  {\n    \"url\": \"https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/IMG_0556.jpg\",\n    \"alt\": \"IMG_0556.jpg\",\n    \"title\": \"這是title\"\n  },\n  {\n    \"url\": \"https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/IMG_0472.jpg\",\n    \"alt\": \"IMG_0472.jpg\"\n  },\n  {\n    \"url\": \"https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/IMG_0453.jpg\",\n    \"alt\": \"\"\n  },\n  {\n    \"url\": \"https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/IMG_0931.jpg\",\n    \"alt\": \"\"\n  }\n]\n```\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\n示例\n{% endnote %}\n\n```markdown\n{% gallery url,https://xxxx.com/sss.json %}\n{% endgallery %}\n\n{% gallery url,https://xxxx.com/sss.json,true,220,10 %}\n{% endgallery %}\n\n{% gallery url,https://xxxx.com/sss.json,true,,10 %}\n{% endgallery %}\n```\n\n<!-- endtab -->\n\n{% endtabs %}\n\n## Tag-hide\n\n{% note warning %}\n\n2.2.0 以上提供\n\n請注意，tag-hide 內的標簽外掛 content 內都不建議有 h1 - h6 等標題。因為 Toc 會把隱藏內容標題也顯示出來，而且當滾動屏幕時，如果隱藏內容沒有顯示出來，會導致 Toc 的滾動出現異常。\n\n{% endnote %}\n\n如果你想把一些文字、內容隱藏起來，並提供按鈕讓用户點擊顯示。可以使用這個標籤外掛。\n\n{% tabs tag-hide %}\n\n<!-- tab Inline -->\n\n`inline` 在文本里面添加按鈕隱藏內容，只限文字\n\n( content 不能包含英文逗號，可用`&sbquo;`)\n\n```markdown\n{% hideInline content,display,bg,color %}\n```\n\n| 參數    | 解釋                                                                 |\n| ------- | -------------------------------------------------------------------- |\n| content | 文本內容                                                             |\n| display | 【可選】按鈕顯示的文字                                                 |\n| bg      | 【可選】按鈕的背景顏色                                                 |\n| color   | 【可選】按鈕文字的顏色                                                 |\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\n例子\n{% endnote %}\n\n```markdown\n哪個英文字母最酷？ {% hideInline 因為西裝褲(C裝酷),查看答案,#FF7242,#fff %}\n\n門裏站着一個人? {% hideInline 閃 %}\n```\n\n哪個英文字母最酷？ {% hideInline 因為西裝褲(C裝酷),查看答案,#FF7242,#fff %}\n\n門裏站着一個人? {% hideInline 閃 %}\n\n<!-- endtab -->\n\n<!-- tab Block -->\n\n`block`獨立的 block 隱藏內容，可以隱藏很多內容，包括圖片，代碼塊等等\n\n( display 不能包含英文逗號，可用`&sbquo;`)\n\n```markdown\n{% hideBlock display,bg,color %}\ncontent\n{% endhideBlock %}\n```\n\n| 參數    | 解釋                                                                 |\n| ------- | -------------------------------------------------------------------- |\n| content | 文本內容                                                             |\n| display | 【可選】按鈕顯示的文字                                                 |\n| bg      | 【可選】按鈕的背景顏色                                                 |\n| color   | 【可選】按鈕文字的顏色                                                 |\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\n例子\n{% endnote %}\n\n```mark\n查看答案\n{% hideBlock 查看答案 %}\n傻子，怎麼可能有答案\n{% endhideBlock %}\n```\n\n查看答案\n{% hideBlock 查看答案 %}\n傻子，怎麼可能有答案\n{% endhideBlock %}\n\n<!-- endtab -->\n\n<!-- tab Toggle -->\n\n{% note pink 'fa-solid fa-bell' %}\n2.3.0 以上支持\n{% endnote %}\n\n如果你需要展示的內容太多，可以把它隱藏在收縮框裏，需要時再把它展開。\n\n( display 不能包含英文逗號，可用`&sbquo;`)\n\n```markdown\n{% hideToggle display,bg,color %}\ncontent\n{% endhideToggle %}\n```\n\n| 參數    | 解釋                                                                 |\n| ------- | -------------------------------------------------------------------- |\n| display | 顯示的文字                                                 |\n| bg      | 【可選】背景顏色                                                 |\n| color   | 【可選】文字的顏色                                                 |\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\n例子\n{% endnote %}\n\n```markdown\n{% hideToggle Butterfly安裝方法 %}\n在你的博客根目錄裏\n\ngit clone -b master https://github.com/jerryc127/hexo-theme-butterfly.git themes/Butterfly\n\n如果想要安裝比較新的 dev 分支，可以\n\ngit clone -b dev https://github.com/jerryc127/hexo-theme-butterfly.git themes/Butterfly\n\n{% endhideToggle %}\n```\n\n{% hideToggle Butterfly安裝方法 %}\n在你的博客根目錄裏\n\ngit clone -b master https://github.com/jerryc127/hexo-theme-butterfly.git themes/Butterfly\n\n如果想要安裝比較新的 dev 分支，可以\n\ngit clone -b dev https://github.com/jerryc127/hexo-theme-butterfly.git themes/Butterfly\n\n{% endhideToggle %}\n\n<!-- endtab -->\n\n{% endtabs %}\n\n## Mermaid\n\n使用 mermaid 標籤可以繪製 Flowchart（流程圖）、Sequence diagram（時序圖 ）、Class Diagram（類別圖）、State Diagram（狀態圖）、Gantt（甘特圖）和 Pie Chart（圓形圖），具體可以查看[mermaid 文檔](https://mermaid-js.github.io/mermaid/#/)\n\n```yaml\n# Mermaid\n# https://github.com/mermaid-js/mermaid\nmermaid:\n  enable: false\n  # Write Mermaid diagrams using code blocks\n  code_write: false\n  # built-in themes: default / forest / dark / neutral\n  theme:\n    light: default\n    dark: dark\n```\n\n寫法：\n\n```markdown\n{% mermaid %}\n內容\n{% endmermaid %}\n```\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\n例子\n{% endnote %}\n\n```markdown\n{% mermaid %}\npie\ntitle Key elements in Product X\n\"Calcium\" : 42.96\n\"Potassium\" : 50.05\n\"Magnesium\" : 10.01\n\"Iron\" : 5\n{% endmermaid %}\n```\n\n{% mermaid %}\npie\ntitle Key elements in Product X\n\"Calcium\" : 42.96\n\"Potassium\" : 50.05\n\"Magnesium\" : 10.01\n\"Iron\" : 5\n{% endmermaid %}\n\n## Tabs\n\n移植於 next 主題\n\n使用方法\n\n```markdown\n{% tabs Unique name, [index] %}\n\n<!-- tab [Tab caption] [@icon] -->\n\nAny content (support inline tags too).\n\n<!-- endtab -->\n\n{% endtabs %}\n```\n\n| 參數         | 解釋                                                                                       |\n| ------------ | ------------------------------------------------------------------------------------------ |\n| Unique name  | tabs 區塊標籤的唯一名稱，不包含逗號。將用於每個選項卡的 #id 前綴，並附加其索引號。若名稱中有空格，生成 #id 時會將空格替換為短橫線。僅對當前文章/頁面的 URL 必須唯一！ |\n| [index]      | 【可選】活動選項卡的索引號。如果未指定，將選擇第一個選項卡（1）。如果索引為 -1，則不會選擇任何選項卡，類似於折疊內容。可選參數。 |\n| [Tab caption]| 當前選項卡的標題。如果未指定標題，將使用唯一名稱和選項卡索引後綴作為選項卡標題。如果未指定標題，但指定了圖標，標題將為空。 |\n| [@icon]      | 【可選】FontAwesome 圖標名稱（全名，如 'fas fa-font'）。可以有或沒有空格；例如 'Tab caption @icon' 與 'Tab caption@icon' 類似。|\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\n例子 1 - 預設選擇第一個【默認】\n{% endnote %}\n\n```markdown\n{% tabs test1 %}\n\n<!-- tab -->\n\n**This is Tab 1.**\n\n<!-- endtab -->\n\n<!-- tab -->\n\n**This is Tab 2.**\n\n<!-- endtab -->\n\n<!-- tab -->\n\n**This is Tab 3.**\n\n<!-- endtab -->\n\n{% endtabs %}\n```\n\n{% tabs test1 %}\n\n<!-- tab -->\n\n**This is Tab 1.**\n\n<!-- endtab -->\n\n<!-- tab -->\n\n**This is Tab 2.**\n\n<!-- endtab -->\n\n<!-- tab -->\n\n**This is Tab 3.**\n\n<!-- endtab -->\n\n{% endtabs %}\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\n例子 2 - 預設選擇 tabs\n{% endnote %}\n\n```markdown\n{% tabs test2, 3 %}\n\n<!-- tab -->\n\n**This is Tab 1.**\n\n<!-- endtab -->\n\n<!-- tab -->\n\n**This is Tab 2.**\n\n<!-- endtab -->\n\n<!-- tab -->\n\n**This is Tab 3.**\n\n<!-- endtab -->\n\n{% endtabs %}\n```\n\n{% tabs test2, 3 %}\n\n<!-- tab -->\n\n**This is Tab 1.**\n\n<!-- endtab -->\n\n<!-- tab -->\n\n**This is Tab 2.**\n\n<!-- endtab -->\n\n<!-- tab -->\n\n**This is Tab 3.**\n\n<!-- endtab -->\n\n{% endtabs %}\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\n例子 3 - 沒有預設值\n{% endnote %}\n\n```markdown\n{% tabs test3, -1 %}\n\n<!-- tab -->\n\n**This is Tab 1.**\n\n<!-- endtab -->\n\n<!-- tab -->\n\n**This is Tab 2.**\n\n<!-- endtab -->\n\n<!-- tab -->\n\n**This is Tab 3.**\n\n<!-- endtab -->\n\n{% endtabs %}\n```\n\n{% tabs test3, -1 %}\n\n<!-- tab -->\n\n**This is Tab 1.**\n\n<!-- endtab -->\n\n<!-- tab -->\n\n**This is Tab 2.**\n\n<!-- endtab -->\n\n<!-- tab -->\n\n**This is Tab 3.**\n\n<!-- endtab -->\n\n{% endtabs %}\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\n例子 4 - 自定義 Tab 名 + 只有 icon + icon 和 Tab 名\n{% endnote %}\n\n```markdown\n{% tabs test4 %}\n\n<!-- tab 第一個Tab -->\n\n**tab 名字為第一個 Tab**\n\n<!-- endtab -->\n\n<!-- tab @fab fa-apple-pay -->\n\n**只有圖標 沒有 Tab 名字**\n\n<!-- endtab -->\n\n<!-- tab 炸彈@fas fa-bomb -->\n\n**名字+icon**\n\n<!-- endtab -->\n\n{% endtabs %}\n```\n\n{% tabs test4 %}\n\n<!-- tab 第一個Tab -->\n\n**tab 名字為第一個 Tab**\n\n<!-- endtab -->\n\n<!-- tab @fab fa-apple-pay -->\n\n**只有圖標 沒有 Tab 名字**\n\n<!-- endtab -->\n\n<!-- tab 炸彈@fas fa-bomb -->\n\n**名字+icon**\n\n<!-- endtab -->\n\n{% endtabs %}\n\n## Button\n\n{% note pink 'fa-solid fa-bell' %}\n3.0 以上適用\n{% endnote %}\n\n使用方法：\n\n```markdown\n{% btn [url],[text],[icon],[color] [style] [layout] [position] [size] %}\n```\n\n| 參數      | 解釋                                                                                 |\n| --------- | ------------------------------------------------------------------------------------ |\n| url       | 【必須】鏈接地址                                                                     |\n| text      | 【必須】按鈕文字                                                                      |\n| icon      | 【可選】圖標                                                                         |\n| color     | 【可選】按鈕背景顔色（默認 style 時）按鈕字體和邊框顔色(outline 時)<br> 配置： default/blue/pink/red/purple/orange/green               |\n| style     | 【可選】按鈕樣式 默認實心 <br> 配置： outline/留空                                                |\n| layout    | 【可選】按鈕佈局 默認為 line <br> 配置： block/留空                                              |\n| position  | 【可選】按鈕位置 前提是設置了 layout 為 block 默認為左邊 <br> 配置： center/right/留空         |\n| size      | 【可選】按鈕大小 <br> 配置： larger/留空                                                          |\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\n例子\n{% endnote %}\n\n```markdown\nThis is my website, click the button {% btn 'https://butterfly.js.org/',Butterfly %}\nThis is my website, click the button {% btn 'https://butterfly.js.org/',Butterfly,far fa-hand-point-right %}\nThis is my website, click the button {% btn 'https://butterfly.js.org/',Butterfly,,outline %}\nThis is my website, click the button {% btn 'https://butterfly.js.org/',Butterfly,far fa-hand-point-right,outline %}\nThis is my website, click the button {% btn 'https://butterfly.js.org/',Butterfly,far fa-hand-point-right,larger %}\n```\n\nThis is my website, click the button {% btn 'https://butterfly.js.org/',Butterfly %}\nThis is my website, click the button {% btn 'https://butterfly.js.org/',Butterfly,far fa-hand-point-right %}\nThis is my website, click the button {% btn 'https://butterfly.js.org/',Butterfly,,outline %}\nThis is my website, click the button {% btn 'https://butterfly.js.org/',Butterfly,far fa-hand-point-right,outline %}\nThis is my website, click the button {% btn 'https://butterfly.js.org/',Butterfly,far fa-hand-point-right,larger %}\n\n```markdown\n{% btn 'https://butterfly.js.org/',Butterfly,far fa-hand-point-right,block %}\n{% btn 'https://butterfly.js.org/',Butterfly,far fa-hand-point-right,block center larger %}\n{% btn 'https://butterfly.js.org/',Butterfly,far fa-hand-point-right,block right outline larger %}\n```\n\n{% btn 'https://butterfly.js.org/',Butterfly,far fa-hand-point-right,block %}\n{% btn 'https://butterfly.js.org/',Butterfly,far fa-hand-point-right,block center larger %}\n{% btn 'https://butterfly.js.org/',Butterfly,far fa-hand-point-right,block right outline larger %}\n\n**more than one button in center**\n\n```markdown\n{% btn 'https://butterfly.js.org/',Butterfly,far fa-hand-point-right,larger %}\n{% btn 'https://butterfly.js.org/',Butterfly,far fa-hand-point-right,blue larger %}\n{% btn 'https://butterfly.js.org/',Butterfly,far fa-hand-point-right,pink larger %}\n{% btn 'https://butterfly.js.org/',Butterfly,far fa-hand-point-right,red larger %}\n{% btn 'https://butterfly.js.org/',Butterfly,far fa-hand-point-right,purple larger %}\n{% btn 'https://butterfly.js.org/',Butterfly,far fa-hand-point-right,orange larger %}\n{% btn 'https://butterfly.js.org/',Butterfly,far fa-hand-point-right,green larger %}\n```\n\n{% btn 'https://butterfly.js.org/',Butterfly,far fa-hand-point-right,larger %}\n{% btn 'https://butterfly.js.org/',Butterfly,far fa-hand-point-right,blue larger %}\n{% btn 'https://butterfly.js.org/',Butterfly,far fa-hand-point-right,pink larger %}\n{% btn 'https://butterfly.js.org/',Butterfly,far fa-hand-point-right,red larger %}\n{% btn 'https://butterfly.js.org/',Butterfly,far fa-hand-point-right,purple larger %}\n{% btn 'https://butterfly.js.org/',Butterfly,far fa-hand-point-right,orange larger %}\n{% btn 'https://butterfly.js.org/',Butterfly,far fa-hand-point-right,green larger %}\n\n```markdown\n<div class=\"btn-center\">\n{% btn 'https://butterfly.js.org/',Butterfly,far fa-hand-point-right,outline larger %}\n{% btn 'https://butterfly.js.org/',Butterfly,far fa-hand-point-right,outline blue larger %}\n{% btn 'https://butterfly.js.org/',Butterfly,far fa-hand-point-right,outline pink larger %}\n{% btn 'https://butterfly.js.org/',Butterfly,far fa-hand-point-right,outline red larger %}\n{% btn 'https://butterfly.js.org/',Butterfly,far fa-hand-point-right,outline purple larger %}\n{% btn 'https://butterfly.js.org/',Butterfly,far fa-hand-point-right,outline orange larger %}\n{% btn 'https://butterfly.js.org/',Butterfly,far fa-hand-point-right,outline green larger %}\n</div>\n```\n\n<div class=\"btn-center\">\n{% btn 'https://butterfly.js.org/',Butterfly,far fa-hand-point-right,outline larger %}\n{% btn 'https://butterfly.js.org/',Butterfly,far fa-hand-point-right,outline blue larger %}\n{% btn 'https://butterfly.js.org/',Butterfly,far fa-hand-point-right,outline pink larger %}\n{% btn 'https://butterfly.js.org/',Butterfly,far fa-hand-point-right,outline red larger %}\n{% btn 'https://butterfly.js.org/',Butterfly,far fa-hand-point-right,outline purple larger %}\n{% btn 'https://butterfly.js.org/',Butterfly,far fa-hand-point-right,outline orange larger %}\n{% btn 'https://butterfly.js.org/',Butterfly,far fa-hand-point-right,outline green larger %}\n</div>\n\n## InlineImg\n\n主題中的圖片都是默認以`塊級元素`顯示，如果你想以`內聯元素`顯示，可以使用這個標簽外掛。\n\n```markdown\n{% inlineImg [src] [height] %}\n```\n\n| 參數    | 解釋         |\n| ------- | ------------ |\n| src     | 圖片鏈接     |\n| height  | 【可選】圖片高度限制 |\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\n例子\n{% endnote %}\n\n```markdown\n你看她長得漂亮不\n\n![](https://i.loli.net/2021/03/19/2P6ivUGsdaEXSFI.png)\n\n我覺得很漂亮 {% inlineImg https://i.loli.net/2021/03/19/5M4jUB3ynq7ePgw.png 150px %}\n```\n\n你看我長得漂亮不\n\n![](https://i.loli.net/2021/03/19/2P6ivUGsdaEXSFI.png)\n\n我覺得很漂亮 {% inlineImg https://i.loli.net/2021/03/19/5M4jUB3ynq7ePgw.png 150px %}\n\n## Label\n\n{% note warning %}\n\n由於 hexo 的渲染限制， 在段落開頭使用 label 標籤外掛會出現一些問題。例如：連續開頭使用 label 標籤外掛的段落無法換行\n\n建議 **不要** 在段落開頭使用 label 標籤外掛\n\n{% endnote %}\n\n高亮所需的文字\n\n```markdown\n{% label text color %}\n```\n\n| 參數  | 解釋                                                                              |\n| ----- | --------------------------------------------------------------------------------- |\n| text  | 文字                                                                              |\n| color | 【可選】背景顏色，默認為 `default`<br />default/blue/pink/red/purple/orange/green |\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\n例子\n{% endnote %}\n\n```markdown\n臣亮言：{% label 先帝 %}創業未半，而{% label 中道崩殂 blue %}。今天下三分，{% label 益州疲敝 pink %}，此誠{% label 危急存亡之秋 red %}也！然侍衞之臣，不懈於內；{% label 忠志之士 purple %}，忘身於外者，蓋追先帝之殊遇，欲報之於陛下也。誠宜開張聖聽，以光先帝遺德，恢弘志士之氣；不宜妄自菲薄，引喻失義，以塞忠諫之路也。\n宮中、府中，俱為一體；陟罰臧否，不宜異同。若有{% label 作奸 orange %}、{% label 犯科 green %}，及為忠善者，宜付有司，論其刑賞，以昭陛下平明之治；不宜偏私，使內外異法也。\n```\n\n臣亮言：{% label 先帝 %}創業未半，而{% label 中道崩殂 blue %}。今天下三分，{% label 益州疲敝 pink %}，此誠{% label 危急存亡之秋 red %}也！然侍衞之臣，不懈於內；{% label 忠志之士 purple %}，忘身於外者，蓋追先帝之殊遇，欲報之於陛下也。誠宜開張聖聽，以光先帝遺德，恢弘志士之氣；不宜妄自菲薄，引喻失義，以塞忠諫之路也。\n\n宮中、府中，俱為一體；陟罰臧否，不宜異同。若有{% label 作奸 orange %}、{% label 犯科 green %}，及為忠善者，宜付有司，論其刑賞，以昭陛下平明之治；不宜偏私，使內外異法也。\n\n## Timeline\n\n{% note pink 'fa-solid fa-bell' %}\n4.0.0 以上支持\n{% endnote %}\n\n```markdown\n{% timeline title,color %}\n\n<!-- timeline title -->\n\nxxxxx\n\n<!-- endtimeline -->\n<!-- timeline title -->\n\nxxxxx\n\n<!-- endtimeline -->\n\n{% endtimeline %}\n```\n\n| 參數  | 解釋                                                                           |\n| ----- | ------------------------------------------------------------------------------ |\n| title | 標題/時間線                                                                    |\n| color | timeline 顏色<br />default(留空) / blue / pink / red / purple / orange / green |\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\n例子\n{% endnote %}\n\n```markdown\n{% timeline 2022 %}\n\n<!-- timeline 01-02 -->\n\n這是測試頁面\n\n<!-- endtimeline -->\n\n{% endtimeline %}\n```\n\n{% timeline 2022 %}\n\n<!-- timeline 01-02 -->\n\n這是測試頁面\n\n<!-- endtimeline -->\n\n{% endtimeline %}\n\n```markdown\n{% timeline 2022,blue %}\n\n<!-- timeline 01-02 -->\n\n這是測試頁面\n\n<!-- endtimeline -->\n\n{% endtimeline %}\n```\n\n{% timeline 2022,blue %}\n\n<!-- timeline 01-02 -->\n\n這是測試頁面\n\n<!-- endtimeline -->\n\n{% endtimeline %}\n\n```markdown\n{% timeline 2022,pink %}\n\n<!-- timeline 01-02 -->\n\n這是測試頁面\n\n<!-- endtimeline -->\n\n{% endtimeline %}\n```\n\n{% timeline 2022,pink %}\n\n<!-- timeline 01-02 -->\n\n這是測試頁面\n\n<!-- endtimeline -->\n\n{% endtimeline %}\n\n```markdown\n{% timeline 2022,red %}\n\n<!-- timeline 01-02 -->\n\n這是測試頁面\n\n<!-- endtimeline -->\n\n{% endtimeline %}\n```\n\n{% timeline 2022,red %}\n\n<!-- timeline 01-02 -->\n\n這是測試頁面\n\n<!-- endtimeline -->\n\n{% endtimeline %}\n\n```markdown\n{% timeline 2022,purple %}\n\n<!-- timeline 01-02 -->\n\n這是測試頁面\n\n<!-- endtimeline -->\n\n{% endtimeline %}\n```\n\n{% timeline 2022,purple %}\n\n<!-- timeline 01-02 -->\n\n這是測試頁面\n\n<!-- endtimeline -->\n\n{% endtimeline %}\n\n```markdown\n{% timeline 2022,orange %}\n\n<!-- timeline 01-02 -->\n\n這是測試頁面\n\n<!-- endtimeline -->\n\n{% endtimeline %}\n```\n\n{% timeline 2022,orange %}\n\n<!-- timeline 01-02 -->\n\n這是測試頁面\n\n<!-- endtimeline -->\n\n{% endtimeline %}\n\n```markdown\n{% timeline 2022,green %}\n\n<!-- timeline 01-02 -->\n\n這是測試頁面\n\n<!-- endtimeline -->\n\n{% endtimeline %}\n```\n\n{% timeline 2022,green %}\n\n<!-- timeline 01-02 -->\n\n這是測試頁面\n\n<!-- endtimeline -->\n\n{% endtimeline %}\n\n## Flink\n\n{% note pink 'fa-solid fa-bell' %}\n4.1.0 支持\n{% endnote %}\n\n可在任何界面插入類似友情鏈接列表效果\n\n內容格式與友情鏈接界面一樣，支持 `yml` 格式\n\n```markdown\n{% flink %}\nxxxxxx\n{% endflink %}\n```\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\n例子\n{% endnote %}\n\n```markdown\n{% flink %}\n- class_name: 友情鏈接\n  class_desc: 那些人，那些事\n  link_list:\n    - name: JerryC\n      link: https://jerryc.me/\n      avatar: https://jerryc.me/img/avatar.png\n      descr: 今日事,今日畢\n    - name: Hexo\n      link: https://hexo.io/zh-tw/\n      avatar: https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg\n      descr: 快速、簡單且強大的網誌框架\n\n- class_name: 網站\n  class_desc: 值得推薦的網站\n  link_list: \n    - name: Youtube\n      link: https://www.youtube.com/\n      avatar: https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png\n      descr: 視頻網站 \n    - name: Weibo\n      link: https://www.weibo.com/\n      avatar: https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png\n      descr: 中國最大社交分享平台 \n    - name: Twitter\n      link: https://twitter.com/\n      avatar: https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png\n      descr: 社交分享平台\n{% endflink %}\n```\n\n{% flink %}\n- class_name: 友情鏈接\n  class_desc: 那些人，那些事\n  link_list:\n    - name: JerryC\n      link: https://jerryc.me/\n      avatar: https://jerryc.me/img/avatar.png\n      descr: 今日事,今日畢\n    - name: Hexo\n      link: https://hexo.io/zh-tw/\n      avatar: https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg\n      descr: 快速、簡單且強大的網誌框架\n\n- class_name: 網站\n  class_desc: 值得推薦的網站\n  link_list:\n    - name: Youtube\n      link: https://www.youtube.com/\n      avatar: https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png\n      descr: 視頻網站\n    - name: Weibo\n      link: https://www.weibo.com/\n      avatar: https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png\n      descr: 中國最大社交分享平台 \n    - name: Twitter\n      link: https://twitter.com/\n      avatar: https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png\n      descr: 社交分享平台\n{% endflink %}\n\n## ABCJS 樂譜\n\n在頁面上渲染樂譜\n\n```yaml\n# abcjs (樂譜渲染)\n# See https://github.com/paulrosen/abcjs\n# ---------------\nabcjs:\n  enable: true\n  per_page: true\n```\n\n| 參數    | 解釋                                                                 |\n| ------- | -------------------------------------------------------------------- |\n| enable  | 是否啟用 ABCJS                                                            |\n| per_page | 是否每頁都加載 ABCJS, 如果設爲 false, 在你使用 ABCJS 時，你需要在使用 ABCJS 的頁面 Front-matter 添加 `abcjs: true`                                               |\n\n寫法：\n\n```markdown\n{% score %}\n樂譜代碼\n{% endscore %}\n```\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\n例子\n{% endnote %}\n\n```markdown\n{% score %}\nX:1\nT:alternate heads\nM:C\nL:1/8\nU:n=!style=normal!\nK:C treble style=rhythm\n\"Am\" BBBB B2 B>B | \"Dm\" B2 B/B/B \"C\" B4 |\"Am\" B2 nGnB B2 nGnA | \"Dm\" nDB/B/ nDB/B/ \"C\" nCB/B/ nCB/B/ |B8| B0 B0 B0 B0 |]\n%%text This translates to:\n[M:C][K:style=normal]\n[A,EAce][A,EAce][A,EAce][A,EAce] [A,EAce]2 [A,EAce]>[A,EAce] |[DAdf]2 [DAdf]/[DAdf]/[DAdf] [CEGce]4 |[A,EAce]2 GA [A,EAce] GA |D[DAdf]/[DAdf]/ D[DAdf]/[DAdf]/ C [CEGce]/[CEGce]/ C[CEGce]/[CEGce]/ |[CEGce]8 | [CEGce]2 [CEGce]2 [CEGce]2 [CEGce]2 |]\nGAB2 !style=harmonic![gb]4|GAB2 [K: style=harmonic]gbgb|\n[K: style=x]\nC/A,/ C/C/E C/zz2|\nw:Rock-y did-nt like that\n{% endscore %}\n```\n\n{% score %}\nX:1\nT:alternate heads\nM:C\nL:1/8\nU:n=!style=normal!\nK:C treble style=rhythm\n\"Am\" BBBB B2 B>B | \"Dm\" B2 B/B/B \"C\" B4 |\"Am\" B2 nGnB B2 nGnA | \"Dm\" nDB/B/ nDB/B/ \"C\" nCB/B/ nCB/B/ |B8| B0 B0 B0 B0 |]\n%%text This translates to:\n[M:C][K:style=normal]\n[A,EAce][A,EAce][A,EAce][A,EAce] [A,EAce]2 [A,EAce]>[A,EAce] |[DAdf]2 [DAdf]/[DAdf]/[DAdf] [CEGce]4 |[A,EAce]2 GA [A,EAce] GA |D[DAdf]/[DAdf]/ D[DAdf]/[DAdf]/ C [CEGce]/[CEGce]/ C[CEGce]/[CEGce]/ |[CEGce]8 | [CEGce]2 [CEGce]2 [CEGce]2 [CEGce]2 |]\nGAB2 !style=harmonic![gb]4|GAB2 [K: style=harmonic]gbgb|\n[K: style=x]\nC/A,/ C/C/E C/zz2|\nw:Rock-y did-nt like that\n{% endscore %}\n\n## Series 系列文章\n\n在頁面上顯示系列文章\n\n```yaml\nseries:\n  enable: true\n  orderBy: 'title' # Order by title or date\n  order: 1 # Sort of order. 1, asc for ascending; -1, desc for descending\n  number: true\n```\n\n| 參數    | 解釋                                                                 |\n| ------- | -------------------------------------------------------------------- |\n| enable  | 是否啟用 series                                                            |\n| orderBy | 排序方式，默認為 title, 可選 title / date                                               |\n| order   | 排序方式，默認為 1, 可選 1 (升序) / -1（降序）                                                 |\n| number  | 顯示序列號                                                    |\n\n寫法：\n\n```markdown\n{% series %}\n{% series [series name] %}\n```\n\n在文章的 `front-matter` 上添加參數 series，並給與一個標識\n\n使用此標簽外掛，會把相同標識的文章以列表的形式展示\n\n如果不寫 series 標識，則默認為你使用此標簽外掛所在的文章的 series 標識\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\n例子\n{% endnote %}\n\n```markdown\n{% series docs %}\n```\n{% series docs %}\n\n{% btn '/posts/405e153/',❓ Butterfly 文檔(五) 主題問答,far fa-hand-point-right,block green right larger %}\n","tags":["教程","Hexo","主題","butterfly"],"categories":["Docs文檔"]},{"title":"Butterfly 文檔(三) 主題配置","url":"/article/a2c7de2.html","content":"\n{% note green 'fas fa-rocket' %}\n\n📚 文檔目錄\n\n{% post_link 主题/Butterfly-文檔-一-快速開始 ' 🚀 快速開始' %} - {% post_link 主题/Butterfly-文檔-二-主題頁面 ' 📑 主題頁面' %} - {% post_link 主题/Butterfly-文檔-三-主題配置 ' 📌 主題配置' %} - {% post_link 主题/Butterfly-文檔-四-標簽外掛 ' ⚔️ 標簽外挂' %} - {% post_link 主题/Butterfly-文檔-五-主題問答 ' ❓ 主題問答' %} - {% post_link 主题/Butterfly-文檔-六-進階教程 ' ⚡️ 進階教程' %}\n\n{% endnote %}\n\n{% note orange 'fas fa-magic' %}\n\n你可以通過右下角的 **簡** 按鈕切換為簡體顯示\n\n{% endnote %}\n\n---\n\n## 配置文件速讀\n\n你可以快速瞭解到所有配置的註解，讓你配置文件更加方便。\n如果遇到不太清楚的配置，可以在這篇文章找到更加詳細的資訊。\n\n```yaml\n# --------------------------------------\n# 導航設置\n# --------------------------------------\n\nnav:\n  # 導航欄 Logo 圖片\n  logo:\n  # 是否顯示標題\n  display_title: true\n  # 是否固定導航欄\n  fixed: false\n\nmenu:\n  # 首頁: / || fas fa-home\n  # 列表||fas fa-list:\n  #   音樂: /music/ || fas fa-music\n  #   電影: /movies/ || fas fa-video\n\n# --------------------------------------\n# 代碼塊設置\n# --------------------------------------\n\ncode_blocks:\n  # 代碼塊主題: darker / pale night / light / ocean / false\n  theme: light\n  # 是否使用 Mac 風格\n  macStyle: false\n  # 代碼塊高度限制（單位: px）\n  height_limit: false\n  # 是否自動換行\n  word_wrap: false\n\n  # 工具欄\n  # 是否顯示複製按鈕\n  copy: true\n  # 是否顯示語言標籤\n  language: true\n  # true: 收縮代碼塊 | false: 展開代碼塊 | none: 展開代碼塊並隱藏按鈕\n  shrink: false\n  # 是否顯示全屏顯示代碼塊按鈕\n  fullpage: false\n\n# 社交媒體鏈接\n# 格式:\n#   icon: 鏈接 || 描述 || 顏色\nsocial:\n\n# --------------------------------------\n# 圖片設置\n# --------------------------------------\n\n# 網站的 favicon 圖標\nfavicon: /img/favicon.png\n\n# 頭像設置\navatar:\n  # 頭像圖片鏈接\n  img: https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png\n  # 是否啟用頭像效果\n  effect: false\n\n# 禁用所有橫幅圖片\ndisable_top_img: false\n\n# 如果頁面未設置橫幅，則顯示默認的橫幅圖片\ndefault_top_img:\n\n# 主頁的橫幅圖片\nindex_img:\n\n# 歸檔頁的橫幅圖片\narchive_img:\n\n# 注意: 是標籤頁（單個標籤），不是標籤頁面（所有標籤）\ntag_img:\n\n# 標籤頁的橫幅圖片，可以為每個標籤設置橫幅圖片\n# 格式:\n#  - 標籤名: 圖片鏈接\ntag_per_img:\n\n# 注意: 是分類頁（單個分類），不是分類頁面（所有分類）\ncategory_img:\n\n# 分類頁的橫幅圖片，可以為每個分類設置橫幅圖片\n# 格式:\n#  - 分類名: 圖片鏈接\ncategory_per_img:\n\n# 頁腳的背景圖片\nfooter_img: false\n\n# 網站背景\n# 可以設置為顏色或圖片\n# 圖片格式: url(http://xxxxxx.com/xxx.jpg)\nbackground:\n\n# 封面設置\ncover:\n  # 是否禁用封面\n  index_enable: true\n  aside_enable: true\n  archives_enable: true\n  # 主頁封面的位置\n  # 選擇: left/right/both\n  position: both\n  # 當未設置封面時，顯示默認封面\n  default_cover:\n    # - https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg\n\n# 替換損壞的圖片\nerror_img:\n  # 友鏈頁面的錯誤圖片\n  flink: /img/friend_404.gif\n  # 文章頁面的錯誤圖片\n  post_page: /img/404.jpg\n\n# 簡單的 404 頁面\nerror_404:\n  # 是否啟用 404 頁面\n  enable: false\n  # 404 頁面的副標題\n  subtitle: 'Page Not Found'\n  # 404 頁面的卡片背景圖片\n  background: https://i.loli.net/2020/05/19/aKOcLiyPl2JQdFD.png\n\n# 文章元數據設置\npost_meta:\n  # 主頁頁面\n  page:\n    # 日期類型: created / updated / both\n    date_type: created\n    # 日期格式: date / relative\n    date_format: date\n    # 是否顯示分類\n    categories: true\n    # 是否顯示標籤\n    tags: false\n    # 是否顯示文字標籤\n    label: true\n  # 文章頁面\n  post:\n    # 元數據位置: left / center\n    position: left\n    # 日期類型: created / updated / both\n    date_type: both\n    # 日期格式: date / relative\n    date_format: date\n    # 是否顯示分類\n    categories: true\n    # 是否顯示標籤\n    tags: true\n    # 是否顯示文字標籤\n    label: true\n\n# --------------------------------------\n# 首頁設置\n# --------------------------------------\n\n# 首頁頭圖的設置\n# 默認: 頭圖全屏，站點信息在中間\n# 站點信息的位置，例如: 300px/300em/300rem/10%\nindex_site_info_top:\n# 頭圖的高度，例如: 300px/300em/300rem\nindex_top_img_height:\n\n# 首頁的副標題設置\nsubtitle:\n  # 是否啟用副標題\n  enable: false\n  # 是否啟用打字機效果\n  effect: true\n  # 自定義 typed.js\n  # https://github.com/mattboldt/typed.js/#customization\n  typed_option:\n  # 來源 - 調用第三方服務 API（僅限中文）\n  # 它將首先顯示來源，然後顯示副標題內容\n  # 選擇: false/1/2/3\n  # false - 禁用此功能\n  # 1 - hitokoto.cn\n  # 2 - yijuzhan.com\n  # 3 - jinrishici.com\n  source: false\n  # 如果關閉打字機效果，副標題將僅顯示 sub 的第一行內容\n  sub:\n\n# 首頁文章佈局\n# 1: 行佈局\n# 2: 列布局\nindex_layout: 1\n\n# 在首頁顯示文章簡介\n# 1: 描述\n# 2: 兩者（如果存在描述，將顯示描述，否則顯示自動摘要）\n# 3: 自動摘要（默認）\n# false: 不顯示文章簡介\nindex_post_content:\n  method: 3\n  # 如果設置 method 為 2 或 3，需要配置長度\n  length: 500\n\n# --------------------------------------\n# 文章設置\n# --------------------------------------\n\ntoc:\n  # 是否在文章中顯示目錄\n  post: true\n  # 是否在頁面中顯示目錄\n  page: false\n  # 是否顯示目錄編號\n  number: true\n  # 是否默認展開目錄\n  expand: false\n  # 是否使用簡潔風格（僅適用於文章）\n  style_simple: false\n  # 是否顯示滾動百分比\n  scroll_percent: true\n\npost_copyright:\n  # 是否啟用版權聲明\n  enable: true\n  # 是否進行文章 URL 解碼\n  decode: false\n  # 作者鏈接\n  author_href:\n  # 許可證類型\n  license: CC BY-NC-SA 4.0\n  # 許可證鏈接\n  license_url: https://creativecommons.org/licenses/by-nc-sa/4.0/\n\n# 贊助/打賞\nreward:\n  # 是否啟用打賞\n  enable: false\n  # 打賞案例文本\n  text:\n  QR_code:\n    # - img: /img/wechat.jpg\n    #   link:\n    #   text: 微信\n    # - img: /img/alipay.jpg\n    #   link:\n    #   text: 支付寶\n\n# 文章編輯\n# 輕鬆在線瀏覽和編輯博客源代碼\npost_edit:\n  # 是否啟用在線編輯\n  enable: false\n  # url: https://github.com/用户名/倉庫名/edit/分支名/子目錄名/\n  # 例如: https://github.com/jerryc127/butterfly.js.org/edit/main/source/\n  url:\n\n# 相關文章\nrelated_post:\n  # 是否顯示相關文章\n  enable: true\n  # 顯示的文章數量\n  limit: 6\n  # 選擇: created / updated\n  date_type: created\n\n# 選擇: 1 / 2 / false\n# 1: “下一篇文章”將鏈接到舊文章\n# 2: “下一篇文章”將鏈接到新文章\n# false: 禁用分頁\npost_pagination: 1\n\n# 顯示文章過期通知\nnoticeOutdate:\n  # 是否啟用過期通知\n  enable: false\n  # 樣式: simple / flat\n  style: flat\n  # 多少天后顯示通知\n  limit_day: 365\n  # 位置: top / bottom\n  position: top\n  message_prev: 已經過了\n  message_next: 天自上次更新，文章內容可能已過時。\n\n# --------------------------------------\n# 頁腳設置\n# --------------------------------------\nfooter:\n  owner:\n    # 是否啟用所有者顯示\n    enable: true\n    # 網站創建年份\n    since: 2019\n  # 自定義文本\n  custom_text:\n  # 主題和框架的版權聲明\n  copyright: true\n\n# --------------------------------------\n# 側邊欄設置\n# --------------------------------------\n\naside:\n  # 是否啟用側邊欄\n  enable: true\n  # 是否默認隱藏側邊欄\n  hide: false\n  # 是否在右下角顯示隱藏側邊欄的按鈕\n  button: true\n  # 移動設備上是否啟用側邊欄\n  mobile: true\n  # 側邊欄位置：left / right\n  position: right\n  display:\n    # 歸檔頁面是否顯示側邊欄\n    archive: true\n    # 標籤頁面是否顯示側邊欄\n    tag: true\n    # 分類頁面是否顯示側邊欄\n    category: true\n  card_author:\n    # 是否顯示作者信息卡片\n    enable: true\n    # 作者描述\n    description:\n    button:\n      # 是否顯示按鈕\n      enable: true\n      # 按鈕圖標\n      icon: fab fa-github\n      # 按鈕文本\n      text: Follow Me\n      # 按鈕鏈接\n      link: https://github.com/xxxxxx\n  card_announcement:\n    # 是否顯示公告卡片\n    enable: true\n    # 公告內容\n    content: This is my Blog\n  card_recent_post:\n    # 是否顯示最近文章卡片\n    enable: true\n    # 顯示文章數量，0 表示顯示所有\n    limit: 5\n    # 排序方式：date / updated\n    sort: date\n    sort_order:\n  card_newest_comments:\n    # 是否顯示最新評論卡片\n    enable: false\n    sort_order:\n    # 顯示評論數量\n    limit: 6\n    # 單位：分鐘，保存數據到 localStorage\n    storage: 10\n    # 是否顯示頭像\n    avatar: true\n  card_categories:\n    # 是否顯示分類卡片\n    enable: true\n    # 顯示分類數量，0 表示顯示所有\n    limit: 8\n    # 選擇：none / true / false\n    expand: none\n    sort_order:\n  card_tags:\n    # 是否顯示標籤卡片\n    enable: true\n    # 顯示標籤數量，0 表示顯示所有\n    limit: 40\n    # 是否啟用顏色\n    color: false\n    # 標籤排序方式：random/name/length\n    orderby: random\n    # 排序順序：1 表示升序，-1 表示降序\n    order: 1\n    sort_order:\n  card_archives:\n    # 是否顯示歸檔卡片\n    enable: true\n    # 歸檔類型：monthly / yearly\n    type: monthly\n    # 日期格式，例如：YYYY年MM月\n    format: MMMM YYYY\n    # 排序順序：1 表示升序，-1 表示降序\n    order: -1\n    # 顯示歸檔數量，0 表示顯示所有\n    limit: 8\n    sort_order:\n  card_post_series:\n    # 是否顯示系列文章卡片\n    enable: true\n    # 標題顯示系列名稱\n    series_title: false\n    # 排序方式：title 或 date\n    orderBy: 'date'\n    # 排序順序：1 表示升序，-1 表示降序\n    order: -1\n  card_webinfo:\n    # 是否顯示網站信息卡片\n    enable: true\n    # 是否顯示文章數量\n    post_count: true\n    # 是否顯示最後推送日期\n    last_push_date: true\n    sort_order:\n    # 發佈日期與當前日期的時間差\n    # 格式：Month/Day/Year Time 或 Year/Month/Day Time\n    # 如果不啟用此功能，請留空\n    runtime_date:\n\n# --------------------------------------\n# 右下角按鈕設置\n# --------------------------------------\n\n# 右下角按鈕與底部的距離（默認單位：px）\nrightside_bottom:\n\n# 簡繁轉換設置\ntranslate:\n  # 是否啟用簡繁轉換\n  enable: false\n  # 按鈕文本\n  default: 繁\n  # 網站語言（1 - 繁體中文 / 2 - 簡體中文）\n  defaultEncoding: 2\n  # 轉換延遲\n  translateDelay: 0\n  # 按鈕在簡體中文時的文本\n  msgToTraditionalChinese: '繁'\n  # 按鈕在繁體中文時的文本\n  msgToSimplifiedChinese: '簡'\n\n# 閲讀模式\nreadmode: true\n\n# 暗黑模式設置\ndarkmode:\n  # 是否啟用暗黑模式\n  enable: true\n  # 切換暗黑/明亮模式的按鈕\n  button: true\n  # 是否自動切換暗黑/明亮模式\n  # autoChangeMode: 1  跟隨系統設置，如果系統不支持暗黑模式，則在晚上 6 點到早上 6 點之間切換暗黑模式\n  # autoChangeMode: 2  在晚上 6 點到早上 6 點之間切換暗黑模式\n  # autoChangeMode: false  不自動切換\n  autoChangeMode: false\n  # 設置明亮模式時間，值在 0 到 24 之間。如果未設置，默認值為 6 和 18\n  start:\n  end:\n\n# 在返回頂部按鈕中顯示滾動百分比\nrightside_scroll_percent: false\n\n# 不要修改以下設置，除非你知道它們的工作原理\n# 選擇：readmode,translate,darkmode,hideAside,toc,chat,comment\n# 不要重複相同的值\nrightside_item_order:\n  # 是否啟用右側項目順序\n  enable: false\n  # 隱藏的默認項目：readmode,translate,darkmode,hideAside\n  hide:\n  # 顯示的默認項目：toc,chat,comment\n  show:\n\n# --------------------------------------\n# 全局設置\n# --------------------------------------\n\n# 錨點設置\nanchor:\n  # 滾動時，URL 將根據標題 ID 更新\n  auto_update: false\n  # 點擊標題滾動並更新錨點\n  click_to_scroll: false\n\n# 圖片標題\nphotofigcaption: false\n\n# 複製設置\ncopy:\n  # 是否啟用複製功能\n  enable: true\n  # 在複製的內容後添加版權信息\n  copyright:\n    enable: false\n    # 當複製字符數超過 limit_count 時添加版權信息\n    limit_count: 150\n\n# 需要安裝 hexo-wordcount 插件\nwordcount:\n  # 是否啟用字數統計\n  enable: false\n  # 在文章元信息中顯示字數統計\n  post_wordcount: true\n  # 在文章元信息中顯示閲讀時間\n  min2read: true\n  # 在側邊欄網站信息中顯示總字數\n  total_wordcount: true\n\n# 不蒜子 PV / UV 統計\nbusuanzi:\n  # 網站 UV 統計\n  site_uv: true\n  # 網站 PV 統計\n  site_pv: true\n  # 頁面 PV 統計\n  page_pv: true\n\n# --------------------------------------\n# 數學公式設置\n# --------------------------------------\n\n# 關於 per_page\n# 如果設置為 true，將在每個頁面加載 mathjax/katex 腳本\n# 如果設置為 false，將根據你的設置加載 mathjax/katex 腳本（在頁面的 front-matter 中添加 'mathjax: true' 或者 'katex: true'）\nmath:\n  # 選擇：mathjax, katex\n  # 如果不需要數學公式，保持為空\n  use:\n  per_page: true\n  hide_scrollbar: false\n\n  mathjax:\n    # 啟用上下文菜單\n    enableMenu: true\n    # 選擇：all / ams / none，這控制是否對公式編號以及如何編號\n    tags: none\n\n  katex:\n    # 啟用複製 KaTeX 公式\n    copy_tex: false\n\n# --------------------------------------\n# 搜索設置\n# --------------------------------------\n\nsearch:\n  # 選擇：algolia_search / local_search / docsearch\n  # 如果不需要搜索功能，保持為空\n  use:\n  placeholder:\n\n  # Algolia 搜索\n  algolia_search:\n    # 每頁搜索結果數量\n    hitsPerPage: 6\n\n  # 本地搜索\n  local_search:\n    # 頁面加載時預加載搜索數據\n    preload: false\n    # 每篇文章顯示的頂部 n 個搜索結果，設置為 -1 顯示所有結果\n    top_n_per_article: 1\n    # 將 HTML 字符串反轉義為可讀內容\n    unescape: false\n    CDN:\n\n  # Docsearch\n  # https://docsearch.algolia.com/\n  docsearch:\n    appId:\n    apiKey:\n    indexName:\n    option:\n\n# --------------------------------------\n# 分享系統\n# --------------------------------------\n\nshare:\n  # 選擇：sharejs / addtoany\n  # 如果不需要分享功能，保持為空\n  use: sharejs\n\n  # Share.js\n  # https://github.com/overtrue/share.js\n  sharejs:\n    sites: facebook,twitter,wechat,weibo,qq\n\n  # AddToAny\n  # https://www.addtoany.com/\n  addtoany:\n    item: facebook,twitter,wechat,sina_weibo,facebook_messenger,email,copy_link\n\n# --------------------------------------\n# 評論系統\n# --------------------------------------\n\ncomments:\n  # 最多兩個評論系統，第一個將作為默認顯示\n  # 如果不需要評論功能，保持為空\n  # 選擇：Disqus/Disqusjs/Livere/Gitalk/Valine/Waline/Utterances/Facebook Comments/Twikoo/Giscus/Remark42/Artalk\n  # 兩個評論系統的格式：Disqus,Waline\n  use:\n  # 按鈕旁邊顯示評論系統名稱\n  text: true\n  # 懶加載：評論系統將在評論元素進入瀏覽器視口時加載\n  # 如果設置為 true，評論計數將無效\n  lazyload: false\n  # 在文章頂部圖片中顯示評論計數\n  count: false\n  # 在主頁顯示評論計數\n  card_post_count: false\n\n# Disqus 評論插件配置\n# 官方文檔：https://disqus.com/\ndisqus:\n  # Disqus 的 shortname\n  shortname:\n  # 最新評論小部件的 API 密鑰\n  apikey:\n\n# 使用 Disqus API 渲染評論的替代方案\n# 官方文檔：https://github.com/SukkaW/DisqusJS\ndisqusjs:\n  # Disqus 的 shortname\n  shortname:\n  # API 密鑰\n  apikey:\n  # 其他可選配置\n  option:\n\n# Livere 評論插件配置\n# 官方文檔：https://www.livere.com/\nlivere:\n  # Livere 的用户 ID\n  uid:\n\n# Gitalk 評論插件配置\n# 官方文檔：https://github.com/gitalk/gitalk\ngitalk:\n  # GitHub 應用的客户端 ID\n  client_id:\n  # GitHub 應用的客户端密鑰\n  client_secret:\n  # 存儲評論的倉庫名稱\n  repo:\n  # 倉庫擁有者的用户名\n  owner:\n  # 管理員用户名列表\n  admin:\n  # 其他可選配置\n  option:\n\n# Valine 評論插件配置\n# 官方文檔：https://valine.js.org\nvaline:\n  # LeanCloud 應用的 appId\n  appId:\n  # LeanCloud 應用的 appKey\n  appKey:\n  # 評論者頭像樣式\n  avatar: monsterid\n  # 該配置適用於國內自定義域名用户，海外版本將自動檢測（無需手動填寫）\n  serverURLs:\n  # 評論框背景圖片\n  bg:\n  # 使用 Valine 的訪客計數作為頁面的訪客量\n  visitor: false\n  # 其他可選配置\n  option:\n\n# Waline 評論插件配置，一個簡單的評論系統，基於 Valine 開發，支持後端\n# 官方文檔：https://waline.js.org/\nwaline:\n  # 服務器 URL\n  serverURL:\n  # 評論框背景圖片\n  bg:\n  # 使用 Waline 的訪客計數作為頁面的訪客量\n  pageview: false\n  # 其他可選配置\n  option:\n\n# Utterances 評論插件配置\n# 官方文檔：https://utteranc.es/\nutterances:\n  # 存儲評論的 GitHub 倉庫\n  repo:\n  # 問題映射方式，可選值：pathname/url/title/og:title\n  issue_term: pathname\n  # 淺色主題，可選值：github-light\n  light_theme: github-light\n  # 深色主題，可選值：photon-dark\n  dark_theme: photon-dark\n\n# Facebook 評論插件配置\n# 官方文檔：https://developers.facebook.com/docs/plugins/comments/\nfacebook_comments:\n  # 應用 ID\n  app_id:\n  # 用户 ID，可選\n  user_id:\n  # 每頁顯示評論數\n  pageSize: 10\n  # 評論排序方式，可選值：social / time / reverse_time\n  order_by: social\n  # 語言設置\n  lang: zh_TW\n\n# Twikoo 評論插件配置\n# 官方文檔：https://github.com/imaegoo/twikoo\ntwikoo:\n  # 環境 ID\n  envId:\n  # 區域\n  region:\n  # 使用 Twikoo 的訪客計數作為頁面的訪客量\n  visitor: false\n  # 其他可選配置\n  option:\n\n# Giscus 評論插件配置\n# 官方文檔：https://giscus.app/\ngiscus:\n  # 倉庫地址\n  repo:\n  # 倉庫 ID\n  repo_id:\n  # 分類 ID\n  category_id:\n  # 主題配置，light 為淺色主題，dark 為深色主題\n  theme:\n    light: light\n    dark: dark\n  # 其他可選配置\n  option:\n\n# Remark42 評論插件配置\n# 官方文檔：https://remark42.com/docs/configuration/frontend/\nremark42:\n  # 服務器地址\n  host:\n  # 站點 ID\n  siteId:\n  # 其他可選配置\n  option:\n\n# Artalk 評論插件配置\n# 官方文檔：https://artalk.js.org/guide/frontend/config.html\nartalk:\n  # 服務器地址\n  server:\n  # 站點名\n  site:\n  # 使用 Artalk 的訪客計數作為頁面的訪客量\n  visitor: false\n  # 其他可選配置\n  option:\n\n# --------------------------------------\n# 聊天服務配置\n# --------------------------------------\n\nchat:\n  # 聊天服務類型，可選值：chatra/tidio/daovoice/crisp，如果不需要聊天功能則留空\n  use:\n  # 推薦使用聊天按鈕，會在網站右下角創建一個按鈕，並隱藏原始按鈕\n  rightside_button: false\n  # 原始聊天按鈕在向上滾動時顯示，向下滾動時隱藏\n  button_hide_show: false\n\n# Chatra 聊天服務配置\n# 官方網站：https://chatra.io/\nchatra:\n  # Chatra 服務 ID\n  id:\n\n# Tidio 聊天服務配置\n# 官方網站：https://www.tidio.com/\ntidio:\n  # Tidio 公鑰\n  public_key:\n\n# Daovoice 聊天服務配置\n# 官方網站：http://dashboard.daovoice.io/app\ndaovoice:\n  # Daovoice 應用 ID\n  app_id:\n\n# Crisp 聊天服務配置\n# 官方網站：https://crisp.chat/en/\ncrisp:\n  # Crisp 網站 ID\n  website_id:\n\n# --------------------------------------\n# 分析服務配置\n# --------------------------------------\n\n# 百度統計配置\n# 官方網站：https://tongji.baidu.com/web/welcome/login\nbaidu_analytics:\n\n# 谷歌分析配置\n# 官方網站：https://analytics.google.com/analytics/web/\ngoogle_analytics:\n\n# Cloudflare 分析配置\n# 官方網站：https://www.cloudflare.com/zh-tw/web-analytics/\ncloudflare_analytics:\n\n# Microsoft Clarity 分析配置\n# 官方網站：https://clarity.microsoft.com/\nmicrosoft_clarity:\n\n# --------------------------------------\n# 廣告配置\n# --------------------------------------\n\n# Google Adsense 廣告配置\ngoogle_adsense:\n  # 是否啟用\n  enable: false\n  # 是否自動投放廣告\n  auto_ads: true\n  # 廣告腳本 URL\n  js: https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\n  # 客户 ID\n  client:\n  # 是否啟用頁面級廣告\n  enable_page_level_ads: true\n\n# 手動插入廣告配置，如果不需要廣告則留空\nad:\n  # 在首頁每三個帖子後插入廣告\n  index:\n  # 在側邊欄插入廣告\n  aside:\n  # 在文章分頁前插入廣告\n  post:\n\n# --------------------------------------\n# 站點驗證配置\n# --------------------------------------\n\nsite_verification:\n  # 示例：\n  # - name: google-site-verification\n  #   content: xxxxxx\n  # - name: baidu-site-verification\n  #   content: xxxxxxx\n\n# --------------------------------------\n# 美化 / 效果\n# --------------------------------------\n\n# 主題顏色自定義\n# 注意：顏色值必須用雙引號，如 \"#000\"，否則可能會導致錯誤！\n\n# 主題顏色配置\n# theme_color:\n#   是否啟用主題顏色\n#   enable: true\n#   主顏色\n#   main: \"#49B1F5\"\n#   分頁器顏色\n#   paginator: \"#00c4b6\"\n#   按鈕懸停顏色\n#   button_hover: \"#FF7242\"\n#   文本選擇顏色\n#   text_selection: \"#00c4b6\"\n#   鏈接顏色\n#   link_color: \"#99a9bf\"\n#   元數據顏色\n#   meta_color: \"#858585\"\n#   水平線顏色\n#   hr_color: \"#A4D8FA\"\n#   代碼前景色\n#   code_foreground: \"#F47466\"\n#   代碼背景色\n#   code_background: \"rgba(27, 31, 35, .05)\"\n#   目錄顏色\n#   toc_color: \"#00c4b6\"\n#   引用塊填充顏色\n#   blockquote_padding_color: \"#49b1f5\"\n#   引用塊背景顏色\n#   blockquote_background_color: \"#49b1f5\"\n#   滾動條顏色\n#   scrollbar_color: \"#49b1f5\"\n#   淺色模式下的主題顏色\n#   meta_theme_color_light: \"ffffff\"\n#   深色模式下的主題顏色\n#   meta_theme_color_dark: \"#0d0d0d\"\n\n# 分類和標籤頁面的用户界面設置\n# 選擇：index - 與主頁 UI 相同 / default - 與歸檔 UI 相同\n# 留空或設置為 index\ncategory_ui:\ntag_ui:\n\n# 拉伸行使每行寬度相等\ntext_align_justify: false\n\n# 為頁眉和頁腳添加遮罩\nmask:\n  header: true\n  footer: true\n\n# 加載動畫\npreloader:\n  # 是否啟用加載動畫\n  enable: false\n  # 資源\n  # 1. 全屏加載\n  # 2. 進度條\n  source: 1\n  # pace 主題 (參見 https://codebyzach.github.io/pace/)\n  pace_css_url:\n\n# 頁面過渡效果\nenter_transitions: true\n\n# 默認顯示模式 - light (默認) / dark\ndisplay_mode: light\n\n# 美化文章內容的配置\nbeautify:\n  # 是否啟用美化\n  enable: false\n  # 指定美化的範圍 (site 或 post)\n  field: post\n  # 指定標題前綴圖標，如 '\\f0c1'\n  title-prefix-icon:\n  # 指定標題前綴圖標的顏色，如 '#F47466'\n  title-prefix-icon-color:\n\n# 全局字體設置\n# 除非您知道它們的工作原理，否則不要修改以下設置\nfont:\n  global-font-size:\n  code-font-size:\n  font-family:\n  code-font-family:\n\n# 網站標題和副標題的字體設置\nblog_title_font:\n  font_link:\n  font-family:\n\n# 分隔符圖標的設置\nhr_icon:\n  # 是否啟用分隔符圖標\n  enable: true\n  # Font Awesome 圖標的 unicode 值，如 '\\3423'\n  icon:\n  icon-top:\n\n# 打字機效果\n# https://github.com/disjukr/activate-power-mode\nactivate_power_mode:\n  # 是否啟用打字機效果\n  enable: false\n  # 是否啟用彩色效果\n  colorful: true\n  # 是否啟用震動效果\n  shake: true\n  # 是否在移動設備上啟用\n  mobile: false\n\n# 背景效果\n# --------------------------------------\n\n# canvas_ribbon\n# 參見: https://github.com/hustcc/ribbon.js\ncanvas_ribbon:\n  # 是否啟用 canvas_ribbon\n  enable: false\n  # ribbon 的大小\n  size: 150\n  # ribbon 的不透明度 (0 ~ 1)\n  alpha: 0.6\n  zIndex: -1\n  # 是否點擊更改顏色\n  click_to_change: false\n  # 是否在移動設備上啟用\n  mobile: false\n\n# Fluttering Ribbon\ncanvas_fluttering_ribbon:\n  # 是否啟用 Fluttering Ribbon\n  enable: false\n  # 是否在移動設備上啟用\n  mobile: false\n\n# canvas_nest\n# https://github.com/hustcc/canvas-nest.js\ncanvas_nest:\n  # 是否啟用 canvas_nest\n  enable: false\n  # 線條顏色，默認: '0,0,0'; RGB 值: (R,G,B).(注意: 使用 ',' 分隔.)\n  color: '0,0,255'\n  # 線條的不透明度 (0~1)\n  opacity: 0.7\n  # 背景的 z-index 屬性\n  zIndex: -1\n  # 線條數量\n  count: 99\n  # 是否在移動設備上啟用\n  mobile: false\n\n# 鼠標點擊效果: 煙花\nfireworks:\n  # 是否啟用煙花效果\n  enable: false\n  zIndex: 9999\n  # 是否在移動設備上啟用\n  mobile: false\n\n# 鼠標點擊效果: 心形符號\nclick_heart:\n  # 是否啟用心形符號效果\n  enable: false\n  # 是否在移動設備上啟用\n  mobile: false\n\n# 鼠標點擊效果: 文字\nclickShowText:\n  # 是否啟用文字效果\n  enable: false\n  text:\n    # - I\n    # - LOVE\n    # - YOU\n  fontSize: 15px\n  # 是否隨機顯示文字\n  random: false\n  # 是否在移動設備上啟用\n  mobile: false\n\n# --------------------------------------\n# 燈箱設置\n# --------------------------------------\n\n# 選擇: fancybox / medium_zoom\n# https://github.com/francoischalifour/medium-zoom\n# https://fancyapps.com/fancybox/\n# 如果不需要燈箱效果，請留空\nlightbox:\n\n# --------------------------------------\n# 標籤外掛設置\n# --------------------------------------\n\n# 系列\nseries:\n  # 是否啟用系列\n  enable: false\n  # 按標題或日期排序\n  orderBy: 'title'\n  # 排序方式。1, asc 為升序; -1, desc 為降序\n  order: 1\n  # 是否顯示編號\n  number: true\n\n# ABCJS - ABC 音樂符號插件\n# https://github.com/paulrosen/abcjs\nabcjs:\n  # 是否啟用 ABCJS\n  enable: false\n  # 是否每頁啟用\n  per_page: true\n\n# Mermaid\n# https://github.com/mermaid-js/mermaid\nmermaid:\n  # 是否啟用 Mermaid\n  enable: false\n  # 使用代碼塊編寫 Mermaid 圖表\n  code_write: false\n  # 內置主題: default / forest / dark / neutral\n  theme:\n    light: default\n    dark: dark\n\n# Note - Bootstrap 提示框\nnote:\n  # Note 標籤樣式值:\n  #  - simple    bs-callout 舊警告樣式。默認。\n  #  - modern    bs-callout 新 (v2-v3) 警告樣式。\n  #  - flat      扁平提示框樣式，帶背景，如 Mozilla 或 StackOverflow。\n  #  - disabled  禁用所有 Note 標籤的 CSS 樣式。\n  style: flat\n  # 是否顯示圖標\n  icons: true\n  # 邊框半徑\n  border_radius: 3\n  # 背景顏色偏移百分比 (modern: -12 | 12; flat: -18 | 6)。\n  # 也應用於標籤變量。此選項可與禁用的 Note 標籤一起使用。\n  light_bg_offset: 0\n\n# --------------------------------------\n# 其他設置\n# --------------------------------------\n\n# https://github.com/MoOx/pjax\npjax:\n  # 是否啟用 pjax\n  enable: false\n  # 排除指定頁面不使用 pjax，如 '/music/'\n  exclude:\n    # - /xxxxxx/\n\n# 注入 CSS 和腳本 (aplayer/meting)\naplayerInject:\n  # 是否啟用注入\n  enable: false\n  # 是否每頁啟用\n  per_page: true\n\n# Snackbar - Toast 通知\n# https://github.com/polonel/SnackBar\n# 位置: top-left / top-center / top-right / bottom-left / bottom-center / bottom-right\nsnackbar:\n  # 是否啟用 Snackbar\n  enable: false\n  # 通知位置\n  position: bottom-left\n  # 淺色模式和深色模式下的通知背景顏色\n  bg_light: '#49b1f5'\n  bg_dark: '#1f1f1f'\n\n# Instant.page\n# https://instant.page/\ninstantpage: false\n\n# Pangu - 在中文字符和英文字符之間插入空格\n# https://github.com/vinta/pangu.js\npangu:\n  # 是否啟用 Pangu\n  enable: false\n  # 指定使用 Pangu 的範圍(site 或 post)\n  field: site\n\n# Lazyload\n# https://github.com/verlok/vanilla-lazyload\nlazyload:\n  # 是否啟用 Lazyload\n  enable: false\n  # 指定使用 Lazyload 的範圍 (site 或 post)\n  field: site\n  placeholder:\n  blur: false\n\n# PWA\n# 參見 https://github.com/JLHwung/hexo-offline\n# ---------------\npwa:\n  # 是否啟用 PWA\n  enable: false\n  # PWA manifest 文件路徑\n  manifest:\n  # Apple Touch 圖標路徑\n  apple_touch_icon:\n  # 32x32 像素的 favicon 圖標路徑\n  favicon_32_32:\n  # 16x16 像素的 favicon 圖標路徑\n  favicon_16_16:\n  # mask 圖標路徑\n  mask_icon:\n\n# Open graph meta tags\n# 參見 https://hexo.io/docs/helpers#open-graph\nOpen_Graph_meta:\n  # 是否啟用 Open Graph meta 標籤\n  enable: true\n  option:\n    # twitter_card:\n    # twitter_image:\n    # twitter_id:\n    # twitter_site:\n    # google_plus:\n    # fb_admins:\n    # fb_app_id:\n\n# 添加供應商前綴以確保兼容性\n# 是否啟用 CSS 前綴\ncss_prefix: true\n\n# Inject\n# 插入代碼到 head（在 '</head>' 標籤之前）和底部（在 '</body>' 標籤之前）\ninject:\n  head:\n    # - <link rel=\"stylesheet\" href=\"/xxx.css\">\n  bottom:\n    # - <script src=\"xxxx\"></script>\n\n# CDN 設置\n# 除非你知道它們的工作原理，否則不要修改以下設置\nCDN:\n  # 內部和第三方腳本的 CDN 提供商\n  # 兩者的選項：local/jsdelivr/unpkg/cdnjs/custom\n  # 注意： Dev 版本只能使用 'local' 作為內部腳本\n  # 注意：將第三方腳本設置為 'local' 時，需要安裝 hexo-butterfly-extjs\n  internal_provider: local\n  third_party_provider: jsdelivr\n\n  # 是否在 URL 中添加版本號，true 或 false\n  version: false\n\n  # 自定義格式\n  # 例如：https://cdn.staticfile.org/${cdnjs_name}/${version}/${min_cdnjs_file}\n  custom_format:\n\n  option:\n```\n\n## 語言\n\n修改 Hexo 的配置文件 `_config.yml`\n\n默認語言是 `en`\n\n主題支持\n\n- default(en)\n- zh-CN (簡體中文)\n- zh-TW (台灣繁體中文)\n- zh-HK (香港繁體中文)\n- ja (日語)\n- ko (韓語)\n\n## 網站資料\n\n修改網站各種資料，例如標題、副標題和郵箱等個人資料，請修改 Hexo 的`_config.yml`\n\n![butterfly-docs-hexo-config.png](https://oss.012700.xyz/butterfly/2024/09/butterfly-docs-hexo-config.png)\n\n## 導航\n\n### 參數設置\n\n```yaml\nnav:\n  # Navigation bar logo image\n  logo: /xxxx.png\n  display_title: true\n  # Whether to fix navigation bar\n  fixed: false\n```\n\n| 參數          | 解釋                                    |\n| ------------- | --------------------------------------- |\n| logo          | 網站的 logo，支持圖片，直接填入圖片鏈接 |\n| display_title | 是否顯示網站標題，填寫 true 或者 false  |\n| fixed         | 是否固定狀態欄，填寫 true 或者 false    |\n\n### 目錄\n\n```yaml\nHome: / || fas fa-home\nArchives: /archives/ || fas fa-archive\nTags: /tags/ || fas fa-tags\nCategories: /categories/ || fas fa-folder-open\nList||fas fa-list:\n  Music: /music/ || fas fa-music\n  Movie: /movies/ || fas fa-video\nLink: /link/ || fas fa-link\nAbout: /about/ || fas fa-heart\n```\n\n必須是 `/xxx/`，後面`||`分開，然後寫圖標名。\n\n如果不希望顯示圖標，圖標名可不寫。\n\n默認子目錄是展開的，如果你想要隱藏，在子目錄裏添加 `hide` 。\n\n```yaml\nList||fas fa-list||hide:\n  Music: /music/ || fas fa-music\n  Movie: /movies/ || fas fa-video\n```\n\n**注意：** 導航的文字可自行更改\n\n例如：\n\n```markdown\nmenu:\n首頁: / || fas fa-home\n時間軸: /archives/ || fas fa-archive\n標籤: /tags/ || fas fa-tags\n分類: /categories/ || fas fa-folder-open\n清單||fa fa-heartbeat:\n音樂: /music/ || fas fa-music\n照片: /Gallery/ || fas fa-images\n電影: /movies/ || fas fa-video\n友鏈: /link/ || fas fa-link\n關於: /about/ || fas fa-heart\n```\n\n![hexo-theme-butterfly-doc-menu.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-doc-menu.png)\n\n## 代碼塊\n\n{% note info %}\n\n代碼塊中的所有功能只適用於 Hexo 自帶的代碼渲染\n\n如果使用第三方的渲染器，不一定會有效\n\n{% endnote %}\n\n```yaml\ncode_blocks:\n  # Code block theme: darker / pale night / light / ocean / false\n  theme: light\n  macStyle: false\n  # Code block height limit (unit: px)\n  height_limit: false\n  word_wrap: false\n\n  # Toolbar\n  copy: true\n  language: true\n  # true: shrink the code blocks | false: expand the code blocks | none: expand code blocks and hide the button\n  shrink: false\n  fullpage: false\n```\n\n| 參數         | 解釋                                                              |\n| ------------ | ----------------------------------------------------------------- |\n| theme        | 代碼高亮主題，可選 darker / pale night / light / ocean / false    |\n| macStyle     | 是否使用 Mac 風格                                                 |\n| height_limit | 代碼塊高度限制（單位: px）, 可填寫 數字 或者 false                |\n| word_wrap    | 是否自動換行                                                      |\n| copy         | 是否顯示複製按鈕                                                  |\n| language     | 是否顯示語言標籤                                                  |\n| shrink       | true: 收縮代碼塊 / false: 展開代碼塊 / none: 展開代碼塊並隱藏按鈕 |\n| fullpage     | 是否全屏顯示代碼塊                                                |\n\n### 代碼高亮主題\n\n{% tabs highlight-theme %}\n\n<!-- tab 默認主題 -->\n\n`Butterfly` 支持 6 種代碼高亮樣式：\n\n- darker\n- pale night\n- light\n- ocean\n\n如果你需要 MacOS 風格的代碼高亮樣式，可以把`macStyle` 設為 `true`。\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\ndarker\n{% endnote %}\n\n![](https://oss.012700.xyz/butterfly/2024/09/butterfly-docs-code-darker.png)\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\npale night\n{% endnote %}\n\n![](https://oss.012700.xyz/butterfly/2024/09/butterfly-docs-code-pane-night.png)\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\nlight\n{% endnote %}\n\n![](https://oss.012700.xyz/butterfly/2024/09/butterfly-docs-code-light.png)\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\nocean\n{% endnote %}\n\n![](https://oss.012700.xyz/butterfly/2024/09/butterfly-docs-code-orcean.png)\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\nmacStyle\n{% endnote %}\n\n![](https://oss.012700.xyz/butterfly/2024/09/butterfly-docs-code-macstyle-light.png)\n\n<!-- endtab -->\n\n<!-- tab 自定義主題 -->\n\n主題從 3.0 開始，支持使用自定義的代碼顔色。\n\n如何自定義主題，請查看下面這篇文章。\n\n{% post_link 自定義代碼配色 ' 自定義代碼配色' %}\n\n<!-- endtab -->\n\n{% endtabs %}\n\n### 代碼框展開/關閉\n\n在默認情況下，代碼框自動展開，可設置是否所有代碼框都關閉狀態，點擊`>`可展開代碼\n\n- true 全部代碼框不展開，需點擊`>`打開\n- false 代碼框展開，有`>`點擊按鈕\n- none 不顯示`>`按鈕\n\n```yaml\nhighlight_shrink: true #代碼框不展開，需點擊 '>' 打開\n```\n\n{% note info %}\n\n你也可以在 post/page 頁對應的 markdown 文件 front-matter 添加 highlight_shrink 來獨立配置。\n\n當**主題配置文件中**的 `highlight_shrink `設為 true 時，可在 front-matter 添加`highlight_shrink: false`來單獨配置文章展開代碼框。\n\n當**主題配置文件中**的 `highlight_shrink `設為 false 時，可在 front-matter 添加`highlight_shrink: true`來單獨配置文章收縮代碼框。\n\n{% endnote %}\n\n`highlight_shrink: true`\n\n![hexo-theme-butterfly-doc-highlight-shrink-true.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-doc-highlight-shrink-true.png)\n\n`highlight_shrink: false`\n\n![hexo-theme-butterfly-doc-highlight-shrink-false.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-doc-highlight-shrink-false.png)\n\n`highlight_shrink: none`\n\n![hexo-theme-butterfly-docs-highlight-shirk-none.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-docs-highlight-shirk-none.png)\n\n### 代碼換行\n\n在默認情況下，Hexo 在編譯的時候不會實現代碼自動換行。如果你不希望在代碼塊的區域裏有橫向滾動條的話，那麼你可以考慮開啟這個功能。\n\n```yaml\ncode_word_wrap: true\n```\n\n如果你是使用 highlight 渲染，需要找到你站點的 Hexo 配置文件`_config.yml`，將`line_number`改成`false`:\n\n```yaml\nhighlight:\n  enable: true\n  line_number: false # <- 改這裏\n  auto_detect: false\n  tab_replace:\n```\n\n如果你是使用 prismjs 渲染，需要找到你站點的 Hexo 配置文件`_config.yml`，將`line_number`改成`false`:\n\n```yaml\nprismjs:\n  enable: false\n  preprocess: true\n  line_number: false # <- 改這裏\n  tab_replace: ''\n```\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\n設置`code_word_wrap`之前\n{% endnote %}\n\n![hexo-theme-butterfly-doc-code-word-wrap-before.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-doc-code-word-wrap-before.png)\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\n設置`code_word_wrap`之後\n{% endnote %}\n\n![hexo-theme-butterfly-doc-code-word-wrap-after.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-doc-code-word-wrap-after.png)\n\n### 代碼高度限制\n\n{% note pink 'fa-solid fa-bell' %}\n3.7.0 及以上支持\n{% endnote %}\n\n可配置代碼高度限制，超出的部分會隱藏，並顯示展開按鈕。\n\n```yaml\nhighlight_height_limit: false # unit: px\n```\n\n注意：\n\n1. 單位是 `px`，直接添加數字，如 200\n\n2. 實際限制高度為 `highlight_height_limit + 30 px` ，多增加 30px 限制，目的是避免代碼高度只超出 highlight_height_limit 一點時，出現展開按鈕，展開沒內容。\n\n3. 不適用於隱藏後的代碼塊（ css 設置 display: none）\n\n![](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-docs-highlight-heigh-limit.gif)\n\n## 社交圖標\n\nButterfly 支持 [font-awesome v6](https://fontawesome.com/icons?from=io) 圖標.\n\n書寫格式 `圖標名：url || 描述性文字 || color`\n\n```yaml\nsocial:\n  fab fa-github: https://github.com/xxxxx || Github || \"#hdhfbb\"\n  fas fa-envelope: mailto:xxxxxx@gmail.com || Email || \"#000000\"\n```\n\n圖標名可在這尋找\n\n![hexo-theme-butterfly-doc-fontawesome.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-doc-fontawesome.png)\n\nPC:\n\n!![hexo-theme-butterfly-doc-fontawesome.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-doc-fontawesome.png)\n\nMobile:\n\n![hexo-theme-butterfly-doc-socila-icon-mobile.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-doc-socila-icon-mobile.png)\n\n## 圖片設置\n\n### 頭像\n\n```yaml\navatar:\n  img: /img/avatar.png\n  effect: true # 頭像會一直轉圈\n```\n\n![hexo-theme-butterfly-doc-avatar.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-doc-avatar.png)\n\n### 頂部圖\n\n{% note info %}\n\n如果不要顯示頂部圖，可直接配置 `disable_top_img: true`\n\n{% endnote %}\n\n{% note primary %}\n\n頂部圖的獲取順序，如果都沒有配置，則不顯示頂部圖。\n\n1. 頁面頂部圖的獲取順序：\n\n   `各自配置的 top_img` > `配置文件的 default_top_img`\n\n2. 文章頁頂部圖的獲取順序：\n\n   `各自配置的 top_img` > `cover` > `配置文件的 default_top_img`\n\n{% endnote %}\n\n配置中的值：\n\n| 配置             | 解釋                                                                |\n| ---------------- | ------------------------------------------------------------------- |\n| index_img        | 主頁的 top_img                                                      |\n| default_top_img  | 默認的 top_img，當頁面的 top_img 沒有配置時，會顯示 default_top_img |\n| archive_img      | 歸檔頁面的 top_img                                                  |\n| tag_img          | tag 子頁面 的 默認 top_img                                          |\n| tag_per_img      | tag 子頁面的 top_img，可配置每個 tag 的 top_img                     |\n| category_img     | category 子頁面 的 默認 top_img                                     |\n| category_per_img | category 子頁面的 top_img，可配置每個 category 的 top_img           |\n\n其它頁面 （tags/categories/自建頁面）和 文章頁 的 `top_img` ，請到對應的 md 頁面設置`front-matter`中的`top_img`\n\n以上所有的 top_img 可配置以下值\n\n| 配置的值                                                                                                                                       | 效果                                                                                             |\n| ---------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------ |\n| 留空                                                                                                                                           | 顯示默認的 top_img（如有），否則顯示默認的顔色<br>（文章頁 top_img 留空的話，會顯示 cover 的值） |\n| img 鏈接                                                                                                                                       | 圖片的鏈接，顯示所配置的圖片                                                                     |\n| 顔色(<br>HEX 值 - \\#0000FF<br>RGB 值 - rgb(0,0,255)<br>顔色單詞 - orange<br>漸變色 - linear-gradient( 135deg, #E2B0FF 10%, #9F44D3 100%)<br>） | 對應的顔色                                                                                       |\n| transparent                                                                                                                                    | 透明                                                                                             |\n| false                                                                                                                                          | 不顯示 top_img                                                                                   |\n\n`tag_per_img` 和 `category_per_img` 是 3.2.0 新增的內容，可對 tag 和 category 進行單獨的配置\n\n並不推薦為每個 tag 和每個 category 都配置不同的頂部圖，因為配置太多會拖慢生成速度\n\n```yaml\ntag_per_img:\n  aplayer: https://xxxxxx.png\n  android: ddddddd.png\n\ncategory_per_img：\n  隨想: hdhdh.png\n  推薦: ddjdjdjd.png\n```\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\ntop_img: false\n{% endnote %}\n\n![theme-butterfly-docs-page-top-img-false.png](https://oss.012700.xyz/butterfly/2024/09/theme-butterfly-docs-page-top-img-false.png)\n\n![theme-butterfly-docs-post-top-img-false-new.png](https://oss.012700.xyz/butterfly/2024/09/theme-butterfly-docs-post-top-img-false-new.png)\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\ntop_img: orange\n{% endnote %}\n\n![theme-butterfly-docs-top-img-orange.png](https://oss.012700.xyz/butterfly/2024/09/theme-butterfly-docs-top-img-orange.png)\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\ntop_img: 'linear-gradient(20deg, #0062be, #925696, #cc426e, #fb0347)'\n{% endnote %}\n\n![theme-butterfly-docs-top-img-color.png](https://oss.012700.xyz/butterfly/2024/09/theme-butterfly-docs-top-img-color.png)\n\n### 頁腳背景圖\n\n```yaml\n# footer是否顯示圖片背景(與top_img一致)\nfooter_img: true\n```\n\n| 配置的值                                                                                                                                       | 效果                         |\n| ---------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------- |\n| 留空/false                                                                                                                                     | 顯示默認的顔色               |\n| img 鏈接                                                                                                                                       | 圖片的鏈接，顯示所配置的圖片 |\n| 顔色(<br>HEX 值 - \\#0000FF<br>RGB 值 - rgb(0,0,255)<br>顔色單詞 - orange<br>漸變色 - linear-gradient( 135deg, #E2B0FF 10%, #9F44D3 100%)<br>） | 對應的顔色                   |\n| transparent                                                                                                                                    | 透明                         |\n| true                                                                                                                                           | 顯示跟 top_img 一樣          |\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\ntrue\n{% endnote %}\n\n![](https://oss.012700.xyz/butterfly/2024/09/butterfly-docs-footer.png)\n\n### 網站背景\n\n默認顯示白色，可設置圖片或者顏色\n\n```yaml\n# 圖片格式 url(http://xxxxxx.com/xxx.jpg)\n# 顏色（HEX值/RGB值/顔色單詞/漸變色)\n# 留空 不顯示背景\nbackground:\n```\n\n_留意:_ 如果你的網站根目錄不是'/',使用本地圖片時，需加上你的根目錄。\n例如：網站是 `https://yoursite.com/blog`,引用一張`img/xx.png`圖片，則設置 background 為 `url(/blog/img/xx.png)\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\nbackground:'#49B202'\n{% endnote %}\n\n![hexo-theme-butterfly-doc-set-body-background-color.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-doc-set-body-background-color.png)\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\nbackground: url(https://i.loli.net/2019/09/09/5oDRkWVKctx2b6A.png)\n{% endnote %}\n\n![hexo-theme-butterfly-doc-set-body-background-img.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-doc-set-body-background-img.png)\n\n## 文章封面\n\n文章的 markdown 文檔上,在 `Front-matter` 添加 `cover` ,並填上要顯示的圖片地址。\n\n如果不配置 `cover`,可以設置顯示默認的 cover。\n\n如果不想在首頁顯示 cover, 可以設置為 `false`。\n\n{% note info %}\n文章封面的獲取順序 `Front-matter 的 cover` > `配置文件的 default_cover` > `false`\n{% endnote %}\n\n```yaml\ncover:\n  # 是否顯示文章封面\n  index_enable: true\n  aside_enable: true\n  archives_enable: true\n  default_cover:\n```\n\n| 參數            | 解釋                                                                                                                        |\n| --------------- | --------------------------------------------------------------------------------------------------------------------------- |\n| index_enable    | 主頁是否顯示文章封面圖                                                                                                      |\n| aside_enable    | 側欄是否顯示文章封面圖                                                                                                      |\n| archives_enable | 歸檔頁面是否顯示文章封面圖                                                                                                  |\n| default_cover   | 默認的 cover, 可配置圖片鏈接/顔色/漸變色等                                                                                  |\n\n當配置多張圖片時,會隨機選擇一張作為 cover.此時寫法應為\n\n```yaml\ndefault_cover:\n  - https://jsd.012700.xyz/gh/jerryc127/CDN@latest/cover/default_bg.png\n  - https://jsd.012700.xyz/gh/jerryc127/CDN@latest/cover/default_bg2.png\n  - https://jsd.012700.xyz/gh/jerryc127/CDN@latest/cover/default_bg3.png\n```\n\n![hexo-theme-butterfly-doc-post-cover.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-doc-post-cover.png)\n\n![hexo-theme-butterfly-doc-post-cover-show.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-doc-post-cover-show.png)\n\n![hexo-theme-butterfly-docs-cover-false.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-docs-cover-false.png)\n\n## 頁面 meta 顯示\n\n這個選項是用來顯示文章的相關信息的。\n\n```yaml\npost_meta:\n  # Home Page\n  page:\n    # Choose: created / updated / both\n    date_type: created\n    # Choose: date / relative\n    date_format: date\n    categories: true\n    tags: false\n    label: true\n  post:\n    # Choose: left / center\n    position: left\n    # Choose: created / updated / both\n    date_type: both\n    # Choose: date / relative\n    date_format: date\n    categories: true\n    tags: true\n    label: true\n```\n\n主頁：\n\n| 參數        | 解釋                                                   |\n| ----------- | ------------------------------------------------------ |\n| date_type   | 顯示文章的時間，可選 created / updated / both          |\n| date_format | 配置時間顯示明確時間還是相對時間，可選 date / relative |\n| categories  | 是否顯示文章的分類                                     |\n| tags        | 是否顯示文章的標籤                                     |\n| label       | 是否顯示文字標簽                                       |\n\n文章頁：\n\n| 參數        | 解釋                                                   |\n| ----------- | ------------------------------------------------------ |\n| position    | 文章頁 meta 顯示的位置，可選 left / center             |\n| date_type   | 顯示文章的時間，可選 created / updated / both          |\n| date_format | 配置時間顯示明確時間還是相對時間，可選 date / relative |\n| categories  | 是否顯示文章的分類                                     |\n| tags        | 是否顯示文章的標籤                                     |\n| label       | 是否顯示文字標簽                                       |\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\n主頁\n{% endnote %}\n\n![hexo-theme-butterfly-docs-page-meta.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-docs-page-meta.png)\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\n文章頁\n{% endnote %}\n\n![hexo-theme-butterfly-doc-post-info.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-doc-post-info.png)\n\n![hexo-theme-butterfly-doc-post-tag.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-doc-post-tag.png)\n\n`date_format` 是 3.2.0 新增的內容，配置時間顯示明確時間還是相對時間\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\n相對時間\n{% endnote %}\n\n![theme-butterfly-docs-relative-time.png](https://oss.012700.xyz/butterfly/2024/09/theme-butterfly-docs-relative-time.png)\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\n明確時間\n{% endnote %}\n\n![theme-butterfly-docs-full-date.png](https://oss.012700.xyz/butterfly/2024/09/theme-butterfly-docs-full-date.png)\n\n## 首頁\n\n### 首頁頂部圖大小\n\n默認的顯示為全屏，網站信息會居中顯示\n\n```yaml\n# 主頁設置\n# 默認top_img全屏，site_info在中間\n# 使用默認, 都無需填寫（建議默認）\nindex_site_info_top: # 主頁標題距離頂部距離  例如 300px/300em/300rem/10%\nindex_top_img_height: #主頁top_img高度 例如 300px/300em/300rem  不能使用百分比\n```\n\n注意：`index_top_img_height`的值不能使用百分比。\n2 個都不填的話，會使用默認值\n\n舉例，當\n\n```yaml\nindex_top_img_height: 400px\n```\n\n效果\n\n![hexo-theme-butterfly-doc-index-top-img-setting.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-doc-index-top-img-setting.png)\n\n### 網站副標題\n\n可設置主頁中顯示的網站副標題或者喜歡的座右銘。\n\n```yaml\n# 主頁subtitle\nsubtitle:\n  enable: false\n  # Typewriter Effect (打字效果)\n  effect: true\n  # Customize typed.js\n  # https://github.com/mattboldt/typed.js/#customization\n  typed_option:\n  # source 調用第三方服務\n  # false 關閉調用\n  # 1  調用一言網的一句話（簡體） https://hitokoto.cn/\n  # 2  調用一句網（簡體） http://yijuzhan.com/\n  # 3  調用今日詩詞（簡體） https://www.jinrishici.com/\n  # subtitle 會先顯示 source , 再顯示 sub 的內容\n  source: false\n  # 如果關閉打字效果，subtitle 只會顯示 sub 的第一行文字\n  sub:\n    - 今日事&#44;今日畢\n    - Never put off till tomorrow what you can do today\n```\n\n![hexo-theme-butterfly-doc-index-subtitle.gif](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-doc-index-subtitle.gif)\n\n### 首頁卡片佈局\n\n主題文章卡片支持 7 種佈局\n\n```yaml\nindex_layout: 3\n```\n\n配置解釋：\n\n| 配置值 | 解釋                                                                 |\n| ------ | -------------------------------------------------------------------- |\n| 1      | 封面在左，信息在右                                                   |\n| 2      | 封面在右，信息在左                                                   |\n| 3      | 封面和信息左右交替顯示                                               |\n| 4      | 封面在上，信息在下                                                   |\n| 5      | 信息顯示在封面上                                                     |\n| 6      | 瀑布流布局 - 封面在上，信息在下                                     |\n| 7      | 瀑布流布局 - 信息顯示在封面上                                       |\n\n填寫`數字序號`即可，默認為 3\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\n1: 封面在左，信息在右\n{% endnote %}\n\n![](https://oss.012700.xyz/butterfly/2024/10/butterfly-docs-index-layout-1.png)\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\n2: 封面在右，信息在左\n{% endnote %}\n\n![](https://oss.012700.xyz/butterfly/2024/10/butterfly-docs-index-layout-2.png)\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\n3: 封面和信息左右交替显示\n{% endnote %}\n\n![](https://oss.012700.xyz/butterfly/2024/10/butterfly-docs-index-layout-3.png)\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\n4: 封面在上，信息在下\n{% endnote %}\n\n![](https://oss.012700.xyz/butterfly/2024/10/butterfly-docs-index-layout-4.png)\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\n5: 信息显示在封面上\n{% endnote %}\n\n![](https://oss.012700.xyz/butterfly/2024/10/butterfly-docs-index-layout-5.png)\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\n6: 瀑布流布局 - 封面在上，信息在下\n{% endnote %}\n\n![](https://oss.012700.xyz/butterfly/2024/10/butterfy-docs-index-layout-6.png)\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\n7: 瀑布流布局 - 信息显示在封面上\n{% endnote %}\n\n![](https://oss.012700.xyz/butterfly/2024/10/butterfly-docs-index-layout-7.png)\n\n### 主頁文章節選\n\n因為主題 UI 的關係，`主頁文章節選`只支持`自動節選`和`文章頁description`。\n\n```yaml\n# Display the article introduction on homepage\n# 1: description\n# 2: both (if the description exists, it will show description, or show the auto_excerpt)\n# 3: auto_excerpt (default)\n# false: do not show the article introduction\nindex_post_content:\n  method: 3\n  # If you set method to 2 or 3, the length need to config\n  length: 500\n```\n\n| 參數    | 解釋                                                                 |\n| ------- | -------------------------------------------------------------------- |\n| method  | 顯示文章內容的方式，有四種可供選擇 <br> 1 - 只顯示 description <br> 2 - 優先選擇 description，如果沒有配置 description，則顯示自動節選的內容 <br> 3 - 只顯示自動節選 <br> 4 - 不顯示文章內容                              |\n| length  | 自動節選的長度，只有在 method 為 2 或者 3 的時候才需要配置 length |\n\n`description`在 front-matter 裏添加\n\n![hexo-theme-butterfly-doc-post-description.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-doc-post-description.png)\n\n## 文章頁\n\n### TOC 目錄\n\n在側邊欄顯示 TOC（文章目錄）\n\n```yaml\ntoc:\n  post: true\n  page: false\n  number: true\n  expand: false\n  # Only for post\n  style_simple: false\n  scroll_percent: true\n```\n\n| 屬性           | 解釋                                              |\n| -------------- | ------------------------------------------------- |\n| post           | 文章頁是否顯示 TOC                                |\n| page           | 普通頁面是否顯示 TOC                              |\n| number         | 是否顯示章節數                                    |\n| expand         | 是否展開 TOC                                      |\n| style_simple   | 簡潔模式（側邊欄**只**顯示 TOC, 只對文章頁有效 ） |\n| scroll_percent | 是否顯示滾動進度百分比                            |\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\nToc PC\n{% endnote %}\n\n![](https://oss.012700.xyz/butterfly/2024/09/butterfly-docs-toc-pc.png)\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\nToc Mobile\n{% endnote %}\n\n![](https://oss.012700.xyz/butterfly/2024/09/butterfly-docs-mobile.png)\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\nstyle_simple: true\n{% endnote %}\n\n![](https://oss.012700.xyz/butterfly/2024/09/butterfly-docs-toc-simple.png)\n\n#### 為特定的文章配置\n\n在你的文章`md`文件的頭部，加入`toc_number`和`toc`，並配置`true`或者`false`即可。\n\n主題會優先判斷文章 Markdown 的 Front-matter 是否有配置，如有，則以 Front-matter 的配置為準。否則，以**主題配置文件中**的配置為準。\n\n### 文章版權\n\n為你的博客文章展示文章版權和許可協議。\n\n```yaml\npost_copyright:\n  # 是否啟用版權聲明\n  enable: true\n  # 是否進行文章 URL 解碼\n  decode: false\n  # 作者鏈接\n  author_href:\n  # 許可證類型\n  license: CC BY-NC-SA 4.0\n  # 許可證鏈接\n  license_url: https://creativecommons.org/licenses/by-nc-sa/4.0/\n```\n\n由於`Hexo 4.1`開始，默認對網址進行解碼，以至於如果是中文網址，會被解碼，可設置`decode: true`來顯示中文網址。\n\n如果有文章（例如：轉載文章）不需要顯示版權，可以在文章 Front-matter 單獨設置\n\n```yaml\ncopyright: false\n```\n\n從`3.0.0`開始，支持對單獨文章設置版權信息，可以在文章 Front-matter 單獨設置\n\n```markdown\ncopyright_author: xxxx\ncopyright_author_href: https://xxxxxx.com\ncopyright_url: https://xxxxxx.com\ncopyright_info: 此文章版權歸 xxxxx 所有，如有轉載，請註明來自原作者\n```\n\n**版權顯示截圖**\n\n![](https://oss.012700.xyz/butterfly/2024/09/butterfly-docs-copyright.png)\n\n### 文章打賞/贊助\n\n在你每篇文章的結尾，可以添加贊助按鈕。相關二維碼可以自行配置。\n\n對於沒有提供二維碼的，可配置一張軟件的 icon 圖片，然後在 link 上添加相應的贊助鏈接。用户點擊圖片就會跳轉到鏈接去。\n\nlink 可以不寫，會默認為圖片的鏈接。\n\n```yaml\nreward:\n  enable: true\n  text:\n  QR_code:\n    - img: /img/wechat.jpg\n      link:\n      text: 微信\n    - img: /img/alipay.jpg\n      link:\n      text: 支付寶\n```\n\n![](https://oss.012700.xyz/butterfly/2024/09/butterfly-docs-donate.png)\n\n### 文章編輯按鈕\n\n在文章標題旁邊顯示一個編輯按鈕，點擊會跳轉到對應的鏈接去。\n\n```yaml\n# Post edit\n# Easily browse and edit blog source code online.\npost_edit:\n  enable: false\n  # url: https://github.com/user-name/repo-name/edit/branch-name/subdirectory-name/\n  # For example: https://github.com/jerryc127/butterfly.js.org/edit/main/source/\n  url:\n```\n\n![hexo-theme-butterfly-docs-post-edit.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-docs-post-edit.png)\n\n![hexo-theme-butterfly-docs-post-edit-2.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-docs-post-edit-2.png)\n\n### 相關文章\n\n{% note warning %}\n當文章封面設置為 false 時，或者沒有獲取到封面配置，相關文章背景將會顯示主題色。\n{% endnote %}\n\n相關文章推薦的原理是根據文章 tags 的比重來推薦\n\n```yaml\nrelated_post:\n  enable: true\n  limit: 6 # 顯示推薦文章數目\n  date_type: created # or created or updated 文章日期顯示創建日或者更新日\n```\n\n![](https://oss.012700.xyz/butterfly/2024/09/butterfly-docs-releatedpost.png)\n\n### 文章分頁按鈕\n\n{% note warning %}\n當文章封面設置為 false 時，或者沒有獲取到封面配置，分頁背景將會顯示主題色。\n{% endnote %}\n\n可設置分頁的邏輯，也可以關閉分頁顯示\n\n```yaml\n# post_pagination (分頁)\n# value: 1 || 2 || false\n# 1: The 'next post' will link to old post\n# 2: The 'next post' will link to new post\n# false: disable pagination\npost_pagination: false\n```\n\n| 參數                   | 解釋                 |\n| ---------------------- | -------------------- |\n| post_pagination: false | 關閉分頁按鈕         |\n| post_pagination: 1     | 下一篇顯示的是舊文章 |\n| post_pagination: 2     | 下一篇顯示的是新文章 |\n\n![](https://oss.012700.xyz/butterfly/2024/09/butterfly-docs-post-pagination.png)\n\n### 文章過期提醒\n\n可設置是否顯示文章過期提醒，以更新時間為基準。\n\n```yaml\n# Displays outdated notice for a post\nnoticeOutdate:\n  enable: false\n  # Style: simple / flat\n  style: flat\n  # When will it be shown\n  limit_day: 365\n  # Position: top / bottom\n  position: top\n  message_prev: It has been\n  message_next: days since the last update, the content of the article may be outdated.\n```\n\n| 配置         | 解釋                          |\n| ------------ | ----------------------------- |\n| enable       | 是否開啟文章過期提醒          |\n| style        | 提醒樣式, simple / flat       |\n| limit_day    | 設置多少天後提醒，默認 365 天 |\n| position     | 提醒位置 top / bottom         |\n| message_prev | 提示文字                      |\n| message_next | 提示文字                      |\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\nstyle: flat\n{% endnote %}\n\n![hexo-theme-butteffly-docs-outdate-flat.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butteffly-docs-outdate-flat.png)\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\nstyle: simple\n{% endnote %}\n\n![hexo-theme-butterfly-docs-outdated-simple.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-docs-outdated-simple.png)\n\n## 頁腳\n\n### 博客年份\n\n`since`是一個來展示你站點起始時間的選項。它位於頁面的最底部。\n\n```yaml\nfooter:\n  owner:\n    enable: true\n    since: 2018\n```\n\n![hexo-theme-butterfly-doc-since.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-doc-since.png)\n\n### 頁腳自定義文本\n\n`custom_text`是一個給你用來在頁腳自定義文本的選項。通常你可以在這裏寫聲明文本等,支持 HTML。\n\n```yaml\ncustom_text: Hi, welcome to my <a href=\"https://butterfly.js.org/\">blog</a>!\n```\n\n![hexo-theme-butterfly-doc-footer-text.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-doc-footer-text.png)\n\n對於部分人需要寫 ICP 的，也可以寫在 `custom_text`裏\n\n```yaml\ncustom_text: <a href=\"icp鏈接\"><img class=\"icp-icon\" src=\"icp圖片\"><span>備案號：xxxxxx</span></a>\n```\n\n## Aside\n\n### 配置\n\n側邊欄的配置\n\n```yaml\naside:\n  enable: true\n  hide: false\n  # Show the button to hide the aside in bottom right button\n  button: true\n  mobile: true\n  # Position: left / right\n  position: right\n  display:\n    archive: true\n    tag: true\n    category: true\n  card_author:\n    enable: true\n    description:\n    button:\n      enable: true\n      icon: fab fa-github\n      text: Follow Me\n      link: https://github.com/xxxxxx\n  card_announcement:\n    enable: true\n    content: This is my Blog\n  card_recent_post:\n    enable: true\n    # If set 0 will show all\n    limit: 5\n    # Sort: date / updated\n    sort: date\n    sort_order:\n  card_newest_comments:\n    enable: false\n    sort_order:\n    limit: 6\n    # Unit: mins, save data to localStorage\n    storage: 10\n    avatar: true\n  card_categories:\n    enable: true\n    # If set 0 will show all\n    limit: 8\n    # Choose: none / true / false\n    expand: none\n    sort_order:\n  card_tags:\n    enable: true\n    # If set 0 will show all\n    limit: 40\n    color: false\n    # Order of tags, random/name/length\n    orderby: random\n    # Sort of order. 1, asc for ascending; -1, desc for descending\n    order: 1\n    sort_order:\n  card_archives:\n    enable: true\n    # Type: monthly / yearly\n    type: monthly\n    # Eg: YYYY年MM月\n    format: MMMM YYYY\n    # Sort of order. 1, asc for ascending; -1, desc for descending\n    order: -1\n    # If set 0 will show all\n    limit: 8\n    sort_order:\n  card_post_series:\n    enable: true\n    # The title shows the series name\n    series_title: false\n    # Order by title or date\n    orderBy: 'date'\n    # Sort of order. 1, asc for ascending; -1, desc for descending\n    order: -1\n  card_webinfo:\n    enable: true\n    post_count: true\n    last_push_date: true\n    sort_order:\n    # Time difference between publish date and now\n    # Formal: Month/Day/Year Time or Year/Month/Day Time\n    # Leave it empty if you don't enable this feature\n    runtime_date:\n```\n\n{% note info %}\n`sort_order` 是給每個卡片配置的排序，如果不配置，則按照主題配置文件的排序。數字越小，越靠前。\n{% endnote %}\n\n| 配置                          | 解釋                                                                                                   |\n| ----------------------------- | ------------------------------------------------------------------------------------------------------ |\n| enable                        | 是否啟用側邊欄                                                                                         |\n| hide                          | 是否默認隱藏側邊欄                                                                                     |\n| button                        | 是否顯示隱藏側邊欄的按鈕                                                                               |\n| mobile                        | 是否在移動端顯示側邊欄                                                                                 |\n| position                      | 側邊欄位置，left / right                                                                               |\n| display.archive               | archive 頁面是否顯示 aside                                                                             |\n| display.tag                   | tag 頁面是否顯示 aside                                                                                 |\n| display.category              | category 頁面是否顯示 aside                                                                            |\n| card_author.enable            | 是否顯示作者卡片                                                                                       |\n| card_author.description       | 作者描述信息                                                                                           |\n| card_author.button.enable     | 是否顯示按鈕                                                                                           |\n| card_author.button.icon       | 按鈕圖標，可在這裏找到圖標名稱：https://fontawesome.com/icons?d=gallery&m=free                         |\n| card_author.button.text       | 按鈕文字                                                                                               |\n| card_author.button.link       | 按鈕鏈接                                                                                               |\n| card_announcement.enable      | 是否顯示公告卡片                                                                                       |\n| card_announcement.content     | 公告內容 （可使用 html 標簽）                                                                          |\n| card_recent_post.enable       | 是否顯示最新文章卡片                                                                                   |\n| card_recent_post.limit        | 顯示文章數目，0 為全部                                                                                 |\n| card_recent_post.sort         | 排序方式，date / updated                                                                               |\n| card_newest_comments.enable   | 是否顯示最新評論卡片                                                                                   |\n| card_newest_comments.limit    | 顯示評論數目，0 為全部                                                                                 |\n| card_newest_comments.storage  | 保存時間，單位分鐘，保存到本地存儲，避免每次刷新都重新請求數據                                         |\n| card_newest_comments.avatar   | 是否顯示頭像                                                                                           |\n| card_categories.enable        | 是否顯示分類卡片                                                                                       |\n| card_categories.limit         | 顯示分類數目，0 為全部                                                                                 |\n| card_categories.expand        | 是否展開分類，none / true / false                                                                      |\n| card_tags.enable              | 是否顯示標籤卡片                                                                                       |\n| card_tags.limit               | 顯示標籤數目，0 為全部                                                                                 |\n| card_tags.color               | 是否顯示標籤顔色                                                                                       |\n| card_tags.orderby             | 標籤排序方式，random / name / length                                                                   |\n| card_tags.order               | 排序方式，1 為升序，-1 為降序                                                                          |\n| card_archives.enable          | 是否顯示歸檔卡片                                                                                       |\n| card_archives.type            | 歸檔類型，monthly / yearly                                                                             |\n| card_archives.format          | 歸檔顯示格式，例如：YYYY 年 MM 月                                                                      |\n| card_archives.order           | 排序方式，1 為升序，-1 為降序                                                                          |\n| card_archives.limit           | 顯示歸檔數目，0 為全部                                                                                 |\n| card_post_series.enable       | 是否顯示文章系列卡片                                                                                   |\n| card_post_series.series_title | 是否顯示系列名稱                                                                                       |\n| card_post_series.orderBy      | 排序方式，title / date                                                                                 |\n| card_post_series.order        | 排序方式，1 為升序，-1 為降序                                                                          |\n| card_webinfo.enable           | 是否顯示網站信息卡片                                                                                   |\n| card_webinfo.post_count       | 是否顯示文章數量                                                                                       |\n| card_webinfo.last_push_date   | 是否顯示最後更新日期                                                                                   |\n| card_webinfo.runtime_date     | 顯示網站運行時間,不需要開啟，留空白就行（開啟格式一定要是 Month/Day/Year Time 或者 Year/Month/Day Time |\n\n{% note primary %}\n\n目前有三個評論 Livere、Facebook Comments 和 Giscus 不支持最新評論。\n\n最新評論只會在刷新時才會去讀取，並不會實時變化\n\n由於 API 有 訪問次數限制，為了避免調用太多，主題默認存取期限為 10 分鐘。也就是説，調用後資料會存在 _localStorage_ 裏，10 分鐘內刷新網站只會去 _localStorage_ 讀取資料。 10 分鐘期限一過，刷新頁面時才會去調取 API 讀取新的數據。（ 3.6.0 新增了 `storage` 配置，可自行配置緩存時間）\n\n{% endnote %}\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\nposition: left\n{% endnote %}\n\n![](https://oss.012700.xyz/butterfly/2024/09/butterfly-doc-aside-left.png)\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\nposition: right\n{% endnote %}\n\n![](https://oss.012700.xyz/butterfly/2024/09/butterfly-doc-aside-right.png)\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\ncard_tags color: false\n{% endnote %}\n\n![butterfly-docs-card-tags-color-false.png](https://oss.012700.xyz/butterfly/2024/09/butterfly-docs-card-tags-color-false.png)\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\ncard_tags color: true\n{% endnote %}\n\n![butterfly-docs-card-tags-color-true.png](https://oss.012700.xyz/butterfly/2024/09/butterfly-docs-card-tags-color-true.png)\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\naside button\n{% endnote %}\n\n![](https://oss.012700.xyz/butterfly/2024/09/butterfly-docs-aside-button.gif)\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\n運行時間\n{% endnote %}\n\n![hexo-theme-butterfly-doc-runtime.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-doc-runtime.png)\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\n最新評論\n{% endnote %}\n\n![](https://oss.012700.xyz/butterfly/2024/09/butterfly-docs-newest-comment.png)\n\n### 自定義添加欄目\n\n{% btn '/posts/ea33ab97/','點擊前往',fas fa-lightbulb,block green %}\n\n## 右下角按鈕\n\n### 按鈕位置\n\n當開啟 chat 聊天服務後，聊天服務的按鈕可能會遮擋到右下角的按鈕，可以設置按鈕的位置。\n非必要不建議設置，默認就行\n\n```yaml\n# The distance between the bottom right button and the bottom (default unit: px)\nrightside_bottom:\n```\n\n默認單位為 px，直接添加數字即可。\n\n### 簡繁轉換\n\n主題內置了一個簡單的簡繁轉換功能，採用一對一的形式配對。遇到一字多繁或者一字多簡的情況下，會出現不能正常轉換正確的簡繁體，請留意。\n\n開啟後，右下角會有簡繁轉換按鈕。\n\n```yaml\ntranslate:\n  enable: true\n  # 默認按鈕顯示文字(網站是簡體，應設置為'default: 繁')\n  default: 簡\n  #網站默認語言，1: 繁體中文, 2: 簡體中文\n  defaultEncoding: 1\n  #延遲時間,若不在前, 要設定延遲翻譯時間, 如100表示100ms,默認為0\n  translateDelay: 0\n  #當文字是簡體時，按鈕顯示的文字\n  msgToTraditionalChinese: '繁'\n  #當文字是繁體時，按鈕顯示的文字\n  msgToSimplifiedChinese: '簡'\n```\n\n### 閲讀模式\n\n閲讀模式下會去掉除文章外的內容，避免幹擾閲讀。\n\n只會出現在文章頁面，右下角會有閲讀模式按鈕。\n\n```yaml\nreadmode: true\n```\n\n![](https://oss.012700.xyz/butterfly/2024/09/butterfly-doc-read-mode.png)\n\n### 夜間模式\n\n右下角會有夜間模式按鈕\n\n```yaml\n# dark mode\ndarkmode:\n  enable: true\n  # dark mode和 light mode切換按鈕\n  button: true\n  autoChangeMode: false\n  # Set the light mode time. The value is between 0 and 24. If not set, the default value is 6 and 18\n  start: # 8\n  end: # 22\n```\n\n| 參數           | 解釋                                                                                                                                                                                                                                                      |\n| -------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| button         | 是否在右下角顯示日夜模式切換按鈕                                                                                                                                                                                                                          |\n| autoChangeMode | 自動切換的模式<br />autoChangeMode: 1 跟隨系統而變化，不支持的瀏覽器/系統將按照時間 start 到 end 之間切換為 light mode<br />autoChangeMode: 2 只按照時間 start 到 end 之間切換為 light mode ,其餘時間為 dark mode<br />autoChangeMode: false 取消自動切換 |\n| start          | light mode 的開始時間                                                                                                                                                                                                                                     |\n| end            | light mode 的結束時間                                                                                                                                                                                                                                     |\n\n![hexo-theme-butterfly-doc-dark-mode-1.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-doc-dark-mode-1.png)\n\n### 滾動狀態百分比\n\n```yaml\n# show scroll percent in scroll-to-top button\nrightside_scroll_percent: true\n```\n\n![](https://cdn.jsdelivr.net/gh/jerryc127/CDN@m2/img/hexo-butterfly-docs-scroll-percent-right-btn.gif)\n\n### 按鈕排序\n\n可對右下角按鈕進行排序\n\n**注意：** 不要重複\n\n```yaml\n# Don't modify the following settings unless you know how they work (非必要請不要修改 )\n# Choose: readmode,translate,darkmode,hideAside,toc,chat,comment\n# Don't repeat 不要重複\nrightside_item_order:\n  enable: false\n  hide: # readmode,translate,darkmode,hideAside\n  show: # toc,chat,comment\n```\n\n## 全局配置\n\n### 頁面錨點\n\n開啟頁面錨點後，當你在進行滾動時，頁面鏈接會根據標題 ID 進行替換\n(注意: 每替換一次，會留下一個歷史記錄。所以如果一篇文章有很多錨點的話，網頁的歷史記錄會很多。)\n\n```yaml\n# anchor\nanchor:\n  # when you scroll, the URL will update according to header id.\n  auto_update: false\n  # Click the headline to scroll and update the anchor\n  click_to_scroll: false\n```\n\n| 配置            | 解釋                                               |\n| --------------- | -------------------------------------------------- |\n| auto_update     | 當滾動時，URL 將根據標題 id 更新。默認為 `false`。 |\n| click_to_scroll | 點擊標題滾動並更新錨點。默認為 `false`。           |\n\n### 圖片描述\n\n可開啟圖片 Figcaption 描述文字顯示\n\n優先顯示圖片的 title 屬性，然後是 alt 屬性\n\n```yaml\nphotofigcaption: true\n```\n\n![](https://oss.012700.xyz/butterfly/2024/09/butterfly-docs-photo-figcaption.png)\n\n### 複製相關配置\n\n可配置網站是否可以複製、複製的內容是否添加版權信息\n\n```yaml\ncopy:\n  enable: true\n  # Add the copyright information after copied content\n  copyright:\n    enable: false\n    limit_count: 150\n```\n\n| 配置        | 解釋                                                                   |\n| ----------- | ---------------------------------------------------------------------- |\n| enable      | 是否開啟網站複製權限                                                   |\n| copyright   | 複製的內容後面加上版權信息                                             |\n| enable      | 是否開啟複製版權信息添加                                               |\n| limit_count | 字數限制，當複製文字大於這個字數限制時，將在複製的內容後面加上版權信息 |\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\n添加版權信息後\n{% endnote %}\n\n```\nLorem ipsum dolor sit amet, test link consectetur adipiscing elit. Strong text pellentesque ligula commodo viverra vehicula. Italic text at ullamcorper enim. Morbi a euismod nibh. Underline text non elit nisl. Deleted text tristique, sem id condimentum tempus, metus lectus venenatis mauris, sit amet semper lorem felis a eros. Fusce egestas nibh at sagittis auctor. Sed ultricies ac arcu quis molestie. Donec dapibus nunc in nibh egestas, vitae volutpat sem iaculis. Curabitur sem tellus, elementum nec quam id, fermentum laoreet mi. Ut mollis ullamcorper turpis, vitae facilisis velit ultricies sit amet. Etiam laoreet dui odio, id tempus justo tincidunt id. Phasellus scelerisque nunc sed nunc ultricies accumsan.\n\n\n作者: Jerry\n連結: http://localhost:4000/posts/bd3c650b/#Paragraph\n來源: Butterfly\n著作權歸作者所有。商業轉載請聯絡作者獲得授權，非商業轉載請註明出處。\n```\n\n### 字數統計\n\n開啟字數統計功能，需要安裝`hexo-wordcount`插件\n\n在 hexo 工作目錄下運行 `npm install hexo-wordcount --save` or `yarn add hexo-wordcount`\n\n```yaml\n# Need to install the hexo-wordcount plugin\nwordcount:\n  enable: false\n  # Display the word count of the article in post meta\n  post_wordcount: true\n  # Display the time to read the article in post meta\n  min2read: true\n  # Display the total word count of the website in aside's webinfo\n  total_wordcount: true\n```\n\n| 參數            | 解釋                   |\n| --------------- | ---------------------- |\n| post_wordcount  | 在文章頁面顯示字數     |\n| min2read        | 在文章頁面顯示閲讀時間 |\n| total_wordcount | 在側邊欄顯示網站總字數 |\n\n![hexo-theme-butterfly-doc-word-count.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-doc-word-count.png)\n\n![hexo-theme-butterfly-docs-wordcount-totalcount.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-docs-wordcount-totalcount.png)\n\n### 訪問人數 busuanzi (UV 和 PV)\n\n訪問 busuanzi 的[官方網站](http://busuanzi.ibruce.info/)查看更多的介紹。\n\n由於 busuanzi 的穩定性問題，偶爾會遇到無法訪問的情況，請留意。\n\n{% note info %}\n文章頁的訪問人數統計，是通過 busuanzi 這個插件實現的。個別評論系統自帶訪問人數統計功能，可以在相對應的評論系統配置中進行開啟，其會代替 busuanzi 的統計。\n{% endnote %}\n\n```yaml\nbusuanzi:\n  site_uv: true\n  site_pv: true\n  page_pv: true\n```\n\n{% note info %}\n如果需要修改 busuanzi 的 CDN 鏈接，可通過 `主題配置文件` 的 `CDN` 中的 `option` 進行修改\n{% endnote %}\n\n```yaml\nCDN:\n  option:\n  \tbusuanzi: xxxxxxxxx\n```\n\n![hexo-theme-butterfly-doc-busuanzi-site-pv.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-doc-busuanzi-site-pv.png)\n\n![hexo-theme-butterfly-doc-pv.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-doc-pv.png)\n\n## Math 數學\n\n{% tabs Math %}\n\n<!-- tab 通用配置 -->\n\n主題支持兩種數學公式渲染引擎，`MathJax` 和 `KaTeX`。你可以根據自己的需求選擇一種。\n\n```yaml\n# About the per_page\n# if you set it to true, it will load mathjax/katex script in each page\n# if you set it to false, it will load mathjax/katex script according to your setting (add the 'mathjax: true' or 'katex: true' in page's front-matter)\nmath:\n  # Choose: mathjax, katex\n  # Leave it empty if you don't need math\n  use:\n  per_page: true\n  hide_scrollbar: false\n```\n\n| 參數           | 解釋                                                                                                                                                          |\n| -------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| use            | 選擇數學公式渲染引擎，選擇 `mathjax` 或 `katex`，如果不需要數學公式，請留空                                                                                   |\n| per_page       | 是否每一頁都加載數學公式渲染引擎，如果設置為 `false`，則需要在文章的 `Front-matter` 添加 `mathjax: true` 或 `katex: true`，對應的文章才會加載數學公式渲染引擎 |\n| hide_scrollbar | 是否隱藏滾動條                                                                                                                                                |\n\n<!-- endtab -->\n\n<!-- tab MathJax -->\n\n{% note warning flat %}\n不要在標題裏使用 mathjax 語法，toc 目錄不一定能正確顯示 mathjax，可能顯示 mathjax 代碼\n{% endnote %}\n\n{% note info %}\n建議使用 KaTex 獲得更好的效果，下文有介紹！\n{% endnote %}\n\n開啟 Mathjax 需要把 `use` 設置為 `mathjax`\n\nmathjax 配置文件\n\n```yaml\nmathjax:\n  # Enable the contextual menu\n  enableMenu: true\n  # Choose: all / ams / none, This controls whether equations are numbered and how\n  tags: none\n```\n\n| 參數       | 解釋                                                          |\n| ---------- | ------------------------------------------------------------- |\n| enableMenu | 啟用右鍵菜單                                                  |\n| tags       | 選擇是否編號，`all` 全部編號，`ams` 只編號公式，`none` 不編號 |\n\n使用 Mathjax 前，你需要卸載 hexo 的 markdown 渲染器，然後安裝[hexo-renderer-kramed](https://www.npmjs.com/package/hexo-renderer-kramed)\n\n以下操作在你 hexo 博客的目錄下 (**不是 Butterfly 的目錄**):\n\n1. 安裝插件\n\n   ```bash\n   npm uninstall hexo-renderer-marked --save\n   npm install hexo-renderer-kramed --save\n   ```\n\n2. 配置 hexo 根目錄的配置文件\n\n   ```yaml\n   kramed:\n     gfm: true\n     pedantic: false\n     sanitize: false\n     tables: true\n     breaks: true\n     smartLists: true\n     smartypants: true\n   ```\n\n效果：\n\n![hexo-theme-butterfly-doc-mathjax-2.jpg](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-doc-mathjax-2.jpg)\n\n<!-- endtab -->\n\n<!-- tab KaTeX -->\n\n{% note warning flat %}\n不要在標題裏使用 KaTeX 語法，toc 目錄不能正確顯示 KaTeX。\n{% endnote %}\n\n開啟 KaTeX 需要把 `use` 設置為 `katex`\n\n```yaml\nkatex:\n  # Enable the copy KaTeX formula\n  copy_tex: false\n```\n\n| 參數     | 解釋                    |\n| -------- | ----------------------- |\n| copy_tex | 啟用複製 KaTeX 公式功能 |\n\n你不需要添加 `katex.min.js` 來渲染數學方程。相應的你需要卸載你之前的 hexo 的 markdown 渲染器，然後安裝其它插件。\n\n{% subtabs katex-plugins %}\n\n<!-- tab hexo-renderer-markdown-it 【建議】 -->\n\n卸載掉 marked 插件，安裝 [hexo-renderer-markdown-it](https://github.com/hexojs/hexo-renderer-markdown-it)\n\n```bash\nnpm un hexo-renderer-marked --save # 如果有安裝這個的話，卸載\nnpm un hexo-renderer-kramed --save # 如果有安裝這個的話，卸載\n\nnpm i hexo-renderer-markdown-it --save # 需要安裝這個渲染插件\nnpm install katex @renbaoshuo/markdown-it-katex #需要安裝這個katex插件\n```\n\n在 hexo 的根目錄的 `_config.yml` 中配置\n\n```yaml\nmarkdown:\n  plugins:\n    - '@renbaoshuo/markdown-it-katex'\n```\n\n如需配置其它參數，請參考 [katex 官網](https://katex.org/docs/options.html)\n\n<!-- endtab -->\n\n<!-- tab hexo-renderer-markdown-it-plus -->\n\n{% note warning %}\n注意，此方法生成的 katex 沒有斜體\n{% endnote %}\n\n卸載掉 marked 插件，然後安裝新的`hexo-renderer-markdown-it-plus`:\n\n```bash\n# 替換 `hexo-renderer-kramed` 或者 `hexo-renderer-marked` 等hexo的markdown渲染器\n# 你可以在你的package.json裏找到hexo的markdwon渲染器，並將其卸載\nnpm un hexo-renderer-marked --save\n\n# or\n\nnpm un hexo-renderer-kramed --save\n\n\n# 然後安裝 `hexo-renderer-markdown-it-plus`\nnpm i @upupming/hexo-renderer-markdown-it-plus --save\n```\n\n注意到 [`hexo-renderer-markdown-it-plus`](https://github.com/CHENXCHEN/hexo-renderer-markdown-it-plus)已經無人持續維護, 所以我們使用 [`@upupming/hexo-renderer-markdown-it-plus`](https://github.com/upupming/hexo-renderer-markdown-it-plus)。 這份 fork 的代碼使用了 [`@neilsustc/markdown-it-katex`](https://github.com/yzhang-gh/markdown-it-katex)同時它也是 VSCode 的插件 [Markdown All in One](https://github.com/yzhang-gh/vscode-markdown)所使用的, 所以我們可以獲得最新的 KaTex 功能例如 `\\tag{}`。\n\n你還可以通過 [`@neilsustc/markdown-it-katex`](https://github.com/yzhang-gh/markdown-it-katex)控制 KaTeX 的設置，所有可配置的選項參見 https://katex.org/docs/options.html。 比如你想要禁用掉 KaTeX 在命令行上輸出的宂長的警告信息，你可以在根目錄的 `_config.yml` 中使用下面的配置將 `strict` 設置為 false:\n\n```yaml\nmarkdown_it_plus:\n  plugins:\n    - plugin:\n      name: '@neilsustc/markdown-it-katex'\n      enable: true\n      options:\n        strict: false\n```\n\n當然，你還可以利用這個特性來定義一些自己常用的 `macros`。\n\n<!-- endtab -->\n\n{% endsubtabs %}\n\n因為 KaTeX 更快更輕量，因此沒有 MathJax 的功能多（比如右鍵菜單）。為那些使用 MathJax 的用户，主題也內置了 katex 的 [複製](https://github.com/KaTeX/KaTeX/tree/master/contrib/copy-tex) 功能。\n\n![hexo-theme-butterfly-doc-katex.gif](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-doc-katex.gif)\n\n<!-- endtab -->\n\n{% endtabs %}\n\n## 搜索\n\n{% tabs search %}\n\n<!-- tab 通用配置 -->\n\n主題支持三種搜索方式（algolia_search / local_search / docsearch），你可以選擇一種或者多種搜索方式。\n\n```yaml\nsearch:\n  # Choose: algolia_search / local_search / docsearch\n  # leave it empty if you don't need search\n  use:\n  placeholder:\n```\n\n| 參數        | 解釋                                   |\n| ----------- | -------------------------------------- |\n| use         | 選擇你需要的搜索方式，不需要開啟留空白 |\n| placeholder | 搜索框的提示文字                       |\n\n<!-- endtab -->\n\n<!-- tab Algolia @fab fa-algolia -->\n\n{% note warning %}\n記得運行 hexo clean\n{% endnote %}\n\n{% note warning %}\n如果你使用 [hexo-algoliasearch](https://github.com/LouisBarranqueiro/hexo-algoliasearch)，請記得配置 fields 參數的 `title`, `permalink` 和 `content`\n{% endnote %}\n\n1. 你需要安裝 [hexo-algolia](https://github.com/oncletom/hexo-algolia)或 [hexo-algoliasearch](https://github.com/LouisBarranqueiro/hexo-algoliasearch). 根據它們的説明文檔去做相應的配置。\n\n2. 把主題配置文件中 search 的 use 配置為 `algolia_search`\n\n其它配置\n\n```yaml\n# Algolia Search\nalgolia_search:\n  # Number of search results per page\n  hitsPerPage: 6\n```\n\n| 參數        | 解釋                   |\n| ----------- | ---------------------- |\n| hitsPerPage | 每頁顯示的搜索結果數量 |\n\n3. 運行 Hexo\n\n<!-- endtab -->\n\n<!-- tab 本地搜索@fas fa-search -->\n\n{% note warning %}\n記得運行 hexo clean\n{% endnote %}\n\n1. 你需要安裝 [hexo-generator-searchdb](https://github.com/next-theme/hexo-generator-searchdb) 或者 [hexo-generator-search](https://github.com/PaicHyperionDev/hexo-generator-search)，根據它的文檔去做相應配置\n\n2. 把主題配置文件中 search 的 use 配置為 `local_search`\n\n其它配置\n\n```yaml\n# Local Search\nlocal_search:\n  # Preload the search data when the page loads.\n  preload: false\n  # Show top n results per article, show all results by setting to -1\n  top_n_per_article: 1\n  # Unescape html strings to the readable one.\n  unescape: false\n  CDN:\n```\n\n| 參數              | 解釋                                                                                       |\n| ----------------- | ------------------------------------------------------------------------------------------ |\n| preload           | 預加載，開啟後，進入網頁後會自動加載搜索文件。關閉時，只有點擊搜索按鈕後，才會加載搜索文件 |\n| top_n_per_article | 匹配的文章結果，默認顯示最開始的 1 段結果                                                  |\n| unescape          | 將 html 字符串解碼為可讀字符串                                                             |\n| CDN               | 搜索文件的 CDN 地址（默認使用的本地鏈接）                                                  |\n\n<!-- endtab -->\n\n<!-- tab DocSearch @fas fa-search -->\n\nDocSearch 是另一款由 algolia 提供的搜索服務，具體申請和使用請查看 [DocSearch 文檔](https://docsearch.algolia.com/)\n\n1. 你需要申請 [DocSearch](https://docsearch.algolia.com/)，並獲取你的 `appId`, `apiKey`, `indexName`\n2. 把主題配置文件中 search 的 use 配置為 `docsearch`\n\n其它配置\n\n```\n  # Docsearch\n  # https://docsearch.algolia.com/\n  docsearch:\n    appId:\n    apiKey:\n    indexName:\n    option:\n```\n\n| 參數      | 解釋                                                                                           |\n| --------- | ---------------------------------------------------------------------------------------------- |\n| appId     | 【必須】你的 Algolia 應用 ID                                                                   |\n| apiKey    | 【必須】你的 Algolia 搜索 API key                                                              |\n| indexName | 【必須】你的 Algolia index name                                                                |\n| option    | 【可選】其餘的 docsearch 配置<br />具體配置可查[這裏](https://docsearch.algolia.com/docs/api/) |\n\n![hexo-theme-butterfly-docs-docsearch.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-docs-docsearch.png)\n\n<!-- endtab -->\n\n{% endtabs %}\n\n## 分享\n\n{% note warning %}\n只能選擇一個分享服務商\n{% endnote %}\n\n{% tabs 分享 %}\n\n<!-- tab Sharejs -->\n\n主題支持兩種分享方式，一種是`sharejs`，一種是`addtoany`。\n\n```yaml\nshare:\n  # Choose: sharejs / addtoany\n  # Leave it empty if you don't need share\n  use: sharejs\n```\n\n| 參數 | 解釋                                                          |\n| ---- | ------------------------------------------------------------- |\n| use  | 選擇分享方式，可選`sharejs`或`addtoany`，如果不需要分享請留空 |\n\n<!-- endtab -->\n\n<!-- tab Sharejs -->\n\n如果你不知道 [sharejs](https://github.com/overtrue/share.js/)，看看它的説明。\n\n```yaml\n# Share.js\n# https://github.com/overtrue/share.js\nsharejs:\n  sites: facebook,twitter,wechat,weibo,qq\n```\n\n![hexo-theme-butterfly-doc-sharejs.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-doc-sharejs.png)\n\n<!-- endtab -->\n\n<!-- tab Addtoany -->\n\n可以到[addtoany](https://www.addtoany.com/)查看使用説明\n\n```yaml\naddtoany:\n  item: facebook,twitter,wechat,sina_weibo,facebook_messenger,email,copy_link\n```\n\n![hexo-theme-butterfly-doc-addtoany.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-doc-addtoany.png)\n\n<!-- endtab -->\n\n{% endtabs %}\n\n## 評論\n\n{% tabs comments %}\n\n<!-- tab 通用設置 -->\n\n主題支持多種評論系統，你可以根據自己的喜好選擇一種。\n你也可以選擇雙評論，只需要配置兩個評論（第一個為默認顯示）\n\n```yaml\ncomments:\n  # Up to two comments system, the first will be shown as default\n  # Leave it empty if you don't need comments\n  # Choose: Disqus/Disqusjs/Livere/Gitalk/Valine/Waline/Utterances/Facebook Comments/Twikoo/Giscus/Remark42/Artalk\n  # Format of two comments system : Disqus,Waline\n  use:\n  # Display the comment name next to the button\n  text: true\n  # Lazyload: The comment system will be load when comment element enters the browser's viewport.\n  # If you set it to true, the comment count will be invalid\n  lazyload: false\n  # Display comment count in post's top_img\n  count: false\n  # Display comment count in Home Page\n  card_post_count: false\n```\n\n| 參數            | 解釋                                                                                                                              |\n| --------------- | --------------------------------------------------------------------------------------------------------------------------------- |\n| use             | 使用的評論（請注意，最多支持兩個，如果不需要請留空）<br>_注意：雙評論不能是 Disqus 和 Disqusjs 一起，由於其共用同一個 ID，會出錯_ |\n| text            | 是否顯示評論服務商的名字                                                                                                          |\n| lazyload        | 是否為評論開啟 lazyload，開啟後，只有滾動到評論位置時才會加載評論所需要的資源（_開啟 lazyload 後，評論數將不顯示_）               |\n| count           | 是否在文章頂部顯示評論數 <br/> livere、Giscus 和 utterances 不支持評論數顯示                                                      |\n| card_post_count | 是否在首頁文章卡片顯示評論數<br/>gitalk、livere 、Giscus 和 utterances 不支持評論數顯示                                           |\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\n單評論\n{% endnote %}\n\n![](https://oss.012700.xyz/butterfly/2024/09/butterfly-docs-single-comments.png)\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\n雙評論\n{% endnote %}\n\n![](https://oss.012700.xyz/butterfly/2024/09/butterfly-docs-double-comments.png)\n\n<!-- endtab -->\n\n<!-- tab Disqus -->\n\n註冊 [disqus](https://disqus.com/)，配置你自己的 disqus，然後在`Butterfly`裏開啟它。\n\n```yaml\ndisqus:\n  shortname:\n```\n\n| 參數      | 解釋                                                                     |\n| --------- | ------------------------------------------------------------------------ |\n| shortname | 你的 Disqus 短名稱，你可以在[這裏](https://disqus.com/admin/create/)創建 |\n\n![](https://oss.012700.xyz/butterfly/2024/09/butterfly-docs-disqus.png)\n\n<!-- endtab -->\n\n<!-- tab Disqusjs -->\n\n與 Disqus 一樣，但由於 Disqus 在中國大陸無法訪問， 使用 Disqusjs 可以在無法訪問 Disqus 時顯示評論。具體可參考[Disqusjs](https://github.com/SukkaW/DisqusJS)。\n\n```yaml\ndisqusjs:\n  shortname:\n  apikey:\n  option:\n```\n\n| 參數      | 解釋                                                                          |\n| --------- | ----------------------------------------------------------------------------- |\n| shortname | 你的 Disqus 短名稱，你可以在[這裏](https://disqus.com/admin/create/)創建      |\n| apikey    | 你的 Disqus API Key，你可以在[這裏](https://disqus.com/api/applications/)創建 |\n| option    | 可選配置                                                                      |\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\n當無法訪問 Disqus 時，會顯示\n{% endnote %}\n\n![](https://oss.012700.xyz/butterfly/2024/09/butterfly-docs-disqusjs.png)\n\n<!-- endtab -->\n\n<!-- tab livere（來必力） -->\n\n註冊[來必力](https://livere.com/)，配置你自己的來必力設置，然後在`Butterfly`裏開啟它。\n\n```yaml\nlivere:\n  uid:\n```\n\n| 參數 | 解釋                                                    |\n| ---- | ------------------------------------------------------- |\n| uid  | 你的來必力 uid，你可以在[這裏](https://livere.com/)創建 |\n\nlivere 的 uid 你能在這裏找到:\n\n![hexo-theme-butterfly-doc-laibili.jpg](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-doc-laibili.jpg)\n\n![](https://oss.012700.xyz/butterfly/2024/09/butterfly-docs-livere.png)\n<!-- endtab -->\n\n<!-- tab Gitalk -->\n\n遵循 [gitalk](https://github.com/gitalk/gitalk)的指示去獲取你的 github Oauth 應用的 client id 和 secret 值。以及查看它的相關配置説明。\n\n```yaml\ngitalk:\n  client_id:\n  client_secret:\n  repo:\n  owner:\n  admin:\n  option:\n```\n\n| 參數          | 解釋                                                                  |\n| ------------- | --------------------------------------------------------------------- |\n| client_id     | GitHub 應用的 client ID                                               |\n| client_secret | GitHub 應用的 client secret                                           |\n| repo          | 存儲 issues 的 repo                                                   |\n| owner         | 存儲 issues 的 repo 的擁有者                                          |\n| admin         | GitHub repository 的所有者和合作者 (對這個 repository 有寫權限的用户) |\n| option        | 可選配置                                                              |\n\n![](https://oss.012700.xyz/butterfly/2024/09/butterfly-docs-gitalk.png)\n\n<!-- endtab -->\n\n<!-- tab Valine -->\n\n遵循 [Valine](https://github.com/xCss/Valine)的指示去配置你的 LeanCloud 應用。以及查看相應的配置説明。\n\n```yaml\nvaline:\n  appId:\n  appKey:\n  avatar: monsterid\n  # This configuration is suitable for domestic custom domain name users, overseas version will be automatically detected (no need to manually fill in)\n  serverURLs:\n  bg:\n  # Use Valine visitor count as the page view count\n  visitor: false\n  option:\n```\n\n| 參數       | 解釋                                                                                                   |\n| ---------- | ------------------------------------------------------------------------------------------------------ |\n| appId      | LeanCloud 應用的 appId                                                                                 |\n| appKey     | LeanCloud 應用的 appKey                                                                                |\n| avatar     | 頭像類型，可選值：`''`、`mp`、`identicon`、`monsterid`、`wavatar`、`retro`、`robohash`、`blank`、`404` |\n| serverURLs | 自定義 LeanCloud 服務器地址，如果你使用國內自定義域名，請填寫此項，否則無需填寫                        |\n| bg         | 背景圖片，可填寫圖片地址，如`https://example.com/bg.jpg`                                               |\n| visitor    | 是否顯示文章閲讀數                                                                                     |\n| option     | 可選配置                                                                                               |\n\n{% note info %}\n開啟 visitor 後，文章頁的訪問人數將改為 Valine 提供，而不是 **不蒜子**\n{% endnote %}\n\nValine 於 v1.4.5 開始支持自定義表情，如果你需要自行配置，請在`emojiCDN`配置表情 CDN。\n\n同時在 Hexo 工作目錄下的`source/_data/`創建一個 json 文件`valine.json`,等同於 Valine 需要配置的`emojiMaps`，`valine.json`配置方式可參考如下\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\nvaline.json\n{% endnote %}\n\n```json\n{\n  \"tv_doge\": \"6ea59c827c414b4a2955fe79e0f6fd3dcd515e24.png\",\n  \"tv_親親\": \"a8111ad55953ef5e3be3327ef94eb4a39d535d06.png\",\n  \"tv_偷笑\": \"bb690d4107620f1c15cff29509db529a73aee261.png\",\n  \"tv_再見\": \"180129b8ea851044ce71caf55cc8ce44bd4a4fc8.png\",\n  \"tv_冷漠\": \"b9cbc755c2b3ee43be07ca13de84e5b699a3f101.png\",\n  \"tv_發怒\": \"34ba3cd204d5b05fec70ce08fa9fa0dd612409ff.png\",\n  \"tv_發財\": \"34db290afd2963723c6eb3c4560667db7253a21a.png\",\n  \"tv_可愛\": \"9e55fd9b500ac4b96613539f1ce2f9499e314ed9.png\",\n  \"tv_吐血\": \"09dd16a7aa59b77baa1155d47484409624470c77.png\",\n  \"tv_呆\": \"fe1179ebaa191569b0d31cecafe7a2cd1c951c9d.png\",\n  \"tv_嘔吐\": \"9f996894a39e282ccf5e66856af49483f81870f3.png\",\n  \"tv_困\": \"241ee304e44c0af029adceb294399391e4737ef2.png\",\n  \"tv_壞笑\": \"1f0b87f731a671079842116e0991c91c2c88645a.png\",\n  \"tv_大佬\": \"093c1e2c490161aca397afc45573c877cdead616.png\",\n  \"tv_大哭\": \"23269aeb35f99daee28dda129676f6e9ea87934f.png\",\n  \"tv_委屈\": \"d04dba7b5465779e9755d2ab6f0a897b9b33bb77.png\",\n  \"tv_害羞\": \"a37683fb5642fa3ddfc7f4e5525fd13e42a2bdb1.png\",\n  \"tv_尷尬\": \"7cfa62dafc59798a3d3fb262d421eeeff166cfa4.png\",\n  \"tv_微笑\": \"70dc5c7b56f93eb61bddba11e28fb1d18fddcd4c.png\",\n  \"tv_思考\": \"90cf159733e558137ed20aa04d09964436f618a1.png\",\n  \"tv_驚嚇\": \"0d15c7e2ee58e935adc6a7193ee042388adc22af.png\"\n}\n```\n\n![hexo-theme-butterfly-doc-valine.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-doc-valine.png)\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\ndefault_avatar\n{% endnote %}\n\n| 參數         | 效果                                                                              |\n| ------------ | --------------------------------------------------------------------------------- |\n| 留空（默認） | ![](https://www.gravatar.com/avatar/00000000000000000000000000000000)             |\n| mp           | ![](https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp)        |\n| identicon    | ![](https://www.gravatar.com/avatar/00000000000000000000000000000000?d=identicon) |\n| monsterid    | ![](https://www.gravatar.com/avatar/00000000000000000000000000000000?d=monsterid) |\n| wavatar      | ![](https://www.gravatar.com/avatar/00000000000000000000000000000000?d=wavatar)   |\n| retro        | ![](https://www.gravatar.com/avatar/00000000000000000000000000000000?d=retro)     |\n| robohash     | ![](https://www.gravatar.com/avatar/00000000000000000000000000000000?d=robohash)  |\n| blank        | ![](https://www.gravatar.com/avatar/00000000000000000000000000000000?d=blank&f=y) |\n| 404          | ![](https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&f=y)    |\n\n<!-- endtab -->\n\n<!-- tab Waline -->\n\nWaline - 一款從 Valine 衍生的帶後端評論系統。可以將 Waline 等價成 With backend Valine。\n\n具體配置可參考 [waline 文檔](https://waline.js.org/)\n\n```yaml\nwaline:\n  serverURL: # Waline server address url\n  bg: # waline background\n  pageview: false\n  option:\n```\n\n| 參數      | 解釋                                                     |\n| --------- | -------------------------------------------------------- |\n| serverURL | Waline 服務器地址                                        |\n| bg        | 背景圖片，可填寫圖片地址，如`https://example.com/bg.jpg` |\n| pageview  | 是否顯示文章閲讀數                                       |\n| option    | 可選配置                                                 |\n\n{% note info %}\n開啟 pageview 後，文章頁的訪問人數將改為 Waline 提供，而不是 **不蒜子**\n{% endnote %}\n\n![hexo-theme-butterfly-doc-valine.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-doc-valine.png)\n\n<!-- endtab -->\n\n<!-- tab Utterances -->\n\n與 Gitalk 一樣，基於 GitHub issues 的評論工具。相對於 Gitalk,其相對需要權限較少。具體配置可參考[Utterances](https://utteranc.es/)。\n\n```yaml\nutterances:\n  repo:\n  # 可選 pathname/url/title/og:title\n  issue_term: pathname\n  # 可選 github-light/github-dark/github-dark-orange/icy-dark/dark-blue/photon-dark\n  light_theme: github-light\n  dark_theme: photon-dark\n```\n\n| 參數        | 解釋                                                                                                          |\n| ----------- | ------------------------------------------------------------------------------------------------------------- |\n| repo        | GitHub repository 的全名，例如：`owner/repo`                                                                  |\n| issue_term  | 用於識別問題的標籤，可以是 pathname/url/title/og:title                                                        |\n| light_theme | 亮色主題，可選值：`github-light`、`github-dark`、`github-dark-orange`、`icy-dark`、`dark-blue`、`photon-dark` |\n| dark_theme  | 暗色主題，可選值：`github-light`、`github-dark`、`github-dark-orange`、`icy-dark`、`dark-blue`、`photon-dark` |\n\n![hexo-theme-butterfly-docs-Utterances.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-docs-Utterances.png)\n\n<!-- endtab -->\n\n<!-- tab Facebook Comments -->\n\n`Facebook Comments`是 Facebook 提供的評論插件，需要登陸 Facebook 才可評論。\n\n```yaml\n# Facebook Comments Plugin\n# https://developers.facebook.com/docs/plugins/comments/\nfacebook_comments:\n  app_id:\n  # optional\n  user_id:\n  pageSize: 10\n  # Choose: social / time / reverse_time\n  order_by: social\n  lang: zh_TW\n```\n\n| 參數     | 解釋                                                                       |\n| -------- | -------------------------------------------------------------------------- |\n| app_id   | Facebook App ID，你可以在[這裏](https://developers.facebook.com/apps/)創建 |\n| user_id  | Facebook User ID，可選，用於管理評論                                       |\n| pageSize | 顯示的評論數                                                               |\n| order_by | 評論排序方式,social/time/reverse_time                                      |\n| lang     | 語言                                                                       |\n\n![hexo-butterfly-docs-facebook-comments.png](https://oss.012700.xyz/butterfly/2024/09/hexo-butterfly-docs-facebook-comments.png)\n\n<!-- endtab -->\n\n<!-- tab Twikoo -->\n\n`Twikoo` 是一個簡潔、安全、無後端的靜態網站評論系統，基於[騰訊雲開發](https://curl.qcloud.com/KnnJtUom)。\n\n具體如何配置評論，請查看 [Twikoo 文檔](https://twikoo.js.org/quick-start.html#%E7%8E%AF%E5%A2%83%E5%88%9D%E5%A7%8B%E5%8C%96)\n\n你只需要把獲取到的 `環境ID (envId)` 填寫到配置上去就行\n\n```yaml\ntwikoo:\n  envId:\n  region:\n  visitor: false\n  option:\n```\n\n| 參數    | 解釋                                                               |\n| ------- | ------------------------------------------------------------------ |\n| envId   | 環境 ID                                                            |\n| region  | 環境地域，默認為 ap-shanghai，如果您的環境地域不是上海，需傳此參數 |\n| visitor | 是否顯示文章閲讀數                                                 |\n| option  | 可選配置                                                           |\n\n{% note info %}\n開啟 visitor 後，文章頁的訪問人數將改為 Twikoo 提供，而不是 **不蒜子**\n{% endnote %}\n\n![](https://oss.012700.xyz/butterfly/2024/09/butterfly-docs-twikoo.png)\n\n<!-- endtab -->\n\n<!-- tab Giscus -->\n\n一個基於 _GitHub Discussions_ 的評論\n\n```yaml\n# Giscus\n# https://giscus.app/\ngiscus:\n  repo:\n  repo_id:\n  category_id:\n  theme:\n    light: light\n    dark: dark\n  option:\n```\n\n| 參數        | 解釋                                         |\n| ----------- | -------------------------------------------- |\n| repo        | GitHub repository 的全名，例如：`owner/repo` |\n| repo_id     | GitHub repository 的 ID                      |\n| category_id | GitHub repository 的分類 ID                  |\n| option      | 可選配置                                     |\n\n具體配置的意思，請參考 Giscus 的[文檔](https://giscus.app/zh-TW)\n\n![hexo-theme-butterfly-docs-giscus.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-docs-giscus.png)\n\n<!-- endtab -->\n\n<!-- tab Remark42 -->\n\nRemark42 是一款只支持**私有部署**的評論\n\n具體部署請查看 [Installation | Remark42](https://remark42.com/docs/getting-started/installation/)\n\n```yaml\nremark42:\n  host: # Your Host URL\n  siteId: # Your Site ID\n  option:\n```\n\n| 參數   | 解釋          |\n| ------ | ------------- |\n| host   | 你的 Host URL |\n| siteId | 你的 Site ID  |\n| option | 可選配置      |\n\n![](https://cdn.jsdelivr.net/gh/jerryc127/CDN@m2/img/hexo-butterfly-docs-remark42.png)\n\n<!-- endtab -->\n\n<!-- tab Artalk -->\n\nArtalk 是一款只支持**私有部署**的評論\n\n具體部署請查看 [Artalk | 自託管評論系統](https://artalk.js.org/)\n\n```yaml\nartalk:\n  server:\n  site:\n  # Use Artalk visitor count as the page view count\n  visitor: false\n  option:\n```\n\n| 參數    | 解釋               |\n| ------- | ------------------ |\n| server  | 你的 Server URL    |\n| site    | 你的 Site ID       |\n| visitor | 是否顯示文章閲讀數 |\n| option  | 可選配置           |\n\n{% note info %}\n開啟 visitor 後，文章頁的訪問人數將改為 Artalk 提供，而不是 **不蒜子**\n{% endnote %}\n\n![](https://cdn.jsdelivr.net/gh/jerryc127/CDN@m2/img/hexo-butterfly-docs-artalk.png)\n\n<!-- endtab -->\n\n{% endtabs %}\n\n## 在綫聊天\n\n{% tabs online-chat %}\n\n<!-- tab 通用設置 -->\n\n主題內置了多種在綫聊天工具。你可以選擇開啟一種，方便你與訪客的交流。\n\n```yaml\nchat:\n  # Choose: chatra/tidio/daovoice/crisp\n  # Leave it empty if you don't need chat\n  use:\n  # Chat Button [recommend]\n  # It will create a button in the bottom right corner of website, and hide the origin button\n  rightside_button: false\n  # The origin chat button is displayed when scrolling up, and the button is hidden when scrolling down\n  button_hide_show: false\n```\n\n| 參數             | 解釋                                                                          |\n| ---------------- | ----------------------------------------------------------------------------- |\n| use              | 選擇你要使用的聊天工具，可選擇`chatra`/`tidio`/`daovoice`/`crisp` |\n| rightside_button | 是否開啟右下角聊天按鈕                                                        |\n| button_hide_show | 是否開啟滾動時隱藏聊天按鈕                                                    |\n\n這些工具都提供了一個按鈕可以打開/關閉聊天窗口。\n主題也提供了一個集合主題特色的按鈕來替換這些工具本身的按鈕，這個聊天按鈕將會出現在右下角裏。\n你只需要把`rightside_button`打開就行。\n\n![](https://oss.012700.xyz/butterfly/2024/09/butterfly-docs-chatbtn.png)\n\n為了不影響訪客的體驗，主題提供一個`button_hide_show`配置\n設為`true`後，使用工具提供的按鈕時，只有向上滾動才會顯示聊天按鈕，向下滾動時會隱藏按鈕。\n\n<!-- endtab -->\n\n<!-- tab chatra -->\n\n{% note info %}\n開啟 chatra， 把主題配置文件中 `chat` 的 `use`設置為`chatra`\n{% endnote %}\n\n配置 chatra,需要知道`Public key`\n\n打開[chatra](https://chatra.com/)並註冊賬號。\n你可以在`Preferences`中找到`Public key`\n\n![hexo-theme-butterfly-docs-chat-chatra-id.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-docs-chat-chatra-id.png)\n\n```yaml\n# chatra\n# https://chatra.io/\nchatra:\n  id: xxxxxxxx\n```\n\n`chatra`的樣式你可以`Chat Widget`自行配置\n\n![hexo-theme-butterfly-docs-chat-chatra-ui-settings.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-docs-chat-chatra-ui-settings.png)\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\nDemo\n{% endnote %}\n\n![](https://oss.012700.xyz/butterfly/2024/09/butterfly-docs-chat-chatra-ui-demo.png)\n\n<!-- endtab -->\n\n<!-- tab tidio -->\n\n{% note info %}\n開啟 tidio， 把主題配置文件中 `chat` 的 `use`設置為`tidio`\n{% endnote %}\n\n配置 tidio,需要知道`Public key`\n\n打開[tidio](https://www.tidio.com/)並註冊賬號。\n你可以在`Preferences > Developer`中找到`Public key`\n\n![hexo-theme-butterfly-docs-chat-tidio-id.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-docs-chat-tidio-id.png)\n\n```yaml\n# tidio\n# https://www.tidio.com/\ntidio:\n  public_key: XXXX\n```\n\n`tidio`的樣式你可以`Channels`自行配置\n\n![hexo-theme-butterfly-docs-chat-tidio-setting.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-docs-chat-tidio-setting.png)\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\nDemo\n{% endnote %}\n\n![](https://oss.012700.xyz/butterfly/2024/09/butterfly-docs-chat-tidio-demo.png)\n\n<!-- endtab -->\n\n<!-- tab daovoice -->\n\n{% note info %}\n開啟 daovoice， 把主題配置文件中 `chat` 的 `use`設置為`daovoice`\n{% endnote %}\n\n打開[daovoice](http://daovoice.io/)和註冊帳號\n找到你的`app id`\n\n![hexo-theme-butterfly-docs-chat-daovoice-appid.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-docs-chat-daovoice-appid.png)\n\n```yaml\n# daovoice\n# http://daovoice.io/\ndaovoice:\n  app_id: xxxxx\n```\n\n可在`聊天設置`裏配置聊天按鈕等樣式\n\n![hexo-theme-butterfly-docs-chat-daovoice-ui.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-docs-chat-daovoice-ui.png)\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\nDemo\n{% endnote %}\n\n<!-- endtab -->\n\n<!-- tab crisp -->\n\n{% note info %}\n開啟 crisp， 把主題配置文件中 `chat` 的 `use`設置為`crisp`\n{% endnote %}\n\n打開[crisp](https://crisp.chat/en/)並註冊帳號\n\n找到需要的網站 ID\n\n```yaml\n# crisp\n# https://crisp.chat/en/\ncrisp:\n  website_id: xxxxxxxx\n```\n\n![hexo-theme-buttefly-docs-chat-crisp.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-buttefly-docs-chat-crisp.png)\n\n![hexo-theme-butterfly-docs-crisp-demo.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-docs-crisp-demo.png)\n\n<!-- endtab -->\n\n{% endtabs %}\n\n## 分析統計\n\n{% tabs 分析統計 %}\n\n<!-- tab 百度統計 -->\n\n1. 登錄百度統計的[官方網站](https://tongji.baidu.com/web/welcome/login)\n\n2. 找到你百度統計的統計代碼\n\n![hexo-theme-butterfly-doc-baidu-tongji.jpg](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-doc-baidu-tongji.jpg)\n\n3. 修改 `主題配置文件`\n\n```yaml\nbaidu_analytics: 你的代碼\n```\n\n<!-- endtab -->\n\n<!-- tab 谷歌分析 -->\n\n1. 登錄谷歌分析的[官方網站](https://www.google.com/analytics/)\n\n2. 找到你的谷歌分析的跟蹤 ID\n\n![hexo-theme-butterfly-doc-google-analytics.jpg](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-doc-google-analytics.jpg)\n\n3. 修改 `主題配置文件`\n\n```yaml\ngoogle_analytics: 你的代碼 # 通常以`UA-`打頭\n```\n\n<!-- endtab -->\n\n<!-- tab Cloudflare分析 -->\n\n1. 登錄 Cloudflare 分析的[官方網站](https://www.cloudflare.com/zh-tw/web-analytics/)\n2. 找到 `JavaScript 程式碼片段`\n3. 找到你的 `token`\n\n![hexo-theme-butterfly-docs-cloudflare-analytics-id.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-docs-cloudflare-analytics-id.png)\n\n4. 修改 `主題配置文件`\n\n   ```yaml\n   # Cloudflare Analytics\n   # https://www.cloudflare.com/zh-tw/web-analytics/\n   cloudflare_analytics:\n   ```\n\n<!-- endtab -->\n\n<!-- tab Microsoft Clarity -->\n\n1. 登錄 Clarity 的[官方網站](https://clarity.microsoft.com/)\n\n2. 創建 `PROJECT`\n\n3. 找到你的 `ID`\n  \n![hexo-theme-butterfly-docs-clarity-id.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-docs-clarity-id.png)\n\n4. 修改 `主題配置文件`\n\n   ```yaml\n   # Microsoft Clarity\n   # https://clarity.microsoft.com/\n   microsoft_clarity:\n   ```\n\n<!-- endtab -->\n\n{% endtabs %}\n\n## 廣告\n\n{% tabs 廣告 %}\n\n<!-- tab 谷歌廣告 -->\n\n主題已集成谷歌廣告（自動廣告）\n\n```yaml\ngoogle_adsense:\n  enable: true\n  auto_ads: true\n  js: https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\n  client: # 填入個人識別碼\n  enable_page_level_ads: true\n```\n\n![hexo-theme-butterfly-docs-google-adsense1.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-docs-google-adsense1.png)\n\n<!-- endtab -->\n\n<!-- tab 手動廣告配置 -->\n\n主題預留了三個位置可供插入廣告，分別為主頁文章(每三篇文章出現廣告)/aside 公告之後/文章頁打賞之後。\n把 html 代碼填寫到對應的位置\n\n```yaml\nad:\n  index:\n  aside:\n  post:\n```\n\n例如:\n\n```yaml\nindex: <ins class=\"adsbygoogle\" style=\"display:block\" data-ad-format=\"fluid\" data-ad-layout-key=\"xxxxxxxxxxxx\" data-ad-client=\"ca-pub-xxxxxxxxxx\" data-ad-slot=\"xxxxxxxxxx\"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script>\n```\n\n![](https://oss.012700.xyz/butterfly/2024/09/butterfly-docs-ad-1.png)\n\n![](https://oss.012700.xyz/butterfly/2024/09/butterfly-docs-ad-2.png)\n\n<!-- endtab -->\n\n{% endtabs %}\n\n## 網站驗證\n\n如果需要搜索引擎收錄網站，可能需要登錄對應搜索引擎的管理平台進行提交。\n各自的驗證碼可從各自管理平台拿到\n\n```yaml\nsite_verification:\n  # - name: google-site-verification\n  #   content: xxxxxx\n  # - name: baidu-site-verification\n  #   content: xxxxxxx\n```\n\n## 美化/特效\n\n### 自定義主題色\n\n可以修改大部分 UI 顏色\n\n修改 `主題配置文件`，比如：\n\n{% note info %}\n顏色值必須被雙引號包裹，就像`\"#000\"`而不是`#000`。否則將會在構建的時候報錯！\n{% endnote %}\n\n```yaml\ntheme_color:\n  enable: true\n  main: '#49B1F5'\n  paginator: '#00c4b6'\n  button_hover: '#FF7242'\n  text_selection: '#00c4b6'\n  link_color: '#99a9bf'\n  meta_color: '#858585'\n  hr_color: '#A4D8FA'\n  code_foreground: '#F47466'\n  code_background: 'rgba(27, 31, 35, .05)'\n  toc_color: '#00c4b6'\n  blockquote_padding_color: '#49b1f5'\n  blockquote_background_color: '#49b1f5'\n  scrollbar_color: '#49b1f5'\n  meta_theme_color_light: 'ffffff'\n  meta_theme_color_dark: '#0d0d0d'\n```\n\n| 參數                        | 解釋              |\n| --------------------------- | ----------------- |\n| main                        | 主題色            |\n| paginator                   | 分頁器顏色        |\n| button_hover                | 按鈕 hover 顏色   |\n| text_selection              | 文字選中顏色      |\n| link_color                  | 鏈接顏色          |\n| meta_color                  | 文章元數據顏色    |\n| hr_color                    | 分割線顏色        |\n| code_foreground             | 代碼前景色        |\n| code_background             | 代碼背景色        |\n| toc_color                   | 目錄顏色          |\n| blockquote_padding_color    | 引用邊框顏色      |\n| blockquote_background_color | 引用背景色        |\n| scrollbar_color             | 滾動條顏色        |\n| meta_theme_color_light      | light mode 主題色 |\n| meta_theme_color_dark       | dark mode 主題色  |\n\n![](https://oss.012700.xyz/butterfly/2024/09/butterfly-doc-color_1.png)\n\n![](https://oss.012700.xyz/butterfly/2024/09/butterfly-doc-color_2.png)\n\n### 文字左右對齊\n\n可設置文字向兩側對齊，對最後一行無效\n\n```yaml\n# Stretches the lines so that each line has equal width（文字向兩側對齊，對最後一行無效）\ntext_align_justify: true\n```\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\ntext_align_justify: false\n{% endnote %}\n\n![](https://oss.012700.xyz/butterfly/2023/10/text-align-justify-false.png)\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\ntext_align_justify: true\n{% endnote %}\n\n![](https://oss.012700.xyz/butterfly/2023/10/text-align-justify-true.png)\n\n### 黑色遮罩\n\n為了避免圖片過於鮮艷而導致文字無法閲讀，默認為`頂部圖`和`頁腳`添加黑色遮罩\n\n```yaml\n# Add a mask to the header and footer\nmask:\n  header: true\n  footer: true\n```\n\n### 頁面加載動畫 preloader\n\n當進入網頁時，因為加載速度的問題，可能會導致 top_img 圖片出現斷層顯示，或者網頁加載不全而出現等待時間，開啟 preloader 後，會顯示加載動畫，等頁面加載完，加載動畫會消失。\n\n主題支持 pace.js 的加載動畫，具體可查看 [pace.js](https://codebyzach.github.io/pace/)\n\n配置 `butterly.yml`\n\n```yaml\n# 加載動畫 Loading Animation\npreloader:\n  enable: false\n  # source\n  # 1. fullpage-loading\n  # 2. pace (progress bar)\n  source: 1\n  # pace theme (see https://codebyzach.github.io/pace/)\n  pace_css_url:\n```\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\nfullpage-loading\n{% endnote %}\n\n![hexo-theme-butterfly-docs-preloader.gif](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-docs-preloader.gif)\n\n### 頁面美化\n\n會改變 ol、ul、h1-h5 的樣式\n\n`field`配置生效的區域\n\n- `post` 只在文章頁生效\n- `site` 在全站生效\n\n```yaml\n# 美化頁面顯示\nbeautify:\n  enable: true\n  field: site # site/post\n  title-prefix-icon: '\\f0c1'\n  title-prefix-icon-color: '#F47466'\n```\n\n| 參數                    | 解釋                   |\n| ----------------------- | ---------------------- |\n| enable                  | 是否開啟美化           |\n| field                   | 美化的區域             |\n| title-prefix-icon       | 標題前綴的 icon        |\n| title-prefix-icon-color | 標題前綴的 icon 的顏色 |\n\n`title-prefix-icon`填寫的是fontawesome的icon的Unicode數。\n![hexo-theme-butterfly-doc-fontwesome-unicode.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-doc-fontwesome-unicode.png)\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\n未開啟美化\n{% endnote %}\n\n![hexo-theme-butterfly-doc-post-beautify.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-doc-post-beautify.png)\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\n開啟美化\n{% endnote %}\n\n![hexo-theme-butterfly-doc-post-beautif.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-doc-post-beautif.png)\n\n### 自定義字體和字體大小\n\n#### 全局字體\n\n可自行設置字體的`font-family`\n\n**如不需要配置，請留空**\n\n```yaml\n# Global font settings\n# Don't modify the following settings unless you know how they work (非必要不要修改)\nfont:\n  global-font-size:\n  code-font-size:\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Helvetica Neue\", Lato, Roboto, \"PingFang SC\", \"Microsoft JhengHei\", \"Microsoft YaHei\", sans-serif\n  code-font-family: consolas, Menlo, \"PingFang SC\", \"Microsoft JhengHei\", \"Microsoft YaHei\", sans-serif\n```\n\n| 參數             | 解釋         |\n| ---------------- | ------------ |\n| global-font-size | 全局字體大小 |\n| code-font-size   | 代碼字體大小 |\n| font-family      | 全局字體     |\n| code-font-family | 代碼字體     |\n\n#### Blog 標題字體\n\n可自行設置字體的`font-family`\n**如不需要配置，請留空。**\n**如不需要使用網絡字體，只需要把 font_link 留空就行**\n\n```yaml\n# Font settings for the site title and site subtitle\n# 左上角網站名字 主頁居中網站名字\nblog_title_font:\n  font_link: https://fonts.googleapis.com/css?family=Titillium+Web&display=swap\n  font-family: Titillium Web, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft JhengHei', 'Microsoft YaHei', sans-serif\n```\n\n| 參數        | 解釋           |\n| ----------- | -------------- |\n| font_link   | 網絡字體的連結 |\n| font-family | 網站標題字體   |\n\n### 打字效果\n\n打字效果[activate-power-mode](https://github.com/disjukr/activate-power-mode)\n\n```yaml\n# Typewriter Effect (打字效果)\n# https://github.com/disjukr/activate-power-mode\nactivate_power_mode:\n  enable: true\n  colorful: true # open particle animation (冒光特效)\n  shake: true #  open shake (抖動特效)\n  mobile: false\n```\n\n| 參數     | 解釋                     |\n| -------- | ------------------------ |\n| enable   | 是否開啟打字效果         |\n| colorful | 是否開啟冒光特效         |\n| shake    | 是否開啟抖動特效         |\n| mobile   | 是否在移動端開啟打字效果 |\n\n![hexo-theme-butterfly-doc-type-animation.gif](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-doc-type-animation.gif)\n\n### 背景特效\n\n{% tabs 背景特效 %}\n\n<!-- tab 靜止綵帶 -->\n\n好看的綵帶背景，可設置每次刷新更換綵帶，或者每次點擊更換綵帶\n\n```yaml\ncanvas_ribbon:\n  enable: false\n  # The size of ribbon\n  size: 150\n  # The opacity of ribbon (0 ~ 1)\n  alpha: 0.6\n  zIndex: -1\n  click_to_change: false\n  mobile: false\n```\n\n| 參數            | 解釋               |\n| --------------- | ------------------ |\n| enable          | 是否開啟綵帶特效   |\n| size            | 綵帶的大小         |\n| alpha           | 綵帶的透明度       |\n| zIndex          | 綵帶的層級         |\n| click_to_change | 點擊更換綵帶       |\n| mobile          | 手機端是否顯示綵帶 |\n\n相關配置可查看[canvas_ribbon](https://github.com/hustcc/ribbon.js)\n\n![](https://oss.012700.xyz/butterfly/2024/09/butterfly-docs-canvas-ribbon.png)\n\n<!-- endtab -->\n\n<!-- tab 動態綵帶 -->\n\n好看的綵帶背景，會飄動\n\n```yaml\ncanvas_fluttering_ribbon:\n  enable: true\n  mobile: false # false 手機端不顯示 true 手機端顯示\n```\n\n![](https://oss.012700.xyz/butterfly/2024/09/butterfly-docs-canvas_fluttering_ribbon.gif)\n\n<!-- endtab -->\n\n<!-- tab canvas-nest -->\n\n```yaml\ncanvas_nest:\n  enable: false\n  # Color of lines, default: '0,0,0'; RGB values: (R,G,B).(note: use ',' to separate.)\n  color: '0,0,255'\n  # The opacity of line (0~1)\n  opacity: 0.7\n  # The z-index property of the background\n  zIndex: -1\n  # The number of lines\n  count: 99\n  mobile: false\n```\n\n| 參數    | 解釋               |\n| ------- | ------------------ |\n| enable  | 是否開啟綵帶特效   |\n| color   | 綵帶的顏色         |\n| opacity | 綵帶的透明度       |\n| zIndex  | 綵帶的層級         |\n| count   | 綵帶的條數         |\n| mobile  | 手機端是否顯示綵帶 |\n\n![](https://oss.012700.xyz/butterfly/2024/09/butterfly-doc-canvas_nes.gif)\n\n<!-- endtab -->\n\n{% endtabs %}\n\n### 鼠標點擊效果\n\n{% tabs 鼠標點擊效果 %}\n\n<!-- tab 煙花 @fas fa-fire-alt -->\n\n```yaml\nfireworks:\n  enable: true\n  zIndex: 9999 # -1 or 9999\n  mobile: false\n```\n\n| 參數                      | 解釋                                   |\n| ------------------------- | -------------------------------------- |\n| enable                    | 是否開啟煙花特效                       |\n| zIndex                    | 煙花的層級， `-1` 代表煙火效果在底部 / |\n| `9999` 代表煙火效果在前面 |\n| mobile                    | 手機端是否顯示煙花                     |\n\n![hexo-theme-butterfly-doc-firewall.gif](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-doc-firewall.gif)\n\n<!-- endtab -->\n\n<!-- tab 愛心 @fas fa-heart -->\n\n```yaml\n# 點擊出現愛心\nclick_heart:\n  enable: true\n  mobile: false\n```\n\n![click_heart.gif](https://oss.012700.xyz/butterfly/2024/09/click_heart.gif)\n\n<!-- endtab -->\n\n<!-- tab 文字 @fab fa-amilia -->\n\n```yaml\n# 點擊出現文字，文字可自行修改\nClickShowText:\n  enable: false\n  text:\n    - I\n    - LOVE\n    - YOU\n  fontSize: 15px\n  random: false # 文字隨機顯示\n  mobile: false\n```\n\n| 參數     | 解釋               |\n| -------- | ------------------ |\n| enable   | 是否開啟文字特效   |\n| text     | 文字內容           |\n| fontSize | 文字大小           |\n| random   | 文字隨機顯示       |\n| mobile   | 手機端是否顯示文字 |\n\n![ClickShowText.gif](https://oss.012700.xyz/butterfly/2024/09/ClickShowText.gif)\n\n<!-- endtab -->\n\n{% endtabs %}\n\n## 圖片大圖查看模式\n\n{% note info %}\n如果你並不想為某張圖片添加大圖查看模式，你可以使用 html 格式引用圖片，併為圖片添加 `no-lightbox` class 名\n{% endnote %}\n\n```yaml\n# Choose: fancybox / medium_zoom\n# https://github.com/francoischalifour/medium-zoom\n# https://fancyapps.com/fancybox/\n# Leave it empty if you don't need lightbox\nlightbox:\n```\n\n可配置 `fancybox` 或 `medium_zoom` 來啟用圖片大圖查看模式\n不需要大圖查看模式時，請留空\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\nFancyBox\n{% endnote %}\n\n![fancybox.gif](https://oss.012700.xyz/butterfly/2024/09/fancybox.gif)\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\nMedium Zoom\n{% endnote %}\n\n![medium_zoom.gif](https://oss.012700.xyz/butterfly/2024/09/medium_zoom.gif)\n\n## 標簽外掛\n\n具體可查看 [標簽外掛](https://butterfly.js.org/posts/ceeb73f/)\n\n## Mermaid\n\n主題支持 Mermaid.js，可以在文章中使用 Mermaid.js 繪製流程圖、序列圖等。\n\n配置：\n\n```yaml\n# Mermaid\n# https://github.com/mermaid-js/mermaid\nmermaid:\n  enable: true\n  # Write Mermaid diagrams using code blocks\n  code_write: true\n  # built-in themes: default / forest / dark / neutral\n  theme:\n    light: default\n    dark: dark\n```\n\n### 書寫方法\n\n主題支持兩種書寫方法\n\n#### 標簽外挂\n\n你可以使用標簽外挂的方式來使用 Mermaid.js\n具體可查看 [Mermaid 標簽外掛](https://butterfly.js.org/posts/ceeb73f/#Mermaid)\n\n#### 代碼塊書寫\n\n你可以使用代碼塊的方式來使用 Mermaid.js\n\n1. hexo 版本需要 7.0 或以上\n2. hexo 的配置文件 要添加 `exclude_languages: ['mermaid']`\n\n    ```yaml\n    syntax_highlighter: 'highlight.js'\n    highlight:\n      line_number: true\n      auto_detect: false\n      tab_replace: ''\n      wrap: true\n      hljs: false\n      exclude_languages: ['mermaid']\n    prismjs:\n      preprocess: true\n      line_number: true\n      tab_replace: ''\n      exclude_languages: ['mermaid']\n    ```\n\n3. butterfly的配置文件中 mermaid 的 code_write 设为 true\n\n> 例子\n\n```mermaid\ngraph TD;\n  A-->B;\n  A-->C;\n  B-->D;\n  C-->D;\n```\n\n## Pjax\n\n當用户點擊鏈接，通過 ajax 更新頁面需要變化的部分，然後使用 HTML5 的 pushState 修改瀏覽器的 URL 地址。\n\n這樣可以不用重複加載相同的資源（css/js）， 從而提升網頁的加載速度。\n\n```yaml\npjax:\n  enable: false\n  # Exclude the specified pages from pjax, such as '/music/'\n  exclude:\n    # - /xxxxxx/\n```\n\n{% note info %}\n\n對於一些第三方插件，有些並不支持 pjax 。\n你可以把**網頁**加入到 `exclude` 裏，這個網頁會被 pjax 排除在外。\n點擊該網頁會重新加載網站\n\n使用 pjax 後，一些自己 DIY 的 js 可能會無效，跳轉頁面時需要重新調用，請參考[Pjax 文檔](https://github.com/MoOx/pjax)\n使用 pjax 後，一些個別頁面加載的 js/css，將會改為所有頁面都加載\n\n{% endnote %}\n\n## Snackbar 彈窗\n\nSnackbar 彈窗,根據自己愛好開啟\n\n```yaml\n# Snackbar 彈窗\n# https://github.com/polonel/SnackBar\n# position 彈窗位置\n# 可選 top-left / top-center / top-right / bottom-left / bottom-center / bottom-right\nsnackbar:\n  enable: true\n  position: bottom-left\n  bg_light: '#49b1f5' #light mode時彈窗背景\n  bg_dark: '#2d3035' #dark mode時彈窗背景\n```\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\n未開啟 Snackbar\n{% endnote %}\n\n![](https://oss.012700.xyz/butterfly/2024/09/snackbar_false.gif)\n\n{% note purple 'fa-solid fa-wand-magic-sparkles' %}\n開啟 Snackbar\n{% endnote %}\n\n![](https://oss.012700.xyz/butterfly/2024/09/snackbar_true.gif)\n\n## Instantpage\n\n當鼠標懸停到鏈接上超過 65 毫秒時，Instantpage 會對該鏈接進行預加載，可以提升訪問速度。\n\n修改配置文件\n\n```yaml\n# https://instant.page/\n# prefetch (預加載)\ninstantpage: true\n```\n\n## Pangu\n\n{% note info %}\n如果你跟我一樣，每次看到網頁上的中文字和英文、數字、符號擠在一塊，就會坐立難安，忍不住想在它們之間加個空格。這個外掛正是你在網路世界走跳所需要的東西，它會自動替你在網頁中所有的中文字和半形的英文、數字、符號之間插入空白。\n{% endnote %}\n\n修改配置文件\n\n```YAML\n# https://github.com/vinta/pangu.js\n# Insert a space between Chinese character and English character (中英文之間添加空格)\npangu:\n  enable: false\n  field: post # site/post\n```\n\n`field`只支持兩個參數，`post`(只在文章頁生效)和`site`(全站生效)\n\n## PWA\n\n要為`Butterfly`配上 PWA 特性, 你需要如下幾個步驟:\n\n1. 打開 hexo 工作目錄\n\n2. `npm install hexo-offline --save` 或者 `yarn add hexo-offline`\n\n3. 在根目錄創建 `hexo-offline.config.cjs` 文件，並增加以下內容。\n\n```js\n// offline config passed to workbox-build.\nmodule.exports = {\n  globPatterns: ['**/*.{js,html,css,png,jpg,gif,svg,webp,eot,ttf,woff,woff2}'],\n  // 靜態文件合集，如果你的站點使用了例如 webp 格式的文件，請將文件類型添加進去。\n  globDirectory: 'public',\n  swDest: 'public/service-worker.js',\n  maximumFileSizeToCacheInBytes: 10485760, // 緩存的最大文件大小，以字節為單位。\n  skipWaiting: true,\n  clientsClaim: true,\n  runtimeCaching: [\n    // 如果你需要加載 CDN 資源，請配置該選項，如果沒有，可以不配置。\n    // CDNs - should be CacheFirst, since they should be used specific versions so should not change\n    {\n      urlPattern: /^https:\\/\\/cdn\\.example\\.com\\/.*/, // 可替換成你的 URL\n      handler: 'CacheFirst'\n    }\n  ]\n}\n```\n\n更多內容請查看 [hexo-offline](https://github.com/JLHwung/hexo-offline)的官方文檔\n\n4. 在`主題配置文件`中開啟 pwa 選項。\n\n```yaml\npwa:\n  enable: true\n  manifest: /img/pwa/manifest.json\n  apple_touch_icon: /img/pwa/apple-touch-icon.png\n  favicon_32_32: /img/pwa/32.png\n  favicon_16_16: /img/pwa/16.png\n  mask_icon: /img/pwa/safari-pinned-tab.svg\n```\n\n5. 在創建`source/`目錄中創建`manifest.json`文件。\n\n```json\n{\n  \"name\": \"string\",\n  \"short_name\": \"Junzhou\",\n  \"theme_color\": \"#49b1f5\",\n  \"background_color\": \"#49b1f5\",\n  \"display\": \"standalone\",\n  \"scope\": \"/\",\n  \"start_url\": \"/\",\n  \"icons\": [\n    {\n      \"src\": \"images/pwaicons/36.png\",\n      \"sizes\": \"36x36\",\n      \"type\": \"image/png\"\n    },\n    {\n      \"src\": \"images/pwaicons/48.png\",\n      \"sizes\": \"48x48\",\n      \"type\": \"image/png\"\n    },\n    {\n      \"src\": \"images/pwaicons/72.png\",\n      \"sizes\": \"72x72\",\n      \"type\": \"image/png\"\n    },\n    {\n      \"src\": \"images/pwaicons/96.png\",\n      \"sizes\": \"96x96\",\n      \"type\": \"image/png\"\n    },\n    {\n      \"src\": \"images/pwaicons/144.png\",\n      \"sizes\": \"144x144\",\n      \"type\": \"image/png\"\n    },\n    {\n      \"src\": \"images/pwaicons/192.png\",\n      \"sizes\": \"192x192\",\n      \"type\": \"image/png\"\n    },\n    {\n      \"src\": \"images/pwaicons/512.png\",\n      \"sizes\": \"512x512\",\n      \"type\": \"image/png\"\n    }\n  ],\n  \"splash_pages\": null\n}\n```\n\n你也可以通過 [Web App Manifest](https://app-manifest.firebaseapp.com/)快速創建`manifest.json`。（Web App Manifest 要求至少包含一個 512\\*512 像素的圖標）\n\n6. 可以通過`Chrome`插件`Lighthouse`檢查 PWA 配置是否生效以及配置是否正確。\n\n   - 打開博客頁面\n   - 啟動`Lighthouse`插件 (`Lighthouse`插件要求至少包含一個 512\\*512 像素的圖標)\n\n關於 PWA（漸進式增強 Web 應用）的更多內容請參閲 [Google Tools for Web Developers](https://developers.google.com/web/tools/lighthouse/audits/address-bar)\n\n## Open Graph\n\n在 `head` 裏增加一些 meta 資料，例如縮略圖、標題、時間等等。當你分享網頁到一些平台時，平台會讀取 Open Graph 的內容，展示縮略圖，標題等等信息。\n\n修改配置文件\n\n```yaml\n# Open graph meta tags\n# https://hexo.io/docs/helpers#open-graph\nOpen_Graph_meta:\n  enable: true\n  option:\n    # twitter_card:\n    # twitter_image:\n    # twitter_id:\n    # twitter_site:\n    # google_plus:\n    # fb_admins:\n    # fb_app_id:\n```\n\n## CSS 前綴\n\n有些 CSS 並不是所有瀏覽器都支持，需要增加對應的前綴才會生效。\n\n開啟 `css_prefix` 後，會自動為一些 CSS 增加前綴。（會增加 20%的體積）\n\n修改配置文件\n\n```yaml\n# Add the vendor prefixes to ensure compatibility\ncss_prefix: true\n```\n\n## Inject\n\n{% note pink 'fa-solid fa-bell' %}\n2.3.0 以上支持\n{% endnote %}\n\n如想添加額外的 js/css/meta 等等東西，可以在 Inject 裏添加，支持添加到 head(`</body>`標籤之前)和 bottom(`</html>`標籤之前)。\n\n請注意：以標準的 html 格式添加內容\n\n例如\n\n```yaml\ninject:\n  head:\n  \t- <link rel=\"stylesheet\" href=\"/self.css\">\n  bottom:\n  \t- <script src=\"xxxx\"></script>\n```\n\n_留意:_ 如果你的網站根目錄不是'/',使用本地圖片時，需加上你的根目錄。\n例如：網站是 `https://yoursite.com/blog`,引用`css/xx.css`，則設置為`<link rel=\"stylesheet\" href=\"/blog/css/xx.css\">`\n\n## CDN\n\n配置文件中最後一部分 CDN，裏面是主題所引用到的文件，可自行配置 CDN。（非必要請勿修改，配置後請確認鏈接是否能訪問）\n\n```yaml\n# CDN Settings\n# Don't modify the following settings unless you know how they work\nCDN:\n  # The CDN provider for internal and third-party scripts\n  # Options for both: local/jsdelivr/unpkg/cdnjs/custom\n  # Note: Dev version can only use 'local' for internal scripts\n  # Note: When setting third-party scripts to 'local', you need to install hexo-butterfly-extjs\n  internal_provider: local\n  third_party_provider: jsdelivr\n\n  # Add version number to url, true or false\n  version: false\n\n  # Custom format\n  # For example: https://cdn.staticfile.org/${cdnjs_name}/${version}/${min_cdnjs_file}\n  custom_format:\n\n  option:\n    # abcjs_basic_js:\n    # activate_power_mode:\n    # algolia_js:\n    # algolia_search:\n    # aplayer_css:\n    # aplayer_js:\n    # artalk_css:\n    # artalk_js:\n    # blueimp_md5:\n    # busuanzi:\n    # canvas_fluttering_ribbon:\n    # canvas_nest:\n    # canvas_ribbon:\n    # click_heart:\n    # clickShowText:\n    # disqusjs:\n    # disqusjs_css:\n    # docsearch_css:\n    # docsearch_js:\n    # egjs_infinitegrid:\n    # fancybox:\n    # fancybox_css:\n    # fireworks:\n    # fontawesome:\n    # gitalk:\n    # gitalk_css:\n    # giscus:\n    # instantpage:\n    # instantsearch:\n    # katex:\n    # katex_copytex:\n    # lazyload:\n    # local_search:\n    # main:\n    # main_css:\n    # mathjax:\n    # medium_zoom:\n    # mermaid:\n    # meting_js:\n    # pangu:\n    # prismjs_autoloader:\n    # prismjs_js:\n    # prismjs_lineNumber_js:\n    # pjax:\n    # sharejs:\n    # sharejs_css:\n    # snackbar:\n    # snackbar_css:\n    # translate:\n    # twikoo:\n    # typed:\n    # utils:\n    # valine:\n    # waline_css:\n    # waline_js:\n```\n\n| 參數                 | 解釋                                                                                                                                                                                          |\n| -------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| internal_provider    | 主題內部文件<br />可選 local/jsdelivr/unpkg/cdnjs/custom<br />lcoal 為本地加載，custom 為自定義格式，需配置 `custom_format`<br />**注意:** 如果使用的是 Dev 版，只能設置為 local              |\n| third_party_provider | 第三方文件<br />可選 local/jsdelivr/unpkg/cdnjs/custom<br />lcoal 為本地加載，custom 為自定義格式，需配置 `custom_format`<br />**注意:** 如果你選擇 local 需要安裝 `hexo-butterfly-extjs`插件 |\n| version              | true/false 為 cdn 加上指定版本號                                                                                                                                                              |\n| custom_format        | 自定義格式                                                                                                                                                                                    |\n| option               | 你可以在這裏更換部分文件,會覆蓋原有的配置                                                                                                                                                     |\n\n### version\n\n如需修改版本號，可修改`主題目錄`的 'plugins.yml' 中對應插件的 version\n\n請確保你修改的版本號，你所使用的 cdn 有**收錄**\n\n### custom_format\n\n提供以下參數\n\n| 參數           | 解釋                               |\n| -------------- | ---------------------------------- |\n| name           | npm 上的包名                       |\n| file           | npm 上的文件路徑                   |\n| min_file       | npm 上的文件路徑（壓縮過的文件）   |\n| cdnjs_name     | cdnjs 上的包名                     |\n| cdnjs_file     | cdnjs 上的文件路徑                 |\n| min_cdnjs_file | cdnjs 上的文件路徑（壓縮過的文件） |\n| version        | 插件版本號                         |\n\n部分可用的第三方 CDN 列表\n\n{% note info %}\n請確保你選擇的 CDN 有收錄主題使用的第三方插件\n{% endnote %}\n\n| 提供商                                              | 格式                                                                                                                                                         | 備註       |\n| --------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |\n| [Staticfile（七牛雲）](https://www.staticfile.org/) | https://cdn.staticfile.org/${cdnjs_name}/${version}/${min_cdnjs_file}                                                                                        | 同步 cdnjs |\n| [BootCDN](https://www.bootcdn.cn/)                  | https://cdn.bootcdn.net/ajax/libs/${cdnjs_name}/${version}/${min_cdnjs_file}                                                                                 | 同步 cdnjs |\n| Elemecdn                                            | 最新版本： https://npm.elemecdn.com/${name}@latest/${file}<br />指定版本： https://npm.elemecdn.com/${name}@${version}/${file}                               | 同步 npm   |\n\n{% btn '/posts/d9078dbf/',⚔️ Butterfly-文檔-四-標簽外掛,far fa-hand-point-right,block red right larger %}\n","tags":["教程","Hexo","主題","butterfly"],"categories":["Docs文檔"]},{"title":"Butterfly 文檔(二) 主題頁面","url":"/article/6b50bc45.html","content":"\n{% note green 'fas fa-rocket' %}\n\n📚 文檔目錄\n\n{% post_link 主题/Butterfly-文檔-一-快速開始 ' 🚀 快速開始' %} - {% post_link 主题/Butterfly-文檔-二-主題頁面 ' 📑 主題頁面' %} - {% post_link 主题/Butterfly-文檔-三-主題配置 ' 📌 主題配置' %} - {% post_link 主题/Butterfly-文檔-四-標簽外掛 ' ⚔️ 標簽外挂' %} - {% post_link 主题/Butterfly-文檔-五-主題問答 ' ❓ 主題問答' %} - {% post_link 主题/Butterfly-文檔-六-進階教程 ' ⚡️ 進階教程' %}\n\n{% endnote %}\n\n{% note orange 'fas fa-magic' %}\n\n你可以通過右下角的 **簡** 按鈕切換為簡體顯示\n\n{% endnote %}\n\n---\n\n## Front-matter\n\n**Front-matter 是 markdown 文件最上方以 `---` 分隔的區域，用於指定個別檔案的變數。**\n\n- Page Front-matter 用於 `頁面` 配置\n- Post Front-matter 用於 `文章頁` 配置\n\n{% note info %}\n\n如果標注`可選`的參數，可根據自己需要添加，不用全部都寫在 markdown 裏\n\n{% endnote %}\n\n### Page Front-matter\n\n```markdown\n---\ntitle:\ndate:\nupdated:\ntype:\ncomments:\ndescription:\nkeywords:\ntop_img:\nmathjax:\nkatex:\naside:\naplayer:\nhighlight_shrink:\nrandom:\n---\n```\n\n| 參數             | 解釋                                                                                |\n| ---------------- | ----------------------------------------------------------------------------------- |\n| title            | 【必需】頁面標題                                                                    |\n| date             | 【必需】頁面創建日期                                                                |\n| type             | 【必需】標籤、分類和友情鏈接三個頁面需要配置                                        |\n| updated          | 【可選】頁面更新日期                                                                |\n| description      | 【可選】頁面描述                                                                    |\n| keywords         | 【可選】頁面關鍵字                                                                  |\n| comments         | 【可選】顯示頁面評論模塊 (默認 true)                                                |\n| top_img          | 【可選】頁面頂部圖片                                                                |\n| mathjax          | 【可選】顯示 mathjax (當設置 mathjax 的 per_page: false 時，才需要配置，默認 false) |\n| katex            | 【可選】顯示 katex (當設置 katex 的 per_page: false 時，才需要配置，默認 false)     |\n| aside            | 【可選】顯示側邊欄 (默認 true)                                                      |\n| aplayer          | 【可選】在需要的頁面加載 aplayer 的 js 和 css,請參考文章下面的`音樂` 配置           |\n| highlight_shrink | 【可選】配置代碼框是否展開 (true/false) (默認為設置中 highlight_shrink 的配置)      |\n| random           | 【可選】配置友情鏈接是否隨機排序（默認為 false）                                     |\n\n### Post Front-matter\n\n```markdown\n---\ntitle:\ndate:\nupdated:\ntags:\ncategories:\nkeywords:\ndescription:\ntop_img:\ncomments:\ncover:\ntoc:\ntoc_number:\ntoc_style_simple:\ncopyright:\ncopyright_author:\ncopyright_author_href:\ncopyright_url:\ncopyright_info:\nmathjax:\nkatex:\naplayer:\nhighlight_shrink:\naside:\nabcjs:\n---\n```\n\n| 寫法                  | 解釋                                                                                        |\n| :-------------------- | ------------------------------------------------------------------------------------------- |\n| title                 | 【必需】文章標題                                                                            |\n| date                  | 【必需】文章創建日期                                                                        |\n| updated               | 【可選】文章更新日期                                                                        |\n| tags                  | 【可選】文章標籤                                                                            |\n| categories            | 【可選】文章分類                                                                            |\n| keywords              | 【可選】文章關鍵字                                                                          |\n| description           | 【可選】文章描述                                                                            |\n| top_img               | 【可選】文章頂部圖片                                                                        |\n| cover                 | 【可選】文章縮略圖(如果沒有設置 top_img,文章頁頂部將顯示縮略圖，可設為 false/圖片地址/留空) |\n| comments              | 【可選】顯示文章評論模塊(默認 true)                                                         |\n| toc                   | 【可選】顯示文章 TOC(默認為設置中 toc 的 enable 配置)                                       |\n| toc_number            | 【可選】顯示 toc_number(默認為設置中 toc 的 number 配置)                                    |\n| toc_style_simple      | 【可選】顯示 toc 簡潔模式                                                                   |\n| copyright             | 【可選】顯示文章版權模塊(默認為設置中 post_copyright 的 enable 配置)                        |\n| copyright_author      | 【可選】文章版權模塊的`文章作者`                                                            |\n| copyright_author_href | 【可選】文章版權模塊的`文章作者`鏈接                                                        |\n| copyright_url         | 【可選】文章版權模塊的`文章連結`鏈接                                                        |\n| copyright_info        | 【可選】文章版權模塊的`版權聲明`文字                                                        |\n| mathjax               | 【可選】顯示 mathjax(當設置 mathjax 的 per_page: false 時，才需要配置，默認 false )         |\n| katex                 | 【可選】顯示 katex (當設置 katex 的 per_page: false 時，才需要配置，默認 false )            |\n| aplayer               | 【可選】在需要的頁面加載 aplayer 的 js 和 css,請參考文章下面的`音樂` 配置                   |\n| highlight_shrink      | 【可選】配置代碼框是否展開(true/false)(默認為設置中 highlight_shrink 的配置)                |\n| aside                 | 【可選】顯示側邊欄 (默認 true)                                                              |\n| abcjs                 | 【可選】加載 abcjs (當設置 abcjs 的 per_page: false 時，才需要配置，默認 false )            |\n\n## 標籤頁\n\n{% note info %}\n標籤頁文件名不一定是 tags, 例子中的 tags 只是一個示例\n記得添加 `type: \"tags\"`\n{% endnote %}\n\n1. 前往你的 Hexo 的根目錄\n\n2. 輸入 `hexo new page tags`\n\n3. 你會找到 `source/tags/index.md` 這個文件\n\n4. 修改這個文件：\n\n```markdown\n---\ntitle: 標籤\ndate: 2018-01-05 00:00:00\ntype: 'tags'\norderby: random\norder: 1\n---\n```\n\n| 參數    | 解釋                                                                                    |\n| ------- | --------------------------------------------------------------------------------------- |\n| type    | 【必須】頁面類型，必須為 `tags`                                                         |\n| orderby | 【可選】排序方式 ：</br>random - 隨機排序 / name - 標簽名字排序 / length - 標簽數量排序 |\n| order   | 【可選】排序次序： 1（升序），-1（降序）                                                |\n\n## 分類頁\n\n{% note info %}\n分類頁文件名不一定是 categories, 例子中的 categories 只是一個示例\n記得添加 `type: \"categories\"`\n{% endnote %}\n\n1. 前往你的 Hexo 的根目錄\n\n2. 輸入 `hexo new page categories`\n\n3. 你會找到 `source/categories/index.md` 這個文件\n\n4. 修改這個文件：\n\n```markdown\n---\ntitle: 分類\ndate: 2018-01-05 00:00:00\ntype: 'categories'\n---\n```\n\n## 友情鏈接\n\n為你的博客創建一個友情鏈接！\n\n### 創建友情鏈接頁面\n\n{% note info %}\n友情鏈接頁文件名不一定是 link, 例子中的 link 只是一個示例\n記得添加 `type: \"link\"`\n{% endnote %}\n\n1. 前往你的 Hexo 的根目錄\n\n2. 輸入 `hexo new page link`\n\n3. 你會找到 `source/link/index.md` 這個文件\n\n4. 修改這個文件：\n\n```markdown\n---\ntitle: 友情鏈接\ndate: 2018-06-07 22:17:49\ntype: 'link'\n---\n```\n\n### 數據來源\n\n{% tabs flink-add %}\n\n<!-- tab 本地生成 -->\n\n在 Hexo 根目錄中的 `source/_data`（如果沒有 \\_data 文件夾，請自行創建），創建一個文件 `link.yml`\n\n```yml\n- class_name: 友情鏈接\n  class_desc: 那些人，那些事\n  link_list:\n    - name: Hexo\n      link: https://hexo.io/zh-tw/\n      avatar: https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg\n      descr: 快速、簡單且強大的網誌框架\n\n- class_name: 網站\n  class_desc: 值得推薦的網站\n  link_list:\n    - name: Youtube\n      link: https://www.youtube.com/\n      avatar: https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png\n      descr: 視頻網站\n    - name: Weibo\n      link: https://www.weibo.com/\n      avatar: https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png\n      descr: 中國最大社交分享平台\n    - name: Twitter\n      link: https://twitter.com/\n      avatar: https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png\n      descr: 社交分享平台\n```\n\n`class_name` 和 `class_desc` 支持 html 格式書寫，如不需要，也可以留空。\n\n<!-- endtab -->\n\n<!-- tab 遠程拉取 -->\n\n從 `4.0.0` 開始，支持從遠程加載友情鏈接，遠程拉取只支持 `json`。\n\n{% note warning %}\n注意： 選擇遠程加載後，本地生成的方法會無效。\n{% endnote %}\n\n在 `source/link/index.md` 這個文件的 front-matter 添加遠程鏈接\n\n```markdown\nflink_url: xxxxx\n```\n\nJson 的格式\n\n```json\n[\n  {\n    \"class_name\": \"友情鏈接\",\n    \"class_desc\": \"那些人，那些事\",\n    \"link_list\": [\n      {\n        \"name\": \"Hexo\",\n        \"link\": \"https://hexo.io/zh-tw/\",\n        \"avatar\": \"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg\",\n        \"descr\": \"快速、簡單且強大的網誌框架\"\n      }\n    ]\n  },\n  {\n    \"class_name\": \"網站\",\n    \"class_desc\": \"值得推薦的網站\",\n    \"link_list\": [\n      {\n        \"name\": \"Youtube\",\n        \"link\": \"https://www.youtube.com/\",\n        \"avatar\": \"https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png\",\n        \"descr\": \"視頻網站\"\n      },\n      {\n        \"name\": \"Weibo\",\n        \"link\": \"https://www.weibo.com/\",\n        \"avatar\": \"https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png\",\n        \"descr\": \"中國最大社交分享平台\"\n      },\n      {\n        \"name\": \"Twitter\",\n        \"link\": \"https://twitter.com/\",\n        \"avatar\": \"https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png\",\n        \"descr\": \"社交分享平台\"\n      }\n    ]\n  }\n]\n```\n\n<!-- endtab -->\n\n{% endtabs %}\n\n### 友情鏈接隨機排序\n\n主題支持友情鏈接隨機排序，只需要在頂部 `front-matter` 添加 `random: true`\n\n### 友情鏈接界面設置\n\n由 2.2.0 起，友情鏈接界面可以由用户自己自定義，只需要在友情鏈接的 Markdown 檔設置就行，以普通的 Markdown 格式書寫。\n\n## 圖庫\n\n圖庫頁面只是普通的頁面，你只需要 `hexo n page xxxxx` 創建你的頁面就行\n\n然後使用標簽外掛 [galleryGroup](/posts/ceeb73f/#Gallery-相冊圖庫)，具體用法請查看對應的內容。\n\n```yaml\n<div class=\"gallery-group-main\">\n{% galleryGroup '壁紙' '收藏的一些壁紙' '/Gallery/wallpaper' https://i.loli.net/2019/11/10/T7Mu8Aod3egmC4Q.png %}\n{% galleryGroup '漫威' '關於漫威的圖片' '/Gallery/marvel' https://i.loli.net/2019/12/25/8t97aVlp4hgyBGu.jpg %}\n{% galleryGroup 'OH MY GIRL' '關於OH MY GIRL的圖片' '/Gallery/ohmygirl' https://i.loli.net/2019/12/25/hOqbQ3BIwa6KWpo.jpg %}\n</div>\n```\n\n<div class=\"gallery-group-main\">\n{% galleryGroup '壁紙' '收藏的一些壁紙' '/Gallery/wallpaper' https://i.loli.net/2019/11/10/T7Mu8Aod3egmC4Q.png %}\n{% galleryGroup '漫威' '關於漫威的圖片' '/Gallery/marvel' https://i.loli.net/2019/12/25/8t97aVlp4hgyBGu.jpg %}\n{% galleryGroup 'OH MY GIRL' '關於OH MY GIRL的圖片' '/Gallery/ohmygirl' https://i.loli.net/2019/12/25/hOqbQ3BIwa6KWpo.jpg %}\n</div>\n\n### 子頁面\n\n子頁面也是普通的頁面，你只需要 `hexo n page xxxxx` 創建你的頁面就行\n\n然後使用標簽外掛 [gallery](/posts/ceeb73f/#Gallery%E7%9B%B8%E5%86%8A)，具體用法請查看對應的內容。\n\n```yaml\n{% gallery %}\n![](https://i.loli.net/2019/12/25/Fze9jchtnyJXMHN.jpg)\n![](https://i.loli.net/2019/12/25/ryLVePaqkYm4TEK.jpg)\n![](https://i.loli.net/2019/12/25/gEy5Zc1Ai6VuO4N.jpg)\n![](https://i.loli.net/2019/12/25/d6QHbytlSYO4FBG.jpg)\n![](https://i.loli.net/2019/12/25/6nepIJ1xTgufatZ.jpg)\n![](https://i.loli.net/2019/12/25/E7Jvr4eIPwUNmzq.jpg)\n![](https://i.loli.net/2019/12/25/mh19anwBSWIkGlH.jpg)\n![](https://i.loli.net/2019/12/25/2tu9JC8ewpBFagv.jpg)\n{% endgallery %}\n```\n\n{% gallery %}\n![](https://i.loli.net/2019/12/25/Fze9jchtnyJXMHN.jpg)\n![](https://i.loli.net/2019/12/25/ryLVePaqkYm4TEK.jpg)\n![](https://i.loli.net/2019/12/25/gEy5Zc1Ai6VuO4N.jpg)\n![](https://i.loli.net/2019/12/25/d6QHbytlSYO4FBG.jpg)\n![](https://i.loli.net/2019/12/25/6nepIJ1xTgufatZ.jpg)\n![](https://i.loli.net/2019/12/25/E7Jvr4eIPwUNmzq.jpg)\n![](https://i.loli.net/2019/12/25/mh19anwBSWIkGlH.jpg)\n![](https://i.loli.net/2019/12/25/2tu9JC8ewpBFagv.jpg)\n{% endgallery %}\n\n{% note pink 'fas fa-sitemap' %}\n\n如果你想要使用 `/photo/ohmygirl` 這樣的鏈接顯示你的圖片內容\n\n你可以把創建好的 `ohmygirl` 整個文件夾移到 `photo` 文件夾裏去\n\n{% endnote %}\n\n## 404 頁面\n\n主題內置了一個簡單的 404 頁面，可在設置中開啟\n\n{% note info %}\n\n本地預覽時，訪問出錯的網站是不會跳到 404 頁面的。\n\n如需本地預覽，請訪問 `http://localhost:4000/404.html`\n\n{% endnote %}\n\n```yaml\n# A simple 404 page\nerror_404:\n  enable: true\n  subtitle: '頁面沒有找到'\n  background:\n```\n\n![hexo-theme-butterfly-docs-error404.png](https://oss.012700.xyz/butterfly/2024/09/hexo-theme-butterfly-docs-error404.png)\n\n## 説説頁面\n\n{% note pink 'fa-solid fa-bell' %}\n添加于 V5.0\n{% endnote %}\n\n**請留意，説説界面只支持原生的 markdown 格式，不支持標簽外挂和數學公式**\n\n### 創建説説頁面\n\n{% note info %}\n\n説説頁文件名不一定是 shuoshuo, 例子中的 shuoshuo 只是一個示例\n記得添加 `type: \"shuoshuo\"`\n\n{% endnote %}\n\n1. 前往你的 Hexo 的根目錄\n\n2. 輸入 `hexo new page shuoshuo`\n\n3. 你會找到 `source/shuoshuo/index.md` 這個文件\n\n4. 修改這個文件：\n\n```markdown\n---\ntitle: 説説\ndate: 2018-06-07 22:17:49\ntype: 'shuoshuo'\n---\n```\n\n### 數據來源\n\n{% tabs shuoshuo-add %}\n\n<!-- tab 本地生成 -->\n\n在 Hexo 根目錄中的 `source/_data`（如果沒有 \\_data 文件夾，請自行創建），創建一個文件 shuoshuo.yml\n\n{% note blue 'fa-solid fa-user' %}\n`author` 和 `avatar`可省略，會自動去獲取配置文件中的 `author` 和 `avatar`\n{% endnote %}\n\n```yaml\n- author: Butterfly\n  avatar: https://butterfly.js.org/img/avatar.png\n  date: 2024-06-21 23:33:26\n  content: |\n    This is a sample content for **Author 1**.\n    ![Sample Image](https://via.placeholder.com/150)\n  tags:\n    - tags1\n    - tags2\n- author: Butterfly\n  avatar: https://butterfly.js.org/img/avatar.png\n  date: 2024-06-20 23:33:26\n  content: |\n    This is a sample content for **Author 2**.\n    ![Sample Image](https://via.placeholder.com/150)\n  tags:\n    - tag2\n    - tag3\n\n- author: Butterfly\n  avatar: https://butterfly.js.org/img/avatar.png\n  date: 2024-06-19 23:33:26\n  content: |\n    This is a sample content for **Author 3**.\n```\n\n| 參數    | 解釋                                       |\n| ------- | ------------------------------------------ |\n| author  | 【可選】作者名稱                           |\n| avatar  | 【可選】作者頭像                           |\n| date    | 【必需】日期                               |\n| content | 【必需】內容（ Markdown 格式或者 Html 格式 |\n| tags    | 【可選】標籤                               |\n\n<!-- endtab -->\n\n<!-- tab 遠程拉取 -->\n\n{% note warning %}\n注意： 選擇遠程加載後，本地生成的方法會無效。\n遠程拉取只支持 `json`\n{% endnote %}\n\n在説説頁面 Markdown 裏的 front-matter 添加遠程鏈接\n\n```markdown\nshuoshuo_url: xxxxx\n```\n\nJson 的格式：\n\n{% note blue 'fa-solid fa-user' %}\n`author` 和 `avatar`可省略，會自動去獲取配置文件中的 `author` 和 `avatar`\n{% endnote %}\n\n```json\n[\n  {\n    \"author\": \"Butterfly\",\n    \"avatar\": \"https://butterfly.js.org/img/avatar.png\",\n    \"date\": \"2024-06-21 23:33:26\",\n    \"content\": \"This is a sample content for **Author 1**.\",\n    \"tags\": [\"tags1\", \"tags2\"]\n  },\n  {\n    \"author\": \"Butterfly\",\n    \"avatar\": \"https://butterfly.js.org/img/avatar.png\",\n    \"date\": \"2024-06-20 23:33:26\",\n    \"content\": \"This is a sample content for **Author 2**.\",\n    \"tags\": [\"tag2\", \"tag3\"]\n  },\n  {\n    \"author\": \"Butterfly\",\n    \"avatar\": \"https://butterfly.js.org/img/avatar.png\",\n    \"date\": \"2024-06-19 23:33:26\",\n    \"content\": \"This is a sample content for **Author 3**.\"\n  }\n]\n```\n\n| 參數    | 解釋                                       |\n| ------- | ------------------------------------------ |\n| author  | 【可選】作者名稱                           |\n| avatar  | 【可選】作者頭像                           |\n| date    | 【必需】日期                               |\n| content | 【必需】內容（ Markdown 格式或者 Html 格式 |\n| tags    | 【可選】標籤                               |\n\n<!-- endtab -->\n\n{% endtabs %}\n\n{% btn '/posts/a2c7de2/',📌 Butterfly 文檔(三) 主題配置,far fa-hand-point-right,block pink right larger %}\n","tags":["教程","Hexo","主題","butterfly"],"categories":["Docs文檔"]},{"title":"Butterfly 文檔(一) 快速開始","url":"/article/70021e6e.html","content":"\n{% note green 'fas fa-rocket' %}\n\n📚 文檔目錄\n\n{% post_link 主题/Butterfly-文檔-一-快速開始 ' 🚀 快速開始' %} - {% post_link 主题/Butterfly-文檔-二-主題頁面 ' 📑 主題頁面' %} - {% post_link 主题/Butterfly-文檔-三-主題配置 ' 📌 主題配置' %} - {% post_link 主题/Butterfly-文檔-四-標簽外掛 ' ⚔️ 標簽外挂' %} - {% post_link 主题/Butterfly-文檔-五-主題問答 ' ❓ 主題問答' %} - {% post_link 主题/Butterfly-文檔-六-進階教程 ' ⚡️ 進階教程' %}\n\n{% endnote %}\n\n{% note orange 'fas fa-magic' %}\n\n你可以通過右下角的 **簡** 按鈕切換為簡體顯示\n\n{% endnote %}\n\n---\n\n`hexo-theme-butterfly` 是基於 [hexo-theme-melody](https://github.com/Molunerfinn/hexo-theme-melody) 的基礎上進行開發的主题。\n\n## 安裝\n\n{% tabs butterfly-install %}\n\n<!-- tab Git 安裝 @fab fa-github-square -->\n\n{% hideToggle 如果你身處中國大陸，且訪問 Github 不穩定，你可以用 Gitee 安裝 %}\n\n**穩定版【建議】**\n\n在你的 Hexo 根目錄下\n\n```powershell\ngit clone -b master https://gitee.com/immyw/hexo-theme-butterfly.git themes/butterfly\n```\n\n**測試版**\n\n{% note warning %}\n測試版可能存在 Bugs，追求穩定的請安裝穩定版\n{% endnote %}\n\n如果想要安裝比較新的 dev 分支，可以\n\n```powershell\ngit clone -b dev https://gitee.com/immyw/hexo-theme-butterfly.git themes/butterfly\n```\n\n{% note info %}\n\n升級方法：在主題目錄下，運行 `git pull`\n\n{% endnote %}\n{% endhideToggle %}\n\n**穩定版【建議】**\n\n在你的 Hexo 根目錄裏\n\n```powershell\ngit clone -b master https://github.com/jerryc127/hexo-theme-butterfly.git themes/butterfly\n```\n\n**測試版**\n\n{% note warning %}\n測試版可能存在 Bugs，追求穩定的請安裝穩定版\n{% endnote %}\n\n如果想要安裝比較新的 dev 分支，可以\n\n```powershell\ngit clone -b dev https://github.com/jerryc127/hexo-theme-butterfly.git themes/butterfly\n```\n\n{% note blue 'fas fa-bullhorn' %}\n\n升級方法：在主題目錄下，運行 `git pull`\n\n{% endnote %}\n\n<!-- endtab -->\n\n<!-- tab npm 安裝@fab fa-npm -->\n\n{% note info %}\n此方法只支持 Hexo 5.0.0 以上版本\n\n**_通過 npm 安裝並不會在 themes 裏生成主題文件夾，而是在 node_modules 裏生成_**\n{% endnote %}\n\n在你的 Hexo 根目錄裏\n\n```powershell\nnpm install hexo-theme-butterfly\n```\n\n{% note blue 'fas fa-bullhorn' %}\n\n升級方法：在 Hexo 根目錄下，運行 `npm update hexo-theme-butterfly`\n\n{% endnote %}\n\n<!-- endtab -->\n\n{% endtabs %}\n\n## 應用主題\n\n修改 Hexo 根目錄下的 `_config.yml`，把主題改為 `butterfly`\n\n```yaml\ntheme: butterfly\n```\n\n## 安裝插件\n\n如果你沒有 pug 以及 stylus 的渲染器，請下載安裝：\n\n```powershell\nnpm install hexo-renderer-pug hexo-renderer-stylus --save\n```\n\n## 升級建議\n\n{% note blue 'fas fa-train' %}\n\n升級完成後，請到 Github 的 [Releases](https://github.com/jerryc127/hexo-theme-butterfly/releases) 界面查看新版的更新內容。\n\n裏面有標注 `_config` 文件的變更內容（如有），請根據實際情況更新你的配置內容。\n\n{% endnote %}\n\n為了減少升級主題後帶來的不便，請使用以下方法（**建議，可以不做**）：\n\n在 hexo 的根目錄創建一個文件 `_config.butterfly.yml`，並把**主題**目錄的 `_config.yml` **內容**複製到 `_config.butterfly.yml` 去。\n\n{% note orange 'fa-solid fa-star' %}\n **注意:** \n  \n  複製的是主題的 `_config.yml` ，而不是 hexo 的 `_config.yml`\n\n  不要把主題目錄的 `_config.yml` 刪掉\n\n  以後只需要在 `_config.butterfly.yml` 進行配置就行。如果使用了 `_config.butterfly.yml`， 配置主題的 `_config.yml` 將不會有效果。\n\n{% endnote %}\nHexo 會自動**合併**主題中的 `_config.yml` 和 `_config.butterfly.yml` 裏的配置，如果存在同名配置，會使用 `_config.butterfly.yml` 的配置，其優先度較高。\n\n![butterfly-docs-install-suggestion-1.png](https://oss.012700.xyz/butterfly/2024/08/butterfly-docs-install-suggestion-1.png)\n\n{% btn '/posts/6b50bc45/',📑 Butterfly 文檔(二) 主題頁面,far fa-hand-point-right,block right larger %}\n","tags":["教程","Hexo","主題","butterfly"],"categories":["Docs文檔"]},{"title":"標籤外掛(Tag Plugins)","url":"/article/2df239ce.html","content":"\n## Tabs\n\n{% tabs Tags %}\n\n<!-- tab 出師表 -->\n\n臣亮言：先帝創業未半而中道崩殂，今天下三分，益州疲弊，此誠危急存亡之秋也。然侍衞之臣不懈於內，忠志之士忘身於外者，蓋追先帝之殊遇，欲報之於陛下也。誠宜開張聖聽，以光先帝遺德，恢弘志士之氣，不宜妄自菲薄，引喻失義，以塞忠諫之路也。\n宮中府中，俱為一體；陟罰臧否，不宜異同：若有作奸犯科及為忠善者，宜付有司論其刑賞，以昭陛下平明之理；不宜偏私，使內外異法也。\n侍中、侍郎郭攸之、費禕、董允等，此皆良實，志慮忠純，是以先帝簡拔以遺陛下：愚以為宮中之事，事無大小，悉以諮之，然後施行，必能裨補闕漏，有所廣益。\n將軍向寵，性行淑均，曉暢軍事，試用於昔日，先帝稱之曰“能”，是以眾議舉寵為督：愚以為營中之事，悉以諮之，必能使行陣和睦，優劣得所。\n親賢臣，遠小人，此先漢所以興隆也；親小人，遠賢臣，此後漢所以傾頹也。先帝在時，每與臣論此事，未嘗不歎息痛恨於桓、靈也。侍中、尚書、長史、參軍，此悉貞良死節之臣，願陛下親之、信之，則漢室之隆，可計日而待也。\n臣本布衣，躬耕於南陽，苟全性命於亂世，不求聞達於諸侯。先帝不以臣卑鄙，猥自枉屈，三顧臣於草廬之中，諮臣以當世之事，由是感激，遂許先帝以驅馳。後值傾覆，受任於敗軍之際，奉命於危難之間：爾來二十有一年矣。\n先帝知臣謹慎，故臨崩寄臣以大事也。受命以來，夙夜憂歎，恐託付不效，以傷先帝之明；故五月渡瀘，深入不毛。今南方已定，兵甲已足，當獎率三軍，北定中原，庶竭駑鈍，攘除奸兇，興復漢室，還於舊都。此臣所以報先帝而忠陛下之職分也。至於斟酌損益，進盡忠言，則攸之、禕、允之任也。\n願陛下託臣以討賊興復之效，不效，則治臣之罪，以告先帝之靈。若無興德之言，則責攸之、禕、允等之慢，以彰其咎；陛下亦宜自謀，以諮諏善道，察納雅言，深追先帝遺詔。臣不勝受恩感激。\n今當遠離，臨表涕零，不知所言。\n\n<!-- endtab -->\n\n<!-- tab 圖庫 -->\n\n{% gallery %}\n![](https://i.loli.net/2019/12/25/Jj8FXuKVlOea4Ec.jpg)\n![](https://i.loli.net/2019/12/25/eqBGrXx9tWsZOao.jpg)\n![](https://i.loli.net/2019/12/25/LjW2CfNSD7OaY4v.jpg)\n![](https://i.loli.net/2019/12/25/pGIhaPjxtl438U9.jpg)\n![](https://i.loli.net/2019/12/25/hzjJBR2x5SEmsbC.jpg)\n![](https://i.loli.net/2019/12/25/ucNDmUqQkrFfAWv.jpg)\n![](https://i.loli.net/2019/12/25/oj1wAnGSKtFvXIJ.jpg)\n{% endgallery %}\n\n<!-- endtab -->\n\n<!-- tab 李白 -->\n\n李白（701 年 5 月 19 日－762 年 11 月 30 日），字太白，號青蓮居士，中國唐朝詩人，自言祖籍隴西成紀（今甘肅省天水市秦安縣），先世西涼武昭王李暠之後，與李唐皇室同宗。幼時內遷，寄籍劍南道綿州（今四川省江油市青蓮鎮）。另外，郭沫若研究認為李白出生於吉爾吉斯碎葉河上的碎葉城，屬唐安西都護府（今楚河州托克馬克市），該説有一定影響。有「詩仙」、「詩俠」、「酒仙」、「謫仙人」等稱呼，活躍於盛唐，為傑出的浪漫主義詩人。與杜甫合稱「李杜」。被賀知章驚呼為「天上謫仙」。\n\n{% subtabs 李白詩集 %}\n\n<!-- tab 行路難-->\n\n金樽清酒鬥十千，玉盤珍羞值萬錢。\n停杯投箸不能食，拔劍四顧心茫然。\n欲渡黃河冰塞川，將登太行雪暗天。\n閒來垂釣碧溪上，忽復乘舟夢日邊。\n行路難，行路難，多歧路，今安在？\n長風破浪會有時，直掛雲帆濟滄海。\n大道如青天，我獨不得出。\n羞逐長安社中兒，赤雞白狗賭梨慄。\n彈劍作歌奏苦聲，曳裾王門不稱情。\n淮陰市井笑韓信，漢朝公卿忌賈生。\n君不見昔時燕家重郭隗，擁篲折節無嫌猜。\n劇辛樂毅感恩分，輸肝剖膽效英才。\n昭王白骨縈蔓草，誰人更掃黃金台？\n行路難，歸去來！\n有耳莫洗潁川水，有口莫食首陽蕨。\n含光混世貴無名，何用孤高比雲月？\n吾觀自古賢達人，功成不退皆殞身。\n子胥既棄吳江上，屈原終投湘水濱。\n陸機雄才豈自保，李斯税駕苦不早。\n華亭鶴唳詎可聞，上蔡蒼鷹何足道。\n君不見吳中張翰稱達生，秋風忽憶江東行。\n且樂生前一杯酒，何須身後千載名！\n\n<!-- endtab -->\n\n<!-- tab 將進酒 -->\n\n君不見，黃河之水天上來，\n奔流到海不復回？\n君不見，高堂明鏡悲白髮，\n朝如青絲暮成雪？\n人生得意須盡歡，\n莫使金樽空對月。\n天生我材必有用，\n千金散盡還復來。\n烹羊宰牛且為樂，\n會須一飲三百杯。\n岑夫子，丹丘生，\n將進酒，君莫停。\n與君歌一曲，\n請君為我側耳聽：\n鐘鼓饌玉不足貴，\n但願長醉不願醒。\n古來聖賢皆寂寞，\n惟有飲者留其名。\n陳王昔時宴平樂，\n斗酒十千恣歡謔。\n主人何為言小錢？\n徑須沽取對君酌。\n五花馬，千金裘。\n呼兒將出換美酒，\n與爾同銷萬古愁。\n\n<!-- endtab -->\n\n<!-- tab 清平調 -->\n\n《清平調詞三首》是唐代大詩人李白的組詩作品，共三首七言樂府詩。第一首從空間角度寫，以牡丹花比楊貴妃的美豔；第二首從時間角度寫，表現楊貴妃的受寵幸；第三首總承一、二兩首，把牡丹和楊貴妃與君王糅合，融為一體。全詩構思精巧，辭藻豔麗，將花與人渾融在一起寫，描繪出人花交映、迷離恍惚的景象，顯示了詩人高超的藝術功力。\n\n{% subtabs 清平調 %}\n\n<!-- tab 清平調(一) -->\n\n雲想衣裳花想容，春風拂檻露華濃；\n\n若非羣玉山頭見，會向瑤台月下逢。\n\n<!-- endtab -->\n\n<!-- tab 清平調(二) -->\n\n一枝紅豔露凝香，雲雨巫山空斷腸。\n\n借問漢宮誰得似？可憐飛燕倚新粧。\n\n<!-- endtab -->\n\n<!-- tab 清平調(三) -->\n\n名花傾國兩相歡，常得君王帶笑看。\n\n解識春風無限恨，沉香亨北倚闌千。\n\n<!-- endtab -->\n\n{% endsubtabs %}\n\n<!-- endtab -->\n\n{% endsubtabs %}\n\n<!-- endtab -->\n\n{% endtabs %}\n\n## Button\n\n### Inline\n\n```markdown\nThis is my website, click the button {% btn 'https://butterfly.js.org',Butterfly %}\nThis is my website, click the button {% btn 'https://butterfly.js.org',Butterfly,,outline%}\n```\n\nThis is my website, click the button {% btn 'https://butterfly.js.org',Butterfly %}\n\nThis is my website, click the button {% btn 'https://butterfly.js.org',Butterfly,,outline%}\n\n### Block\n\n```markdown\nThis is my website, click the button {% btn 'https://butterfly.js.org',Butterfly,far fa-hand-point-right,block larger %}\nThis is my website, click the button {% btn 'https://butterfly.js.org',Butterfly,far fa-hand-point-right,block center larger %}\nThis is my website, click the button {% btn 'https://butterfly.js.org',Butterfly,far fa-hand-point-right,block right blue larger %}\n```\n\n{% btn 'https://butterfly.js.org',Butterfly,far fa-hand-point-right,block larger %}\n{% btn 'https://butterfly.js.org',Butterfly,far fa-hand-point-right,block center larger %}\n{% btn 'https://butterfly.js.org',Butterfly,far fa-hand-point-right,block right blue larger %}\n\n### option\n\n> more than one button in center\n\n```markdown\n<div class=\"btn-center\">\n{% btn 'https://butterfly.js.org',Butterfly,far fa-hand-point-right,larger %}\n{% btn 'https://butterfly.js.org',Butterfly,far fa-hand-point-right,blue larger %}\n{% btn 'https://butterfly.js.org',Butterfly,far fa-hand-point-right,pink larger %}\n{% btn 'https://butterfly.js.org',Butterfly,far fa-hand-point-right,red larger %}\n{% btn 'https://butterfly.js.org',Butterfly,far fa-hand-point-right,purple larger %}\n{% btn 'https://butterfly.js.org',Butterfly,far fa-hand-point-right,orange larger %}\n{% btn 'https://butterfly.js.org',Butterfly,far fa-hand-point-right,green larger %}\n</div>\n```\n\n<div class=\"btn-center\">\n{% btn 'https://butterfly.js.org',Butterfly,far fa-hand-point-right,larger %}\n{% btn 'https://butterfly.js.org',Butterfly,far fa-hand-point-right,blue larger %}\n{% btn 'https://butterfly.js.org',Butterfly,far fa-hand-point-right,pink larger %}\n{% btn 'https://butterfly.js.org',Butterfly,far fa-hand-point-right,red larger %}\n{% btn 'https://butterfly.js.org',Butterfly,far fa-hand-point-right,purple larger %}\n{% btn 'https://butterfly.js.org',Butterfly,far fa-hand-point-right,orange larger %}\n{% btn 'https://butterfly.js.org',Butterfly,far fa-hand-point-right,green larger %}\n</div>\n\n```markdown\n<div class=\"btn-center\">\n{% btn 'https://butterfly.js.org',Butterfly,far fa-hand-point-right,outline larger %}\n{% btn 'https://butterfly.js.org',Butterfly,far fa-hand-point-right,outline blue larger %}\n{% btn 'https://butterfly.js.org',Butterfly,far fa-hand-point-right,outline pink larger %}\n{% btn 'https://butterfly.js.org',Butterfly,far fa-hand-point-right,outline red larger %}\n{% btn 'https://butterfly.js.org',Butterfly,far fa-hand-point-right,outline purple larger %}\n{% btn 'https://butterfly.js.org',Butterfly,far fa-hand-point-right,outline orange larger %}\n{% btn 'https://butterfly.js.org',Butterfly,far fa-hand-point-right,outline green larger %}\n</div>\n```\n\n<div class=\"btn-center\">\n{% btn 'https://butterfly.js.org',Butterfly,far fa-hand-point-right,outline larger %}\n{% btn 'https://butterfly.js.org',Butterfly,far fa-hand-point-right,outline blue larger %}\n{% btn 'https://butterfly.js.org',Butterfly,far fa-hand-point-right,outline pink larger %}\n{% btn 'https://butterfly.js.org',Butterfly,far fa-hand-point-right,outline red larger %}\n{% btn 'https://butterfly.js.org',Butterfly,far fa-hand-point-right,outline purple larger %}\n{% btn 'https://butterfly.js.org',Butterfly,far fa-hand-point-right,outline orange larger %}\n{% btn 'https://butterfly.js.org',Butterfly,far fa-hand-point-right,outline green larger %}\n</div>\n\n## mermaid\n\n{% mermaid %}\npie\ntitle Key elements in Product X\n\"Calcium\" : 42.96\n\"Potassium\" : 50.05\n\"Magnesium\" : 10.01\n\"Iron\" : 5\n{% endmermaid %}\n\n{% mermaid %}\ngantt\ntitle A Gantt Diagram\ndateFormat YYYY-MM-DD\nsection Section\nA task :a1, 2014-01-01, 30d\nAnother task :after a1 , 20d\nsection Another\nTask in sec :2014-01-12 , 12d\nanother task : 24d\n{% endmermaid %}\n\n{% mermaid %}\ngantt\ntitle A Gantt Diagram\ndateFormat YYYY-MM-DD\nsection Section\nA task :a1, 2014-01-01, 30d\nAnother task :after a1 , 20d\nsection Another\nTask in sec :2014-01-12 , 12d\nanother task : 24d\n{% endmermaid %}\n\n## Note (Bootstrap Callout)\n\n### 方法一\n\n> simple\n\n```markdown\n{% note simple %}\n默認 提示塊標籤\n{% endnote %}\n\n{% note default simple %}\ndefault 提示塊標籤\n{% endnote %}\n\n{% note primary simple %}\nprimary 提示塊標籤\n{% endnote %}\n\n{% note success simple %}\nsuccess 提示塊標籤\n{% endnote %}\n\n{% note info simple %}\ninfo 提示塊標籤\n{% endnote %}\n\n{% note warning simple %}\nwarning 提示塊標籤\n{% endnote %}\n\n{% note danger simple %}\ndanger 提示塊標籤\n{% endnote %}\n```\n\n{% note %}\n默認 提示塊標籤\n{% endnote %}\n\n{% note default %}\ndefault 提示塊標籤\n{% endnote %}\n\n{% note primary %}\nprimary 提示塊標籤\n{% endnote %}\n\n{% note success %}\nsuccess 提示塊標籤\n{% endnote %}\n\n{% note info %}\ninfo 提示塊標籤\n{% endnote %}\n\n{% note warning %}\nwarning 提示塊標籤\n{% endnote %}\n\n{% note danger %}\ndanger 提示塊標籤\n{% endnote %}\n\n> modern\n\n```markdown\n{% note modern %}\n默認 提示塊標籤\n{% endnote %}\n\n{% note default modern %}\ndefault 提示塊標籤\n{% endnote %}\n\n{% note primary modern %}\nprimary 提示塊標籤\n{% endnote %}\n\n{% note success modern %}\nsuccess 提示塊標籤\n{% endnote %}\n\n{% note info modern %}\ninfo 提示塊標籤\n{% endnote %}\n\n{% note warning modern %}\nwarning 提示塊標籤\n{% endnote %}\n\n{% note danger modern %}\ndanger 提示塊標籤\n{% endnote %}\n```\n\n{% note modern %}\n默認 提示塊標籤\n{% endnote %}\n\n{% note default modern %}\ndefault 提示塊標籤\n{% endnote %}\n\n{% note primary modern %}\nprimary 提示塊標籤\n{% endnote %}\n\n{% note success modern %}\nsuccess 提示塊標籤\n{% endnote %}\n\n{% note info modern %}\ninfo 提示塊標籤\n{% endnote %}\n\n{% note warning modern %}\nwarning 提示塊標籤\n{% endnote %}\n\n{% note danger modern %}\ndanger 提示塊標籤\n{% endnote %}\n\n> flat\n\n```markdown\n{% note flat %}\n默認 提示塊標籤\n{% endnote %}\n\n{% note default flat %}\ndefault 提示塊標籤\n{% endnote %}\n\n{% note primary flat %}\nprimary 提示塊標籤\n{% endnote %}\n\n{% note success flat %}\nsuccess 提示塊標籤\n{% endnote %}\n\n{% note info flat %}\ninfo 提示塊標籤\n{% endnote %}\n\n{% note warning flat %}\nwarning 提示塊標籤\n{% endnote %}\n\n{% note danger flat %}\ndanger 提示塊標籤\n{% endnote %}\n```\n\n{% note flat %}\n默認 提示塊標籤\n{% endnote %}\n\n{% note default flat %}\ndefault 提示塊標籤\n{% endnote %}\n\n{% note primary flat %}\nprimary 提示塊標籤\n{% endnote %}\n\n{% note success flat %}\nsuccess 提示塊標籤\n{% endnote %}\n\n{% note info flat %}\ninfo 提示塊標籤\n{% endnote %}\n\n{% note warning flat %}\nwarning 提示塊標籤\n{% endnote %}\n\n{% note danger flat %}\ndanger 提示塊標籤\n{% endnote %}\n\n> disabled\n\n```markdown\n{% note disabled %}\n默認 提示塊標籤\n{% endnote %}\n\n{% note default disabled %}\ndefault 提示塊標籤\n{% endnote %}\n\n{% note primary disabled %}\nprimary 提示塊標籤\n{% endnote %}\n\n{% note success disabled %}\nsuccess 提示塊標籤\n{% endnote %}\n\n{% note info disabled %}\ninfo 提示塊標籤\n{% endnote %}\n\n{% note warning disabled %}\nwarning 提示塊標籤\n{% endnote %}\n\n{% note danger disabled %}\ndanger 提示塊標籤\n{% endnote %}\n```\n\n{% note disabled %}\n默認 提示塊標籤\n{% endnote %}\n\n{% note default disabled %}\ndefault 提示塊標籤\n{% endnote %}\n\n{% note primary disabled %}\nprimary 提示塊標籤\n{% endnote %}\n\n{% note success disabled %}\nsuccess 提示塊標籤\n{% endnote %}\n\n{% note info disabled %}\ninfo 提示塊標籤\n{% endnote %}\n\n{% note warning disabled %}\nwarning 提示塊標籤\n{% endnote %}\n\n{% note danger disabled %}\ndanger 提示塊標籤\n{% endnote %}\n\n> no-icon\n\n```markdown\n{% note no-icon %}\n默認 提示塊標籤\n{% endnote %}\n\n{% note default no-icon %}\ndefault 提示塊標籤\n{% endnote %}\n\n{% note primary no-icon %}\nprimary 提示塊標籤\n{% endnote %}\n\n{% note success no-icon %}\nsuccess 提示塊標籤\n{% endnote %}\n\n{% note info no-icon %}\ninfo 提示塊標籤\n{% endnote %}\n\n{% note warning no-icon %}\nwarning 提示塊標籤\n{% endnote %}\n\n{% note danger no-icon %}\ndanger 提示塊標籤\n{% endnote %}\n```\n\n{% note no-icon %}\n默認 提示塊標籤\n{% endnote %}\n\n{% note default no-icon %}\ndefault 提示塊標籤\n{% endnote %}\n\n{% note primary no-icon %}\nprimary 提示塊標籤\n{% endnote %}\n\n{% note success no-icon %}\nsuccess 提示塊標籤\n{% endnote %}\n\n{% note info no-icon %}\ninfo 提示塊標籤\n{% endnote %}\n\n{% note warning no-icon %}\nwarning 提示塊標籤\n{% endnote %}\n\n{% note danger no-icon %}\ndanger 提示塊標籤\n{% endnote %}\n\n### 方法二\n\n> simple\n\n```markdown\n{% note 'fab fa-cc-visa' simple %}\n你是刷 Visa 還是 UnionPay\n{% endnote %}\n{% note blue 'fas fa-bullhorn' simple %}\n2021 年快到了....\n{% endnote %}\n{% note pink 'fas fa-car-crash' simple %}\n小心開車 安全至上\n{% endnote %}\n{% note red 'fas fa-fan' simple%}\n這是三片呢？還是四片？\n{% endnote %}\n{% note orange 'fas fa-battery-half' simple %}\n你是刷 Visa 還是 UnionPay\n{% endnote %}\n{% note purple 'far fa-hand-scissors' simple %}\n剪刀石頭布\n{% endnote %}\n{% note green 'fab fa-internet-explorer' simple %}\n前端最討厭的瀏覽器\n{% endnote %}\n```\n\n{% note 'fab fa-cc-visa' simple %}\n你是刷 Visa 還是 UnionPay\n{% endnote %}\n{% note blue 'fas fa-bullhorn' simple %}\n2021 年快到了....\n{% endnote %}\n{% note pink 'fas fa-car-crash' simple %}\n小心開車 安全至上\n{% endnote %}\n{% note red 'fas fa-fan' simple%}\n這是三片呢？還是四片？\n{% endnote %}\n{% note orange 'fas fa-battery-half' simple %}\n你是刷 Visa 還是 UnionPay\n{% endnote %}\n{% note purple 'far fa-hand-scissors' simple %}\n剪刀石頭布\n{% endnote %}\n{% note green 'fab fa-internet-explorer' simple %}\n前端最討厭的瀏覽器\n{% endnote %}\n\n> modern\n\n```markdown\n{% note 'fab fa-cc-visa' modern %}\n你是刷 Visa 還是 UnionPay\n{% endnote %}\n{% note blue 'fas fa-bullhorn' modern %}\n2021 年快到了....\n{% endnote %}\n{% note pink 'fas fa-car-crash' modern %}\n小心開車 安全至上\n{% endnote %}\n{% note red 'fas fa-fan' modern%}\n這是三片呢？還是四片？\n{% endnote %}\n{% note orange 'fas fa-battery-half' modern %}\n你是刷 Visa 還是 UnionPay\n{% endnote %}\n{% note purple 'far fa-hand-scissors' modern %}\n剪刀石頭布\n{% endnote %}\n{% note green 'fab fa-internet-explorer' modern %}\n前端最討厭的瀏覽器\n{% endnote %}\n```\n\n{% note 'fab fa-cc-visa' modern %}\n你是刷 Visa 還是 UnionPay\n{% endnote %}\n{% note blue 'fas fa-bullhorn' modern %}\n2021 年快到了....\n{% endnote %}\n{% note pink 'fas fa-car-crash' modern %}\n小心開車 安全至上\n{% endnote %}\n{% note red 'fas fa-fan' modern%}\n這是三片呢？還是四片？\n{% endnote %}\n{% note orange 'fas fa-battery-half' modern %}\n你是刷 Visa 還是 UnionPay\n{% endnote %}\n{% note purple 'far fa-hand-scissors' modern %}\n剪刀石頭布\n{% endnote %}\n{% note green 'fab fa-internet-explorer' modern %}\n前端最討厭的瀏覽器\n{% endnote %}\n\n> flat\n\n```markdown\n{% note 'fab fa-cc-visa' flat %}\n你是刷 Visa 還是 UnionPay\n{% endnote %}\n{% note blue 'fas fa-bullhorn' flat %}\n2021 年快到了....\n{% endnote %}\n{% note pink 'fas fa-car-crash' flat %}\n小心開車 安全至上\n{% endnote %}\n{% note red 'fas fa-fan' flat%}\n這是三片呢？還是四片？\n{% endnote %}\n{% note orange 'fas fa-battery-half' flat %}\n你是刷 Visa 還是 UnionPay\n{% endnote %}\n{% note purple 'far fa-hand-scissors' flat %}\n剪刀石頭布\n{% endnote %}\n{% note green 'fab fa-internet-explorer' flat %}\n前端最討厭的瀏覽器\n{% endnote %}\n```\n\n{% note 'fab fa-cc-visa' flat%}\n你是刷 Visa 還是 UnionPay\n{% endnote %}\n{% note blue 'fas fa-bullhorn' flat%}\n2021 年快到了....\n{% endnote %}\n{% note pink 'fas fa-car-crash' flat%}\n小心開車 安全至上\n{% endnote %}\n{% note red 'fas fa-fan' flat %}\n這是三片呢？還是四片？\n{% endnote %}\n{% note orange 'fas fa-battery-half' flat %}\n你是刷 Visa 還是 UnionPay\n{% endnote %}\n{% note purple 'far fa-hand-scissors' flat %}\n剪刀石頭布\n{% endnote %}\n{% note green 'fab fa-internet-explorer' flat %}\n前端最討厭的瀏覽器\n{% endnote %}\n\n> disabled\n\n```markdown\n{% note 'fab fa-cc-visa' disabled %}\n你是刷 Visa 還是 UnionPay\n{% endnote %}\n{% note blue 'fas fa-bullhorn' disabled %}\n2021 年快到了....\n{% endnote %}\n{% note pink 'fas fa-car-crash' disabled %}\n小心開車 安全至上\n{% endnote %}\n{% note red 'fas fa-fan' disabled %}\n這是三片呢？還是四片？\n{% endnote %}\n{% note orange 'fas fa-battery-half' disabled %}\n你是刷 Visa 還是 UnionPay\n{% endnote %}\n{% note purple 'far fa-hand-scissors' disabled %}\n剪刀石頭布\n{% endnote %}\n{% note green 'fab fa-internet-explorer' disabled %}\n前端最討厭的瀏覽器\n{% endnote %}\n```\n\n{% note 'fab fa-cc-visa' disabled %}\n你是刷 Visa 還是 UnionPay\n{% endnote %}\n{% note blue 'fas fa-bullhorn' disabled %}\n2021 年快到了....\n{% endnote %}\n{% note pink 'fas fa-car-crash' disabled %}\n小心開車 安全至上\n{% endnote %}\n{% note red 'fas fa-fan' disabled %}\n這是三片呢？還是四片？\n{% endnote %}\n{% note orange 'fas fa-battery-half' disabled %}\n你是刷 Visa 還是 UnionPay\n{% endnote %}\n{% note purple 'far fa-hand-scissors' disabled %}\n剪刀石頭布\n{% endnote %}\n{% note green 'fab fa-internet-explorer' disabled %}\n前端最討厭的瀏覽器\n{% endnote %}\n\n> no-icon\n\n```markdown\n{% note no-icon %}\n你是刷 Visa 還是 UnionPay\n{% endnote %}\n{% note blue no-icon %}\n2021 年快到了....\n{% endnote %}\n{% note pink no-icon %}\n小心開車 安全至上\n{% endnote %}\n{% note red no-icon %}\n這是三片呢？還是四片？\n{% endnote %}\n{% note orange no-icon %}\n你是刷 Visa 還是 UnionPay\n{% endnote %}\n{% note purple no-icon %}\n剪刀石頭布\n{% endnote %}\n{% note green no-icon %}\n前端最討厭的瀏覽器\n{% endnote %}\n```\n\n{% note no-icon %}\n你是刷 Visa 還是 UnionPay\n{% endnote %}\n{% note blue no-icon %}\n2021 年快到了....\n{% endnote %}\n{% note pink no-icon %}\n小心開車 安全至上\n{% endnote %}\n{% note red no-icon %}\n這是三片呢？還是四片？\n{% endnote %}\n{% note orange no-icon %}\n你是刷 Visa 還是 UnionPay\n{% endnote %}\n{% note purple no-icon %}\n剪刀石頭布\n{% endnote %}\n{% note green no-icon %}\n前端最討厭的瀏覽器\n{% endnote %}\n\n## Gallery 相冊圖庫\n\n<div class=\"gallery-group-main\">\n{% galleryGroup '壁紙' '收藏的一些壁紙' '/Gallery/wallpaper' https://i.loli.net/2019/11/10/T7Mu8Aod3egmC4Q.png %}\n{% galleryGroup '漫威' '關於漫威的圖片' '/Gallery/marvel' https://i.loli.net/2019/12/25/8t97aVlp4hgyBGu.jpg %}\n{% galleryGroup 'OH MY GIRL' '關於OH MY GIRL的圖片' '/Gallery/ohmygirl' https://i.loli.net/2019/12/25/hOqbQ3BIwa6KWpo.jpg %}\n</div>\n\n## Gallery 相冊\n\n{% gallery %}\n![](https://i.loli.net/2019/12/25/Jj8FXuKVlOea4Ec.jpg)\n![](https://i.loli.net/2019/12/25/eqBGrXx9tWsZOao.jpg)\n![](https://i.loli.net/2019/12/25/LjW2CfNSD7OaY4v.jpg)\n![](https://i.loli.net/2019/12/25/pGIhaPjxtl438U9.jpg)\n![](https://i.loli.net/2019/12/25/hzjJBR2x5SEmsbC.jpg)\n![](https://i.loli.net/2019/12/25/ucNDmUqQkrFfAWv.jpg)\n![](https://i.loli.net/2019/12/25/oj1wAnGSKtFvXIJ.jpg)\n{% endgallery %}\n\n## tag-hide\n\n隱藏文字，點擊顯示文章\n\n### hide-inline\n\n哪個英文字母最酷？ {% hideInline 因為西裝褲(C裝酷),查看答案,#FF7242,#fff %}\n\n門裡站著一個人? {% hideInline 閃 %}\n\n### hide-block\n\n美女\n\n{% hideBlock 查看答案 %}\n{% gallery %}\n![](https://i.loli.net/2019/12/25/Fze9jchtnyJXMHN.jpg)\n![](https://i.loli.net/2019/12/25/ryLVePaqkYm4TEK.jpg)\n![](https://i.loli.net/2019/12/25/gEy5Zc1Ai6VuO4N.jpg)\n![](https://i.loli.net/2019/12/25/d6QHbytlSYO4FBG.jpg)\n![](https://i.loli.net/2019/12/25/6nepIJ1xTgufatZ.jpg)\n![](https://i.loli.net/2019/12/25/E7Jvr4eIPwUNmzq.jpg)\n![](https://i.loli.net/2019/12/25/mh19anwBSWIkGlH.jpg)\n![](https://i.loli.net/2019/12/25/2tu9JC8ewpBFagv.jpg)\n{% endgallery %}\n{% endhideBlock %}\n\n### hide-toggle\n\n{% hideToggle Butterfly安裝方法 %}\n在你的博客根目錄裏\n\n```git\ngit clone -b master https://github.com/jerryc127/hexo-theme-butterfly.git themes/Butterfly\n```\n\n如果想要安裝比較新的 dev 分支，可以\n\n```git\ngit clone -b dev https://github.com/jerryc127/hexo-theme-butterfly.git themes/Butterfly\n```\n\n{% gallery %}\n![](https://i.loli.net/2019/12/25/Fze9jchtnyJXMHN.jpg)\n![](https://i.loli.net/2019/12/25/ryLVePaqkYm4TEK.jpg)\n![](https://i.loli.net/2019/12/25/gEy5Zc1Ai6VuO4N.jpg)\n![](https://i.loli.net/2019/12/25/d6QHbytlSYO4FBG.jpg)\n![](https://i.loli.net/2019/12/25/6nepIJ1xTgufatZ.jpg)\n![](https://i.loli.net/2019/12/25/E7Jvr4eIPwUNmzq.jpg)\n![](https://i.loli.net/2019/12/25/mh19anwBSWIkGlH.jpg)\n![](https://i.loli.net/2019/12/25/2tu9JC8ewpBFagv.jpg)\n{% endgallery %}\n\n{% endhideToggle %}\n","tags":["標籤外掛"],"categories":["Demo"]},{"title":"python 判断屏幕等宽字符串的长度 　","url":"/article/af1cb345.html","content":"\n判断屏幕等宽字符串的长度 ?\n\n<!-- more -->\n判断屏幕等宽字符串的长度 ?\n\n![image.png](https://upload-images.jianshu.io/upload_images/10769157-58b19652011e153a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n【新手】重庆-搬砖-NoWait 22:41:50  @北京-BUG开发-黑择明 求指点  \n【专家】北京-BUG开发-黑择明  22:43:04  fontMetrics  \n【专家】 [https://pyqt.site](https://pyqt.site) (892768447) 22:43:54  QFontMetrics  \n【专家】 [https://pyqt.site](https://pyqt.site) (892768447) 22:44:09  通过QLabel.font().fontMetrics()得到\n\n【新手】重庆-搬砖-NoWait 22:52:00 \n[https://stackoverflow.com/questions/35771863/how-to-calculate-length-of-string-in-pixels-for-specific-font-and-size](https://stackoverflow.com/questions/35771863/how-to-calculate-length-of-string-in-pixels-for-specific-font-and-size)  \n![image.png](https://upload-images.jianshu.io/upload_images/10769157-9dc2f83609106252.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n【新手】重庆-搬砖-NoWait 22:53:15  感觉和fontMetrics应该是差不多的\n\n![image.png](https://upload-images.jianshu.io/upload_images/10769157-411570eeadf51793.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n---\n\n【专家】北京-BUG开发-黑择明       (996742224) 11:29:04\nfm = QFontMetrics(QFont())\nfm.width(\"qweqwe\")\n","tags":["Python"],"categories":["随笔"]},{"title":"修改pyuic代替pyside2-uic.","url":"/article/d7083d08.html","content":"\n修改pyuic代替pyside2-uic\n\n<!-- more -->\n修改pyuic代替pyside2-uic.\n\n最近看到挺多人用pyside2的uic编译ui文件有问题 . \n写个解决办法.\n\n首先 , \n`pip install qtpy` , \n这个是兼容pyqt5和pyside2的 , 无缝转换 .\n\n然后 , \n修改 pyqt5 的 uic ,\n\n![image.png](https://upload-images.jianshu.io/upload_images/10769157-2ed1053f322c26a6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n最后用pyuic5 , 生成Ui_XXX.py文件 .\n","tags":["PyQt5 PySide2"],"categories":["随笔"]},{"title":"PyQt学习心得","url":"/article/a322de94.html","content":"\n在学习PyQt的过程中由于资料的缺乏或者没有中文导致大多数人感叹资料太少，学习困难，又或者急于求进，赶鸭子上架的情况，此时有系统的学习方法很重要。每个人都需要有自己的学习方法，别人的学习方法并不一定适合自己但可以采纳一些。笔者在这里列举了一些当初自己自学的一些心得和方法，希望帮助大家建立一套自己的学习PyQt的方法，提高自身的学习能力。\n<!-- more -->\n\n## Python基础\n\n在学习和使用PyQt之前需要熟练使用Python，经过对QQ群里经常提问的问题的分析，发现大部分人对Python中的基础知识掌握不牢固导致很多基础问题，如果要想更好的使用Python以及它的扩展必需要进行系统的学习。这里列举一下常用的知识点。\n\n1. 类　　　　　　　 　[参考资料](https://www.runoob.com/python3/python3-class.html)\n2. 类的继承\n3. 类的多继承\n4. 类方法重写　　　　 [参考资料](https://www.runoob.com/w3cnote/python-extends-init.html)\n5. 类中的super函数　　[参考资料](https://www.runoob.com/python/python-func-super.html)\n6. 函数调用/参数类型\n7. 对象调用(参考第1点)\n\n必须熟练掌握上面的知识点后入门PyQt才比较容易，如果初学者对上面的知识点还不是很了解，本文不适合继续往下阅读。\n\n## 设计师\n\nQt 设计师除了方便快速设计一些简单的界面外，其实笔者觉得更大的作用在于帮助用户熟悉各类控件、属性、信号等\n\n1. 这里建议初学者不要急于求成，打开设计师新建一个`Widget`的窗口，比如\n\n![desiger_create](/images/studynotes/desiger_create.png)\n\n2. 然后把左侧的所有控件挨个拖动到中间的窗口中，比如这里拖动一个**Push Button**按钮\n\n![desiger_drag](/images/studynotes/desiger_drag.png)\n\n3. 在设计师右下角的属性编辑器中列举了该控件的所有父类，意味着可以调用和重写父类的所有方法，建议初学者把这个属性编辑器的所有属性挨个调整看看效果，部分控件可能需要**Ctrl+R**预览界面才能看到，同时像**QListWidget，QTreeWidget，QTableWidget**等某些控件需要在控件上右键增加数据才可以\n\n![desiger_property](/images/studynotes/desiger_property.png)\n![desiger_property2](/images/studynotes/desiger_property2.png)\n\n4. 两个控件之间简单的信号槽关联可以通过设计师快速的设置\n\n![desiger_signal](/images/studynotes/desiger_signal.png)\n![desiger_signal2](/images/studynotes/desiger_signal2.png)\n\n5. 提高进阶的方法，当你需要手动写代码实现界面的时候，不妨把UI文件转出PY文件，看看是如何构造的（这里涉及到布局等知识见后文）\n\n## 布局\n\nQt界面提供了方便的4种基本布局，**QVboxLayout，QHboxLayout，QFormLayout，QGridLayout**，初学者需要数量掌握这4种布局外加2种拉伸器（占位挤压）\n\n首先需要知道Qt界面的中控件的层级顺序以及parent，parent的作用既作为子控件的父元素也可以自动管理Qt的对象（具体可以搜索下关于 Qt parent的资料）\n\n1. 在没有布局的情况下，在设计师中拖动摆放的控件是一层一层的叠加覆盖，此时每个添加的子控件的parent都是最外层的控件\n\n![desiger_stack](/images/studynotes/desiger_stack.png)\n\n2. 如果需要界面中的控件自动适应高度宽度，此时则需要使用4种布局来包裹里面的子控件，注意的是：布局不是控件不能设置高度宽度和样式等，是一个抽象的东西，就好比是一根橡皮筋包裹几个矩形的物品；布局也可以设置一些属性（在设计师属性编辑器中），比如设置两者直接的间距，设置距离上下左右的间距，设置比例等\n\n![desiger_layout](/images/studynotes/desiger_layout.png)\n\n3. 在没有布局或者有布局的时候。可以添加容器控件（**QWidget，QFrame，QGroupBox，QScrollArea，QToolBox，QTabWidget，QStackedWidget，QMidArea，QDockWidget**）这些容器可以放置子控件，从而循环嵌套。\n\n## 例子\n\n在PyQt5.5的时候自带了一个例子文件夹（后面的版本没有的话可以下载PyQt5源码，里面有个examples文件夹），想要熟练的掌握PyQt还需要从自带的例子中学习，必须要每个例子都运行一次然后看看这个例子实现了什么，这样才能记忆深刻。\n同时很多开发者在[https://github.com/PyQt5/PyQt](https://github.com/PyQt5/PyQt)分享了各类进阶例子，同时也欢迎大家共同完善该项目，提供更多更好的例子。另外也可以下载该项目的客户端[PyQtClient](https://github.com/PyQt5/PyQtClient/releases)软件，支持运行其中的例子\n\n建议在更深入的学习PyQt之前多看看一些例子。\n\n## 文档\n\n接下来要说的就是Qt的api文档，[官网文档](https://doc.qt.io/qt-5/classes.html)，这里其实不要害怕是英文就不想看，觉得看不懂了，其实官网的文档还是比较简洁的，而且函数名也比较直观就能知道意思。也可以用谷歌浏览器打开右键翻译，基本上都能看懂。笔者前期写过一篇[如何查阅Qt文档](/viewapi.html)的文档可以阅读学习一番。\n\n这里就拿[QWebEngineView](https://doc.qt.io/qt-5/qwebengineview.html)举一个例子，首先初学者在使用这个浏览器控件时候，会有诸多的问题比如：Cookie，拦截器等就不知道如何去调用函数来设置\n\n1. 首先打开官网文档 [https://doc.qt.io/qt-5/qwebengineview.html](https://doc.qt.io/qt-5/qwebengineview.html)，可以看到只有少量的函数可以调用，寻找一番并没有发现和Cookie相关的东西，这个时候就需要把重点放在有特俗返回值的函数上，比如：\n```c++\nQWebEngineHistory *\t          history() const\nQWebEnginePage *\t          page() const\nQWebEngineSettings *\t      settings() const\n```\n\n这三个函数返回了一个类实例，就意味着可以调用其中的方法。\n\n2. 点击**page()**打开 [https://doc.qt.io/qt-5/qwebenginepage.html](https://doc.qt.io/qt-5/qwebenginepage.html)，发现没有cookie相关的东西，只有**QWebEngineProfile *\tprofile() const**这个函数比较可疑。\n\n3. 点击**profile()**打开 [https://doc.qt.io/qt-5/qwebengineprofile.html](https://doc.qt.io/qt-5/qwebengineprofile.html)，在浏览器中搜索`cookie`发现这个类中包含大量和cookie相关的东西，比如：**QWebEngineCookieStore *\tcookieStore()`**从名字上可以猜测大概意思为cookie储存\n\n4. 点击**cookieStore()**打开 [https://doc.qt.io/qt-5/qwebenginecookiestore.html](https://doc.qt.io/qt-5/qwebenginecookiestore.html)，此时就会发现这个类里面包含了删除和设置cookie的方法。\n\n5. 但是找到了这些方法后，面对初学者又一个问题来了，该如何去用？根据上面4点整理一下，把他们当做简单的Python对象，方法和操作方法和class一样的。\n\n```python\nself.webview = QWebEngineView()\n# 得到page\npage = self.webview.page()\n# 得到profile\nprofile = page.profile()\n# 得到cookieStore\ncookieStore = profile.cookieStore()\n# 清空cookie\ncookieStore.deleteAllCookies()\n\n# 用简短代码来表达就是\ncookieStore = self.webview.page().profile().cookieStore()\ncookieStore.deleteAllCookies()\n```\n\n## 异常调试\n\n可能有时候由于粗心，或者调用了一些非法函数，参数错误等会导致程序出现一些异常，首先第一步复制最后一行的错误去百度或者谷歌搜索，大多时候能找到问题所在。其次如果搜索不到或者自己的异常可能是由于某个变量的值不对引起的，就需要在编辑器中打断点使用DEBUG模式调试变量值（如果不会可以采用麻烦一点的办法：用`print`打印出变量值）\n\n遇到问题后首先需要自己多调试排查问题，不要一遇到问题就去问，自己多尝试一个一个排查直到找到问题所在并解决，这也是一种提高自身能力的地方。\n\n## 检索资料\n\n作为一个开发人员确实需要具备查阅文档、查询资料等基础技能，会为自己的开发带来很大的帮助，要善于搜索，通过不同的方式去搜索才能找到自己需要的东西。信息检索是每个程序猿必备的能力之一，其好处在于可以更快更准确的在茫茫网络海洋中找到自己所需要的东西，这个过程需要长期不断积累和练习。\n\n1. 中文搜索引擎：采用多个关键词 以空格分开搜索，如：PyQt 拖拽\n2. 英文搜索引擎：采用多个关键词 以空格分开搜索，如：PyQt Drag Drop\n\n## 片尾\n\n好了，笔者基本上的学习过程就整理如上，这并不是说每个人都适合这样的方法，但至少笔者是这样一步一步走过来的。当你养成了一个学习、发现和解决问题的好习惯时就会慢慢得心应手。","tags":["PyQt"],"categories":["笔记"]},{"title":"python 状态机模块 　","url":"/article/bb55f976.html","content":"\n用状态来取代if...else判断。\n\n<!-- more -->\n\nGUI涉及到挺多的状态改变 , 以前一直用 if...else 来判断 , 最近读了设计模式 ,发现有个状态模式 , 随后发现了状态机这个东西 .\n\npython的状态机模块挺多的 , 不过好像很多都不更新了.\n推荐2个状态机模块 , 但是也没有太深入的使用经验 , 就跑跑例子 , 以后有更详细的pyqt例子再补上 .\n\n1: `pip install python-statemachine`\n\n官方例子 : [https://github.com/fgmacedo/python-statemachine](https://github.com/fgmacedo/python-statemachine)\n\n2.`pip install state_machine`\n\n官方例子 : [https://github.com/jtushman/state_machine](https://github.com/jtushman/state_machine)\n\n1的 最近一次更新在6个月以前 , 使用`类继承`和`mixin`方式 , 不过有些地方不如2个人性化;\n\n2的设计更人性化一些 , 包括状态改变`before`和 `after` , 不过由于是装饰器实现的动态增加属性 , 有些地方编辑器智能提示可能就靠不上了.\n\n两者实现实现方式不一样 , 有兴趣可以读读源码 .\n\n3. qt内置状态机框架\n\nhttps://blog.csdn.net/amnes1a/article/details/62418196\n\nhttps://blog.csdn.net/dongfenghuojian/article/details/78187131\n\nhttp://blog.sina.com.cn/s/articlelist_3284623693_0_1.html (系列教程)    \n","tags":["Python","python 状态机"],"categories":["随笔"]},{"title":"在pyqt中使用python全局钩子模块","url":"/article/11a9699e.html","content":"\n在某些时候需要为自己的软件增加全局键盘监听，比如软件最小化隐藏后可以通过热键唤醒，又或者比如像QQ一样可以全局热键截图。这里介绍几个方法实现在PyQt中使用Python全局钩子模块实现全局热键功能。\n\n<!-- more -->\n\n\n1. `pyHook3`\n\n安装命令 : `pip install pyhook3`\n\n[https://blog.csdn.net/q871063970/article/details/86648386](https://blog.csdn.net/q871063970/article/details/86648386)\n\n似乎将pyhook支持py3版本的了?  没有太多研究.\n\n缺点: 只支持win平台.\n\n2.`keyboard` & `mouse`\n\n安装命令: `pip install keyboard mouse`\n```\n\nfrom PyQt5 import  QtGui, QtWidgets, QtCore\nfrom PyQt5.QtCore import *\nfrom PyQt5.QtGui import *\nfrom PyQt5.QtWidgets import *\nimport keyboard\nclass Window(QWidget):\n\n    def __init__(self, *args, **kwargs):\n        super(Window, self).__init__(*args, **kwargs)\n        layout = QVBoxLayout(self)\n        self.testBtn = QPushButton(self)\n        layout.addWidget(self.testBtn)\n\n        keyboard.add_hotkey('ctrl+shift+x', lambda:print('triggered', 'hotkey'))\n        keyboard.add_hotkey('ctrl+shift+c', self.abc,args=('aa',\"bb\",\"cc\"))\n\n    def abc(self,a,b,c):\n        print(a,b,c)\n        \nif __name__ == '__main__':\n    import sys\n    from PyQt5.QtWidgets import QApplication\n    app = QApplication(sys.argv)\n    w = Window()\n    w.show()\n    sys.exit(app.exec_())\n```\n\n更详细例子 : [pyqt中使用keyboard全局热键](https://github.com/PyQt5/PyQt/blob/63c6376358acb1863313fb5593097e6e0210cad6/Test/%E5%85%A8%E5%B1%80%E7%83%AD%E9%94%AE/HotKey.py)\n\n优点: 跨平台 ;\n\n缺点: 模块名字取得太差, 不容易被发现.\n","tags":["Python","pyqt hook key"],"categories":["随笔"]},{"title":"像读文章一样读源码","url":"/article/7e4e85d8.html","content":"\n使用snoop, 像读文章一样读源码。\n\n<!-- more -->\n\n不得不说 开源项目没有一个提纲 ， 看起来太操蛋了。问了作者， 作者说 ， 你运行下主函数， 然后慢慢跟 。。。\n![image.png](https://upload-images.jianshu.io/upload_images/10769157-b274b7acaecf49bc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n没有目的地概览 ， 不知不觉就追究到细节里面去了。\n\n![image.png](https://upload-images.jianshu.io/upload_images/10769157-1304cc87fcd42cae.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n所以这一篇文章的目地就是 ， 如何在没有提纲的情况下 ， 能更好的只关注流程 ， 而不是细节 。 \n\n开始 ： \n1. python DEBUG 模块介绍 : \n　前段时间看过挺多文章提到pysoonper这个调试模块 , 有兴趣的可以百度一下.\n个人尝试了一下 , 篇幅过大的DEBUG不适合用 pysoonper , 因为没有缩进 !\n　这几天偶然遇到一个二次封装的模块[snoop]([https://github.com/alexmojaki/snoop](https://github.com/alexmojaki/snoop)\n), 完美地解决了这个问题.\n2. 操作步骤 : \n\n- 1 .  在`eric6.py`的`main()`函数上加snoop装饰器;\n![image.png](https://upload-images.jianshu.io/upload_images/10769157-74129f6a6c303b25.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n- 2 . 用vscode 打开 `eric6start_.log`  文件 (8层深度log文件34W行, pycharm对大文件支持很差);\n![log文件](https://upload-images.jianshu.io/upload_images/10769157-ae946c117a082c24.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n发现可以折叠 ， 但是最大可折叠等级只到5级 ， 而且无法对对应等级折叠 ， 有点遗憾 。也许是.log格式选得不太好， 不知道是否有更好的后缀格式。\n- 3 . vscode配置log文件关键字高亮；\n安装高亮插件\n![image.png](https://upload-images.jianshu.io/upload_images/10769157-8f6fee2356d7071d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n配置高亮关键字 \n![image.png](https://upload-images.jianshu.io/upload_images/10769157-a135fd015409b3da.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n将`call` 和`return` 给加进去.\n\n- 4 .增加阶段关键字；\n\n![eric6启动阶段](https://upload-images.jianshu.io/upload_images/10769157-c39d01a02149e808.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n![image.png](https://upload-images.jianshu.io/upload_images/10769157-aef5704c36824dcc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n加`#000` 是为了方便搜索 。\n需要自己手动折叠 。\n可以发现 每个`splash.showMessage()` 都是一个阶段 ， 展开折叠之后就是每个阶段具体执行细节 。 \n\n---\n\n### ps: vscode 阅读log文件还是有一些不方便的地方 , 除了在2.中提到的, 还有包括关闭文件再打开, 折叠状态不会保留 , 有其他更好的方式 请留言告诉我 , 谢谢.\n","tags":["Python","debug","snoop"],"categories":["随笔"]},{"title":"python 获取子进程print信息 　","url":"/article/f8b2fb76.html","content":"\n在PyQt中使用子线程读取子进程Python脚本的print输出流内容。\n\n<!-- more -->\n\n问题所在：\n\n![image.png](https://i.loli.net/2019/05/24/5ce793171984f27031.png)\n\n如果模块都由自己开发， 正常操作 \n\n![image.png](https://i.loli.net/2019/05/24/5ce7933994a0090037.png)\n\n但是因为不能改, 所以只能拦截：\n代码：\n```python\npythonPath = self.pythonPath_cb.currentText()\n\nif suffix == \"py\":\n    # 首次\n    self.pyCommand = [pythonPath, path]\n    self.modifiedReloadPython(path)\ndef modifiedReloadPython(self, path_):\n    os.chdir(os.path.dirname(path_))\n    # 子进程调用\n    self.p = subprocess.Popen(self.pyCommand, stdout=subprocess.PIPE, stderr=subprocess.STDOUT)\n    # self.stdoutWorker.p = self.p\n    self.stdoutWorker = Worker(self.p)\n    self.stdoutWorker.stdout_signal.connect(lambda x: self.error_te.append(\"PYDEBUG:\\n\" + x))\n    self.stdoutWorker.start()\nclass Worker(QThread):\n    stdout_signal = pyqtSignal(str)\n\n    def __init__(self, p, parent=None):\n        super().__init__(parent)\n        self.p = p\n\n    def run(self):\n        while True:\n            QApplication.processEvents()\n            if self.p is not None:\n                line = self.p.stdout.readline()\n                # line = line.strip()\n                if line != b'':\n                    try:\n                        info = line.decode()\n                        self.stdout_signal.emit(info)\n                    except:\n                        self.stdout_signal.emit(repr(line))\n    \n```\n","tags":["Python","subprocess.Popen","拦截print"],"categories":["随笔"]},{"title":"QtWebkit和QWebEngineView与Javascript交互","url":"/article/56923913.html","content":"\n以前还是`QWebView`的时候和`Javascript`交互起来很方便，但是到了Qt5.6以后改用了`QWebEngineView`，并通过其提供的`qwebchannel.js`来进行交互。可能是由于刚出来的原因，这玩意儿有个bug就是必须在每次加载页面的时候手动注入，跳转页面后就失效了，需要手动注入，目前有没有修复具体未测试。这里对`QWebView`和`QWebEngineView`与Js交互都做了一个示例。\n<!-- more -->\n\n## 说明\n\n1. 针对`QWebView`通过`QWebFrame`的`addToJavaScriptWindowObject`把对象传递到`Javascript`中\n2. 针对`QWebEngineView`通过`QWebChannel.registerObject('Bridge', QObject)`把对象传递到`Javascript`中\n3. 可以通过`@pyqtSlot`装饰器来申明该方法可以暴露给`Javascript`调用\n\n```python\n@pyqtSlot(str)\ndef callFromJs(self, text):\n    QMessageBox.information(self, \"提示\", \"来自js调用：{}\".format(text))\n```\n\n4. 针对`QWebView`在`Javascript`中获取该对象，可以通过该对象对窗口属性以及信号和暴露出的方法进行调用\n\n```javascript\n// 这里绑定窗口的标题变化信号（这个信号是由QWidget内部的）\nBridge.windowTitleChanged.connect({fun: function(title) {\n    showLog(\"标题被修改为：\" + title);\n}}, \"fun\");\n\n// 绑定自定义的信号customSignal\nBridge.customSignal.connect({fun: function(text) {\n    showLog(\"收到自定义信号内容：\" + text);\n}}, \"fun\");\n```\n\n5. 针对`QWebEngineView`在`Javascript`中获取该对象，可以通过该对象对窗口属性以及信号和暴露出的方法进行调用\n\n```javascript\nnew QWebChannel(qt.webChannelTransport,\n    function(channel) {\n        window.Bridge = channel.objects.Bridge;\n        \n        // 这里绑定窗口的标题变化信号（这个信号是由QWidget内部的）\n        Bridge.windowTitleChanged.connect(function(title) {\n            showLog(\"标题被修改为：\" + title);\n        });\n        \n        // 绑定自定义的信号customSignal\n        Bridge.customSignal.connect(function(text) {\n           showLog(\"收到自定义信号内容：\" + text);\n        });\n    }\n);\n```\n\n## 代码\n\n`QWebView`： https://github.com/PyQt5/PyQt/blob/master/QWebView/JsSignals.py\n\n`QWebEngineView`： https://github.com/PyQt5/PyQt/blob/master/QWebEngineView/JsSignals.py\n\n1. 针对`QWebView`的核心实现\n\n```python\nclass WebView(QWebView):\n\n    customSignal = pyqtSignal(str)\n\n    def __init__(self, *args, **kwargs):\n        super(WebView, self).__init__(*args, **kwargs)\n        self.initSettings()\n        # 暴露接口对象\n        self.page().mainFrame().javaScriptWindowObjectCleared.connect(self._exposeInterface)\n\n    def _exposeInterface(self):\n        \"\"\"向Js暴露调用本地方法接口\n        \"\"\"\n        self.page().mainFrame().addToJavaScriptWindowObject('Bridge', self)\n\n    # 注意pyqtSlot用于把该函数暴露给js可以调用\n    @pyqtSlot(str)\n    def callFromJs(self, text):\n        QMessageBox.information(self, \"提示\", \"来自js调用：{}\".format(text))\n\n    def sendCustomSignal(self):\n        # 发送自定义信号\n        self.customSignal.emit('当前时间: ' + str(time()))\n```\n\n2. 针对`QWebEngineView`的核心实现\n\n```python\nclass WebEngineView(QWebEngineView):\n\n    customSignal = pyqtSignal(str)\n\n    def __init__(self, *args, **kwargs):\n        super(WebEngineView, self).__init__(*args, **kwargs)\n        self.channel = QWebChannel(self)\n        # 把自身对象传递进去\n        self.channel.registerObject('Bridge', self)\n        # 设置交互接口\n        self.page().setWebChannel(self.channel)\n\n    # 注意pyqtSlot用于把该函数暴露给js可以调用\n    @pyqtSlot(str)\n    def callFromJs(self, text):\n        QMessageBox.information(self, \"提示\", \"来自js调用：{}\".format(text))\n\n    def sendCustomSignal(self):\n        # 发送自定义信号\n        self.customSignal.emit('当前时间: ' + str(time()))\n```\n\n\n## 效果图\n\n![JsSignals](/PyQt/QWebEngineView/ScreenShot/JsSignals.gif)","tags":["PyQt","QWebView","QWebEngineView","浏览器"],"categories":["例子"]},{"title":"PyQt5窗口翻转动画","url":"/article/8e0d6c55.html","content":"\nQQ的界面一直是用来模仿练习做界面的好东西，这里就有一个类似QQ登录界面的实现翻转效果，当然这里并没有用两个窗口去做，而是用了`QStackedWidget`包含两个控件做切换，同时单独使用一个窗口做动画绘制。\n<!-- more -->\n\n## 原理说明\n\n1. 用了两个`QLabel`来显示模拟的图片界面，并实现鼠标点击模拟真实的窗口对应位置点击\n2. 用了`QStackedWidget`来存放上面的两个界面`QLabel`\n3. 点击切换时主要是对上面的两个界面进行截图并传递给翻转动画窗口\n4. 通过`setWindowOpacity`控制主窗口的显示隐藏（保留任务栏），当然也可以用`hide`\n5. 动画窗口`FlipWidget.py`主要实现两张图片的翻转显示，考虑到0-90和90-180之前的情况，以及图片的缩放动画\n\n## 核心实现\n\n1. 主要是在`paintEvent`方法中使用`QTransform`对`QPainter`进行圆心变换以及`rotate`设置翻转角度\n2. 同时根据翻转的角度范围对图片进行切换和缩放\n\n```python\ndef paintEvent(self, event):\n    super(FlipWidget, self).paintEvent(event)\n\n    if hasattr(self, 'image1') and hasattr(self, 'image2') and self.isVisible():\n\n        painter = QPainter(self)\n        painter.setRenderHint(QPainter.Antialiasing, True)\n        painter.setRenderHint(QPainter.SmoothPixmapTransform, True)\n\n        # 变换\n        transform = QTransform()\n        # 把圆心设置为矩形中心\n        transform.translate(self.width() / 2, self.height() / 2)\n\n        if self._angle >= -90 and self._angle <= 90:\n            # 当翻转角度在90范围内显示第一张图，且从大图缩放到小图的过程\n            painter.save()\n            # 设置翻转角度\n            transform.rotate(self._angle, Qt.YAxis)\n            painter.setTransform(transform)\n            # 缩放图片高度\n            width = self.image1.width() / 2\n            height = int(self.image1.height() *\n                         (1 - abs(self._angle / self.Scale) / 100))\n            image = self.image1.scaled(\n                self.image1.width(), height,\n                Qt.IgnoreAspectRatio, Qt.SmoothTransformation)\n            painter.drawPixmap(\n                QPointF(-width, -height / 2), image)\n            painter.restore()\n        else:\n            # 当翻转角度在90范围内显示第二张图，且从小图缩放到原图的过程\n            painter.save()\n            if self._angle > 0:\n                angle = 180 + self._angle\n            else:\n                angle = self._angle - 180\n            # 设置翻转角度， 注意这里角度有差异\n            transform.rotate(angle, Qt.YAxis)\n            painter.setTransform(transform)\n            # 缩放图片高度\n            width = self.image2.width() / 2\n            height = int(self.image2.height() *\n                         (1 - ((360 - abs(angle)) / self.Scale / 100)))\n            image = self.image2.scaled(\n                self.image2.width(), height,\n                Qt.IgnoreAspectRatio, Qt.SmoothTransformation)\n            painter.drawPixmap(\n                QPointF(-width, -height / 2), image)\n            painter.restore()\n```\n\n## 代码\n\nhttps://github.com/PyQt5/PyQt/blob/master/QPropertyAnimation/FlipWidgetAnimation.py\n\n\n## 效果图\n\n![FlipWidgetAnimation](/PyQt/QPropertyAnimation/ScreenShot/FlipWidgetAnimation.gif)","tags":["PyQt","动画","翻转"],"categories":["例子"]},{"title":"PyQt属性动画(QPropertyAnimation)","url":"/article/f305b1cc.html","content":"\n`QPropertyAnimation`继承自`QVariantAnimation`，其作为Qt的属性动画用于针对控件的属性或者继承自`QObject`的对象中定义的属性做修改，\n简单来说就是基类是`QObject`且定义了属性变量，就可以用`QPropertyAnimation`来做属性动画。同时也可以通过`pyqtProperty`来增加自定义属性。\n<!-- more -->\n\n首先，通过构造函数`QPropertyAnimation(QObject, Union[QByteArray, bytes, bytearray], parent: QObject = None)`创建一个对象，其中\n\n1. 第一个参数是动画作用的对象，也可以通过`setTargetObject`设置\n2. 第二个参数是属性名，在py3中类型是bytes，也可以通过`setPropertyName`设置\n\n## 函数\n\n一些常见的设置函数\n\n|                 |              |\n| :-------------- | :---------- |\n| setPropertyName |   设置属性名  |\n| setTargetObject | 设置动画作用对象  |\n|   setDuration   | 设置动画持续时间（毫秒）  |\n|  setStartValue  |   设置开始值  |\n|   setEndValue   |   设置结束值  |\n|  setEasingCurve | 设置动画曲线  |\n|  setKeyValueAt  |  插入线性值   |\n|   setLoopCount  | 设置循环次数（-1为永久）  |\n\n## 示例\n\n比如这个例子：\n\n1. 修改控件的`geometry`大小\n2. 修改自定义属性\n3. 修改进度条的value值\n\n![QPropertyAnimation](/images/QPropertyAnimation.gif)\n\n```python\n#!/usr/bin/env python\n# -*- coding: utf-8 -*-\nfrom PyQt5.QtCore import QPropertyAnimation, QRect, pyqtProperty, QEasingCurve\nfrom PyQt5.QtWidgets import QWidget, QPushButton, QVBoxLayout,\\\n    QLabel, QProgressBar, QSpacerItem, QSizePolicy\n\n\nclass Window(QWidget):\n\n    def __init__(self, *args, **kwargs):\n        super(Window, self).__init__(*args, **kwargs)\n        self.resize(400, 400)\n        self._value = 0\n        self.button = QPushButton('属性动画测试', self)\n        self.button.clicked.connect(self.doStart)\n        self.button.setGeometry(0, 0, 80, 40)\n\n        self.buttonc = QPushButton('自定义属性 测试', self)\n        self.buttonc.clicked.connect(self.doStartCustom)\n\n        self.label = QLabel('', self)\n\n        self.progressbar = QProgressBar(self)\n        self.progressbar.setRange(0, 99)\n\n        layout = QVBoxLayout(self)\n        layout.addItem(QSpacerItem(\n            20, 60, QSizePolicy.Fixed, QSizePolicy.Fixed))\n        layout.addWidget(self.buttonc)\n        layout.addWidget(self.label)\n        layout.addWidget(self.progressbar)\n\n        # 进度条动画\n        self.progressStart()\n\n    # 此处是自定义属性，并通过动画修改后，设置QLabel的值\n    @pyqtProperty(int)\n    def value(self):\n        return self._value\n\n    @value.setter\n    def value(self, v):\n        self._value = v\n        self.label.setText('当前值：{}'.format(v))\n\n    def doStart(self):\n        # 第一个参数是要执行的对象\n        animation = QPropertyAnimation(self.button, b'geometry', self)\n        animation.setDuration(2000)  # 持续时间\n        # 缓和曲线风格,加了曲线动画会很大程度影响\n        animation.setEasingCurve(QEasingCurve.OutBounce)\n        animation.setStartValue(QRect(0, 0, 40, 40))\n        animation.setEndValue(QRect(250, 250, 80, 80))\n        animation.start(animation.DeleteWhenStopped)\n\n    def doStartCustom(self):\n        # 自定义属性动画\n        # 由于定义的属性是在继承的QWidget, 所以第一个参数是self\n        # 第二个参数就是 value\n        animation = QPropertyAnimation(self, b'value', self)\n        animation.setDuration(2000)  # 持续时间\n        animation.setStartValue(0)\n        animation.setEndValue(100)\n        animation.start(animation.DeleteWhenStopped)\n\n    def progressStart(self):\n        # 进度条动画\n        # 这里 value是QProgressBar自带的属性，具体可以看文档\n        # https://doc.qt.io/qt-5/qprogressbar.html#properties\n        animation = QPropertyAnimation(self.progressbar, b'value', self)\n        animation.setDuration(2000)  # 持续时间\n        animation.setLoopCount(-1)\n        # 这里采用插入线性值,第一个参数的范围是（0-1）\n        # 第二个参数的范围是进度（最小值-最大值）\n        animation.setKeyValueAt(0, self.progressbar.minimum())\n        animation.setKeyValueAt(0.1, 10)\n        animation.setKeyValueAt(0.2, 30)\n        animation.setKeyValueAt(0.5, 60)\n        animation.setKeyValueAt(0.7, 80)\n        animation.setKeyValueAt(1, self.progressbar.maximum())\n        animation.start(animation.DeleteWhenStopped)\n\n\nif __name__ == '__main__':\n    import sys\n    from PyQt5.QtWidgets import QApplication\n    app = QApplication(sys.argv)\n    w = Window()\n    w.show()\n    sys.exit(app.exec_())\n\n```","tags":["PyQt","动画"],"categories":["笔记"]},{"title":"如何查阅Qt文档","url":"/article/71c08d79.html","content":"\n很多网友在问有没有PyQt5的文档之类的问题，在PyQt4的时候PyQt官网有了英文版的文档，随后有网友翻译成了中文。不过现在PyQt5官方的文档都指向了C++的Qt文档，其实C++的Qt API文档结构很清晰，翻阅很容易的，需要注意几点。\n<!-- more -->\n\n作为一个开发人员确实需要具备查阅文档、查询资料等基础技能，会为自己的开发带来很大的帮助，要善于搜索，通过不同的方式去搜索才能找到自己需要的东西。\n\n拿Qt C++文档来说，官网地址是：https://doc.qt.io/qt-5/qtwidgets-module.html 这里面记录了所有控件的详细函数文档。\n\n比如拿 输入框 `QLineEdit` 来说，怎么去查询它的用法和信号槽等资料？\n\nhttps://doc.qt.io/qt-5/qlineedit.html\n\n## 左侧目录\n\n在文档左侧目录中有如下几个：\n\nProperties - 控件里的属性（比如宽高等,通常需要当作函数调用）\n\nPublic Slots - 这个是控件自己的槽函数（当作普通函数就行）\n\nSignals - 这个是输入框的包含的信号\n\nPublic Functions、Reimplemented Public Functions、Static Public Members、Protected Functions、Reimplemented Protected Functions - 这几个都是函数列表\n\n![howtoviewapi1](/images/howtoviewapi1.png)\n\n## 类说明\n\n![howtoviewapi2](/images/howtoviewapi2.png)\n\n这里有两个注意点\n\n1. 红色方框内的表示该控件（输入框）继承于`QWidget`，所以该控件（输入框）拥有父类的所有方法和信号，当当前文档找不到相关资料和函数时，可以去父类找找看。\n2. 紫色方框内表示列举所有的方法（包括父类）\n\n## 函数列表\n\n![howtoviewapi3](/images/howtoviewapi3.png)\n\n这里列举的就是该控件（输入框）的函数，同理点击上面的紫色方框是查看所有方法，一般这里主要用来查询你需要的功能函数，Qt的函数名比较容易理解，比如：只读ReadOnly，选择文字：setSelection。\n\n所以再查下这部分资料的时候建议在浏览器中Ctrl + F打开浏览器的搜索框，并输入英文关键词来检索你所需要的函数在哪里。\n\n![howtoviewapi8](/images/howtoviewapi8.png)\n\n## 槽函数\n\n![howtoviewapi4](/images/howtoviewapi4.png)\n\n这部分列举的是槽函数，其实在PyQt中槽函数可以当作普通的函数。普通的函数也可以作为槽函数，直接通过信号连接即可，注意方框所示，还有很多函数是在父类里面。\n\n## 信号\n\n![howtoviewapi5](/images/howtoviewapi5.png)\n\n这部分列举了该控件（输入框）所定义的信号，主要还是看名字，大多都能知道是做什么的，比如：\n\n1. editingFinished - 编辑完成信号\n2. returnPressed - 回车键信号\n3. textChanged(const QString &text) - 内容改变信号\n\n这里还有个问题就是参数问题，一般&后面的text作为参数传递到槽函数中\n\n## 函数详细说明\n\n当不明确这个函数是做什么的，可以点击该函数跳转到下面的说明，比如回车键信号`returnPressed`\n\n![howtoviewapi6](/images/howtoviewapi6.png)\n\n如图上所示，用翻译插件翻译，大部分就明白了，如下：\n\n![howtoviewapi7](/images/howtoviewapi7.png)\n\n## 关于如何搜索资料\n\n比如当你要搜索输入框内容改变事件，一般建议两种搜索，且搜索的时候用空格把关键词分开搜索，而且直接用控件名\n\n1. 中文搜索引擎：QLineEdit 内容 改变\n2. 英文搜索引擎：QLineEdit text change\n","tags":["PyQt"],"categories":["笔记"]},{"title":"推荐编辑器LiClipse","url":"/article/9427e2a0.html","content":"\n关于Python的开发编辑器有很多，每个人有每个人的喜好，经常看到很多在问什么编辑器好用，有人推荐Sublime，有人推荐Pycharm等等，这里就不去比较其它编辑器的优缺点了，只谈谈关于LiClipse这个编辑器在初级使用阶段的智能提示功能等。开箱即用，支持多种语言，RST，Markdown和HTML编辑器的HTML预览。\n<!-- more -->\n\n其实LiClipse这个编辑器就是以前的PyDev插件的独立版本，基于Eclipse编辑器开发，去掉了Java的相关开发功能，关于软件的详细说明可以去官网查看： http://www.liclipse.com/\n\n编辑器只需要少量的配置，打开即可使用，快速自动import，也可以根据需要安装自己所需的插件，比如json、svn、主题插件等。个人推荐：适合刚入门的新手使用\n\n由于新版的PyQt和PyDev去掉了详细的函数提示，所以PyQt的智能提示只有函数和返回值，并没有英文注释，但是以前的比如PyQt4的智能提示应该是有详细的英文注释提示。\n\n## 界面预览\n\n1. 主界面\n![editor1](/images/editor1.png)\n2. 鼠标悬停提示\n![editor2](/images/editor2.png)\n3. 输入提示\n![editor3](/images/editor3.png)\n4. Git面板\n![editor4](/images/editor4.png)\n5. 全局搜索（Ctrl + H）\n![editor5](/images/editor5.png)\n![editor6](/images/editor6.png)\n\n## 自动导包\n\n其实这个功能我是非常喜欢的，通过按下快捷键即可自动寻找包名导入，快捷键 Ctrl + Shift + O\n\n![editor_import](/images/editor_import.png)\n\n也可以在标红的代码上按下 Ctrl + F1进行导入\n\n![editor_import2](/images/editor_import2.png)\n\n## 配置\n\n打开编辑器后首先要配置【Window -> Preferences】的就是Python的环境变量，可以同时添加多个Python版本\n\n![editor_env](/images/editor_env.png)\n\n## Tab等设置\n\n1. Insert spaces for tabs        tab转空格\n2. Show line numbers             显示行号\n\n![editor_tab](/images/editor_tab.png)\n\n## 模版\n\n这个功能可以快速插入自己定义好的模版代码，比如 `if __name__ == '__main__':`等等，比如我这里配置的创建文件的模版\n\n![editor_tpl](/images/editor_tpl.png)\n\n## 常用快捷键\n\n|            |                  |\n|:----------:|:----------------:|\n| 格式化对齐  | Ctrl + Shift + F |\n| 自动导包    | Ctrl + Shift + O |\n| 快捷提示    | Alt + /          |","tags":["编辑器"],"categories":["随笔"]},{"title":"三种方式绑定信号槽","url":"/article/3217c859.html","content":"网上关于PyQt5的信号绑定使用的教程比较上，很多还是以前的绑定方式，导致在PyQt5中无法使用，这里归纳总结下已有的几种绑定信号槽的方式，\n这几种方式各有各的优点和缺点。\n<!-- more -->\n\n## 方式一\n\n这个方式是最开始接触设计师的时候知道的，主要是通过控件的`objectName`和`QtCore.QMetaObject.connectSlotsByName(Form)`提供的连接函数来自动完成注册，\n比如带有按钮的界面ui文件转成py文件后会发现如下代码：\n```python\nself.pushButton = QtWidgets.QPushButton(Form)\nself.pushButton.setGeometry(QtCore.QRect(60, 40, 93, 28))\nself.pushButton.setObjectName(\"pushButton\")\n\n# 通过这里自动完成连接信号槽\nQtCore.QMetaObject.connectSlotsByName(Form)\n```\n\n此时只需要继承该UI文件类然后增加如下方法：\n```python\n\n@pyqtSlot()\ndef on_pushButton_clicked(self):\n    print('button clicked')\n```\n\n这里解释一下，`@pyqtSlot()`装饰器把函数`on_pushButton_clicked`包装为一个槽函数，\n而`QtCore.QMetaObject.connectSlotsByName(Form)`这句代码的意思就是自动去寻找满足的槽函数\n\n<font color=red>注意：这里有个规范（on_xxxx_clicked）</font>，这里必须要满足`on_控件的objectName_控件的信号`这样下划线连接起来的函数名才能被识别，\n比如按钮的点击：`on_pushButton_clicked`、勾选框的选中：`on_checkbox_toggled(self, checked)`\n\n## 方式二\n\n这种方式则直接通过代码里调用控件的信号的`connect`方法来进行绑定，比如：\n```python\n# 按钮点击函数\ndef doClicked(self):\n    print(self.sender(), 'clicked')\n\n# 绑定点击信号\nself.pushButton.clicked.connect(self.doClicked)\n```\n\n<font color=red>注意：`connect`的是函数名字</font>，`self.sender()`这句代码是获取信号发送者（比如这里就是得到这个按钮对象），\n用处在于有时候要循环创建一堆按钮\n\n## 方式三\n\n通过参数这种方式其实比较特殊，在PyQt中大部分存在，但是在PySide中则很少，原因是两者的封装方式不同。\n\n同时该方式用于在纯代码中比较常见，而且需要对该控件有那些信号可以用要很熟习，比如：\n```python\n\n# 按钮点击函数\ndef doClicked(self):\n    print(self.sender(), 'clicked')\n\npushButton = QPushButton('按钮', self, clicked=self.doClicked, minimumHeight=40)\n```\n\n这里可以通过参数（信号名字） = 函数来绑定信号\n\n同时也可以设置其它参数，比如\n`button.setMinimumHeight(40)`也可以像参数里那样设置`minimumHeight=40`\n","tags":["PyQt","信号"],"categories":["教程"]},{"title":"python 拷贝虚拟环境(一) 　","url":"/article/2950b269.html","content":"\n通常来说 ,  刚开始使用python的时候都是把包装到全局路径 , 随着各个项目安装的包越来越多 , 之后每开始一个项目 , pycharm创建索引的时间都越来越漫长 , 所以不可避免得开始使用虚拟环境。\n经过一番了解 ，虚拟环境的优点有这些：\n- 改善 pycharm 索引时间;\n- 各个项目的库不会冲突；\n- 理论上虚拟环境可以给同版本的操作系统使用(未试验过);\n- pip freeze > requestment.txt 导出的依赖清晰;\n- 各个版本的python共存;\n- ...\n<!-- more -->\n\npython虚拟环境库除了自带的venv , 还有三方库`virtualenv` , 此外 在`virtualenv`基础上又开发了`virtualenvwrapper(virtualenvwrapper_win)` 来管理\n\n本文基于`virtualenvwrapper` 创建的虚拟环境来讲解.\n\n    以下是收集的一些virtualenvwrapper配置教程:\n    # linux平台\n    https://www.cnblogs.com/netfoxman/p/5994697.html\n    # window平台\n    https://blog.csdn.net/shaququ/article/details/54292043  　\n    https://blog.csdn.net/iaau0908/article/details/54021518\n虚拟环境创建多了我们就会发现 ,\n有时候使用相同版本的环境,一些常用的库是需要重新安装的, \n那么能不能创建一个基础环境, 默认拥有这些库, 然后在这个基础环境上继续安装三方库呢 ?\n\n本文经过试验发现是可行的:\n\n1. 创建基础虚拟环境 `mkvirtualenv <环境名称> [-p空格python其他版本的解释器路径]`.  例如 `mkvirtualenv py34 -p c:\\Python34\\python.exe`\n\n2. 切换到虚拟环境`workon py34` , 然后安装一下三方库, 然后复制`py34`这个文件夹备份一下 ;\n3. 接着复制这个`py34`文件夹, 把复制后的文件夹改名为我们需要需要的文件夹例如`new34`\n4. 进入`new34文件夹`, 用任意编辑器全路径搜索`py34`(替换虚拟环境的路径)\n5. 删除`new34/Scripts`下的`pip.exe, pip3.exe, pip3.x.exe, easy_install.exe`(因为安装路径硬编码到这里面了, 改不了, 需要重新安装)\n6. https://blog.csdn.net/douniwan007009/article/details/81463958 按方式二 , 源码安装 `setuptools` 后再用`easy_install pip` 安装pip后 , 完成 ;\n 如果有问题, 就继续按照方式一的源码安装pip;\n7. 在`new34`环境下 用`pip show 三方库` 来看一些库的位置, 确保正确.\n\n   \n","tags":["Python","virtualenvwrapper","virtualenv"],"categories":["随笔"]},{"title":"QRunnable线程池发信号","url":"/article/cd53e848.html","content":"\n因为只有继承`QObject`的类才能有信号和自定义信号，而`QRunnable`并不是继承自`QObject`，也不能用多继承的方式，这里考虑定义个全局的QObject变量用来存放一些定义好的可复用的信号。\n<!-- more -->\n\npools 是 `QThreadPool` 实例\n\n## 看图说话\n\n1. ![runnablesignal1](/images/runnablesignal1.png)\n2. 定义一个全局信号类\n![runnablesignal2](/images/runnablesignal2.png)\n3. 在QRunnable 中发送\n![runnablesignal3](/images/runnablesignal3.png)\n","tags":["PyQt","信号","线程"],"categories":["教程"]},{"title":"如何和设计师中查看ui转换的py代码","url":"/article/552a748a.html","content":"\n通过 设计师  查看ui转换的py代码\n\n当初我刚学pyqt的时候 , 也有很多疑惑 , 用什么属性把控件加到布局 , 改了这个属性会发生什么 , 为什么这个会这样, 那个会那样 。。。 。。。\n\n后来就看ui 转成的py代码 , 注释一下 , 什么效果消失了 , 就是那个api引起的 。\n<!-- more -->\n\n再来后发现了官方文档 , 查一查函数就行了 .\n\n但是有些api文档找起来麻烦 , 用设计师点几下就行了 , 然后把转换出来的代码拷贝一下就完事了.\n\n可是需要单独把ui转为py文件 , 之后再删除这个文件也是很烦的一件事 .\n\n好 , 话不多说 , 接下来手把手教你如何快速在ui中查看py代码 .\n\n官方也考虑过这种情况 , 所以 设计师中 是有这个功能的 , 但是qt的是没问题的 , pyqt的毕竟是绑定过来的 , 所以正常来说 你点击之后会弹出一个找不到应用程序的提示 .\n\n看到这个东西是不是很眼熟 , 我们用的命令pyuic5 和这个东西应该是一样的 .\n\n![viewpyindesigner1](/images/viewpyindesigner1.jpg)\n\n所以接下来 , 我们找找电脑上有没有这个东西\n\n![viewpyindesigner2](/images/viewpyindesigner2.jpg)\n\n果然在pyqt5-toos文件夹下有这个东西 ,\n\n我们根据第一张图的提示 , 把这个东西拷贝到相应的目录 (如果没有那个bin文件夹, 手动创建),\n\n![viewpyindesigner3](/images/viewpyindesigner3.jpg)\n\n好了 , 大功告成 !\n","tags":["PyQt","Designer","设计师"],"categories":["教程"]},{"title":"PyQt5调整窗口显示边框","url":"/article/a6356493.html","content":"\n在`windows`某些场景下调整窗口大小或者移动后就会导致里面的内容重绘（速度慢，卡顿，闪烁），其实在以前`windows`在低配置设备为了减少这种频繁绘制的情况，默认会开启这种效果，不过目前设备越来越好了就关闭了该功能。具体是在控制面板中->调整`Windows`的外观和性能->去掉勾选 拖动时显示窗口内容。\n<!-- more -->\n\n由于这个开关是全局状态的，而我们只需要在自己的窗口中实现该效果有两种方式。\n\n1. 一种是自己绘制一个边框效果，放开鼠标时才操作真正的窗口。\n2. 二是替换窗口的处理过程函数`wndproc`处理`WM_NCLBUTTONDOWN`消息事件。\n\n今天讲第二种方法：\n\n1. 需要了解 `SystemParametersInfo` API函数\n2. `SPI_GETDRAGFULLWINDOWS`：确定是否允许拖拉到最大窗口\n3. `SPI_SETDRAGFULLWINDOWS`：设置是否允许拖至最大窗口\n\n效果就是这样的：\n\n![ShowFrameWhenDrag](/PyQt/Demo/ScreenShot/ShowFrameWhenDrag.gif)\n\n正如图片所看的那样，窗体在移动的时候，窗体并没有绘制出来，而是绘制出窗体的边框，等到窗体不在移动的时候就直接把窗体图像数据全部绘制出来，这样就避免了窗体在移动的时候出现闪烁的现象。\n\n## 代码\n\nhttps://github.com/PyQt5/PyQt/blob/master/Demo/ShowFrameWhenDrag.py\n\n```python\n#!/usr/bin/env python\n# -*- coding: utf-8 -*-\nfrom ctypes import sizeof, windll, c_int, byref, c_long, c_void_p, c_ulong, c_longlong,\\\n    c_ulonglong, WINFUNCTYPE, c_uint\n\nfrom PyQt5.QtWidgets import QWidget, QVBoxLayout, QLabel\n\nif sizeof(c_long) == sizeof(c_void_p):\n    WPARAM = c_ulong\n    LPARAM = c_long\nelif sizeof(c_longlong) == sizeof(c_void_p):\n    WPARAM = c_ulonglong\n    LPARAM = c_longlong\n\nWM_NCLBUTTONDOWN = 0x00a1\nGWL_WNDPROC = -4\nSPI_GETDRAGFULLWINDOWS = 38\nSPI_SETDRAGFULLWINDOWS = 37\nWNDPROC = WINFUNCTYPE(c_long, c_void_p, c_uint, WPARAM, LPARAM)\n\ntry:\n    CallWindowProc = windll.user32.CallWindowProcW\n    SetWindowLong = windll.user32.SetWindowLongW\n    SystemParametersInfo = windll.user32.SystemParametersInfoW\nexcept:\n    CallWindowProc = windll.user32.CallWindowProcA\n    SetWindowLong = windll.user32.SetWindowLongA\n    SystemParametersInfo = windll.user32.SystemParametersInfoA\n\n\ndef GetDragFullwindows():\n    rv = c_int()\n    SystemParametersInfo(SPI_GETDRAGFULLWINDOWS, 0, byref(rv), 0)\n    return rv.value\n\n\ndef SetDragFullwindows(value):\n    SystemParametersInfo(SPI_SETDRAGFULLWINDOWS, value, 0, 0)\n\n\nclass Window(QWidget):\n\n    def __init__(self, *args, **kwargs):\n        super(Window, self).__init__(*args, **kwargs)\n        layout = QVBoxLayout(self)\n        layout.addWidget(QLabel('拖动或者调整窗口试试看'))\n\n        # 重点替换窗口处理过程\n        self._newwndproc = WNDPROC(self._wndproc)\n        self._oldwndproc = SetWindowLong(\n            int(self.winId()), GWL_WNDPROC, self._newwndproc)\n\n    def _wndproc(self, hwnd, msg, wparam, lparam):\n        if msg == WM_NCLBUTTONDOWN:\n            # 获取系统本身是否已经开启\n            isDragFullWindow = GetDragFullwindows()\n            if isDragFullWindow != 0:\n                # 开启虚线框\n                SetDragFullwindows(0)\n                # 系统本身处理\n                ret = CallWindowProc(\n                    self._oldwndproc, hwnd, msg, wparam, lparam)\n                # 关闭虚线框\n                SetDragFullwindows(1)\n                return ret\n        return CallWindowProc(self._oldwndproc, hwnd, msg, wparam, lparam)\n\n\nif __name__ == '__main__':\n    import sys\n    from PyQt5.QtWidgets import QApplication\n    app = QApplication(sys.argv)\n    w = Window()\n    w.show()\n    sys.exit(app.exec_())\n```\n\n## 片尾\n\n替换窗口过程可以处理很多系统窗口的处理过程，更多需要读者自行去发现。","tags":["PyQt","边框"],"categories":["教程"]},{"title":"PyQt5判断信号是否连接","url":"/article/3808fba4.html","content":"\n在`PyQt`中某些情况下需要取消原来的信号连接，此时需要使用`disconnect`方法，但是在逻辑不严谨的情况下可能会导致多次调用`disconnect`方法而导致报错，当然可以通过try except来包裹代码。这里通过 `isSignalConnected` 来判断信号是否连接。\n<!-- more -->\n\n在QOjbect文档中这样写到：\n\n```c++\nstatic const QMetaMethod valueChangedSignal = QMetaMethod::fromSignal(&MyObject::valueChanged);\nif (isSignalConnected(valueChangedSignal)) {\n    QByteArray data;\n    data = get_the_value();       // expensive operation\n    emit valueChanged(data);\n}\n```\n\n通过直接传入信号就行了，但是这在PyQt中不可行。需要这么做\n\n```python\n#!/usr/bin/env python\n# -*- coding: utf-8 -*-\n\nfrom PyQt5.QtWidgets import QWidget, QVBoxLayout, QPushButton, QTextBrowser\n\n\nclass Window(QWidget):\n\n    def __init__(self, *args, **kwargs):\n        super(Window, self).__init__(*args, **kwargs)\n        layout = QVBoxLayout(self)\n        self.button1 = QPushButton('已连接', self, clicked=self.doTest)\n        self.button2 = QPushButton('未连接', self)\n        self.retView = QTextBrowser(self)\n        layout.addWidget(self.button1)\n        layout.addWidget(self.button2)\n        layout.addWidget(self.retView)\n\n    def doTest(self):\n        self.retView.append(\"\"\"\n        # button1 clicked 是否连接: %s\n        # button2 clicked 是否连接: %s\n        \"\"\" % (\n            self.isSignalConnected(self.button1, 'clicked()'),\n            self.isSignalConnected(self.button2, 'clicked()')\n        ))\n\n    def isSignalConnected(self, obj, name):\n        \"\"\"判断信号是否连接\n        :param obj:        对象\n        :param name:       信号名，如 clicked()\n        \"\"\"\n        index = obj.metaObject().indexOfMethod(name)\n        if index > -1:\n            method = obj.metaObject().method(index)\n            if method:\n                return obj.isSignalConnected(method)\n        return False\n\n\nif __name__ == '__main__':\n    import sys\n    from PyQt5.QtWidgets import QApplication\n    app = QApplication(sys.argv)\n    w = Window()\n    w.show()\n    sys.exit(app.exec_())\n```\n\n## 效果图\n\n![IsSignalConnected](/PyQt/Demo/ScreenShot/IsSignalConnected.png)","tags":["PyQt","信号"],"categories":["教程"]},{"title":"PyQt5无边框圆角阴影","url":"/article/7e3ab4fe.html","content":"\n在做PyQt窗口开发中经常会遇到要做一些无边框不规则的窗口，可能还会带有阴影效果，这里演示做一个简单的无边框圆角的窗口，原理就在于背景窗口的透明和一层有色背景控件的叠加。\n<!-- more -->\n\n## 原理说明\n\n1. 黑色（方便说明）的`QDialog`或者`QWidget`作为全透明无边框窗口。\n2. 其中白色的`QWidget`才是主要显示圆角和阴影的窗口，用于承载其它控件的显示。\n3. 注意红色和紫色的方框内的层次。\n4. 另：如果要熟悉纯代码编写请看 [FramelessDialog.py](https://github.com/PyQt5/PyQt/blob/master/Demo/FramelessDialog.py)\n\n如图：\n\n![FramelessDialog1](/PyQt/Demo/ScreenShot/FramelessDialog1.png)\n\n## 代码\n\nhttps://github.com/PyQt5/PyQt/blob/master/Demo/FramelessDialog.py\n\n```python\n#!/usr/bin/env python\n# -*- coding: utf-8 -*-\nfrom PyQt5.QtCore import Qt\nfrom PyQt5.QtWidgets import QDialog, QGraphicsDropShadowEffect\nfrom frameless import Ui_Dialog\n\n\n\nclass Window(QDialog, Ui_Dialog):\n\n    def __init__(self, *args, **kwargs):\n        super(Window, self).__init__(*args, **kwargs)\n        self.mPos = None\n        self.setupUi(self)\n        self.closeButton.clicked.connect(self.close)\n        # 重点\n        # 无边框\n        self.setWindowFlags(self.windowFlags() | Qt.FramelessWindowHint)\n        # 背景透明（就是ui中黑色背景的那个控件）\n        self.setAttribute(Qt.WA_TranslucentBackground, True)\n\n        # 添加阴影\n        effect = QGraphicsDropShadowEffect(self)\n        effect.setBlurRadius(12)\n        effect.setOffset(0, 0)\n        effect.setColor(Qt.gray)\n        self.setGraphicsEffect(effect)\n\n    # 加上简单的移动功能\n\n    def mousePressEvent(self, event):\n        \"\"\"鼠标点击事件\"\"\"\n        if event.button() == Qt.LeftButton:\n            self.mPos = event.pos()\n        event.accept()\n\n    def mouseReleaseEvent(self, event):\n        '''鼠标弹起事件'''\n        self.mPos = None\n        event.accept()\n\n    def mouseMoveEvent(self, event):\n        if event.buttons() == Qt.LeftButton and self.mPos:\n            self.move(self.mapToGlobal(event.pos() - self.mPos))\n        event.accept()\n\n\nif __name__ == '__main__':\n    import sys\n    from PyQt5.QtWidgets import QApplication\n    app = QApplication(sys.argv)\n    w = Window()\n    w.show()\n    sys.exit(app.exec_())\n```\n\n\n## 效果图\n\n![FramelessDialog](/PyQt/Demo/ScreenShot/FramelessDialog.png)\n\n## 下载\n\n[无边框圆角阴影.zip](/files/无边框圆角阴影.zip)","tags":["PyQt","阴影","无边框","圆角"],"categories":["例子"]},{"title":"解决GitHub下载速度缓慢的问题","url":"/article/d23b5740.html","content":"\n由于Github的下载走的是AWS - 亚马逊的路线，，so slow，跟乌龟一样慢。。照着一些方法改了hosts文件，偶尔能提提速度。\n<!-- more -->\n\n## Windows\nHosts文件的路径是：\n\nC:\\Windows\\System32\\drivers\\etc\n\n## Mac\n终端内输入：\n\nsudo vim /etc/hosts\n\n\n## 追加域名的IP地址\n\n利用https://www.ipaddress.com/ 来获得以下两个GitHub域名的IP地址：\n\n(1) github.com\n\n(2) github.global.ssl.fastly.net\n\n打开网页后，利用输入框内分别查询两个域名\n\n将以上两段IP写入Hosts文件中：\n\n\n\n```\n192.30.253.112               github.com\n151.101.185.194              github.global.ssl.fastly.net\n```\n\n保存。\n\n刷新 DNS 缓存\n\n在终端或CMD中，执行以下命令：\n\nipconfig /flushdns","tags":["Github"],"categories":["笔记"]},{"title":"在Mac上以正确的姿势使用PyQtClient看Demo","url":"/article/4b415978.html","content":"\n由于PyQtClient只提供了Windows的版本，这里记录下编译后在Mac上运行。\n<!-- more -->\n\n## 下载项目\n\n安装git略。没有的东西可以都先去试试brew install xxx。没安装homebrew的建议使用搜索引擎\n\n```git clone https://github.com/PyQt5/PyQtClient.git```\n\n## 配置环境\n\n1. 打开IDE配置python环境，使用anaconda比较方便\n2. 推荐用pycharm，我是习惯了用idea。anaconda安装可以去官网下载。\n3. 环境原因，选择新建一个 python 3.6 p.s. 我取的环境名字就是 3.6 所以后面的3.6其实是这个原因\n\n## conda源\n\n最好是加环境变量，不加也可以，就是以后用到的都需要指定路径，不太常用，我就没加\n\n```\n~/anaconda3/bin/conda config --add channels conda-forge\n~/anaconda3/bin/conda config --add channels defaults\n~/anaconda3/bin/conda config --add channels r\n~/anaconda3/bin/conda config --add channels bioconda\n~/anaconda3/bin/conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/ \n```\n\n## pip源\n\n```\nmkdir ~/.pip && vim ~/.pip/pip.conf\n```\n\n```\n[global]\nindex-url = http://mirrors.aliyun.com/pypi/simple/\n[install]\ntrusted-host = mirrors.aliyun.com\n```\n\n## 安装编译依赖\n\n```\n~/.conda/envs/3.6/bin/pip install -r PyQtClient/requirements.txt\n```\n\n运行提示没有webkit，开始手动编译\n\n1. `wget http://download.qt.io/archive/qt/5.9/5.9.0/qt-opensource-mac-x64-5.9.0.dmg`\n2. `wget https://github.com/annulen/webkit/releases/download/qtwebkit-5.212.0-alpha2/qtwebkit-5.212.0_alpha2-qt59-darwin-x64.tar.xz`\n3. `wget https://www.riverbankcomputing.com/static/Downloads/PyQt5/5.10.1/PyQt5_gpl-5.10.1.zip`\n4. `wget https://www.riverbankcomputing.com/static/Downloads/sip/4.19.8/sip-4.19.8.tar.gz`\n5. 编译sip：`~/.conda/envs/3.6/bin/python configure.py --platform macx-g++ && make && sudo make install`\n6. 编译Webkit.so 没有qmake 和 sip的环境变量， 所以后面都是手动指定的\n```\n~/.conda/envs/3.6/bin/python configure.py --confirm-license --no-designer-plugin --no-qml-plugin --disable=dbus --disable=QAxContainer --disable=QtAndroidExtras --disable=QtBluetooth --disable=QtDBus --disable=QtDesigner --disable=Enginio --disable=QtLocation --disable=QtMacExtras --disable=QtMultimedia --disable=QtMultimediaWidgets --disable=QtNfc --disable=QtSerialPort --disable=QtSql --disable=QtSvg --disable=QtTest --disable=QtWinExtras --disable=QtX11Extras --disable=QtXml --disable=QtXmlPatterns --disable=pylupdate --disable=pyrcc --qmake=~/Qt5.9.0/5.9/clang_64/bin/qmake --sip=~/.conda/3.6/bin/sip && make && sudo make install\n```\n\n## 插曲\n\n1. libcurl版本要求10.0，而我的是9.0，原因是前面我自己摸索，乱装依赖，所以遇到了\n```\n~/anaconda3/bin/conda install -n 3.6 -c conda-forge libcurl\n```\n2. 结果这个libcurl 10.0.0 是装上了，可是pygit2版本不对了，conda给升级了，PyQtClient里requirements.txt要求这个包的版本（pygit2==0.27.2）几乎决定了其他的环境版本。后来还是老实的用conda去装了。这个连python版本什么的都会跟着变的。最后降级的结果是python 3.6.7\n```\n~/anaconda3/bin/conda install -n 3.6 -c conda-forge libgit2==0.27.2\n```\n\n至此总算是启动正常了。","tags":["PyQt"],"categories":["教程"]},{"title":"Python调用Java对Excel截图","url":"/article/1e5b84cd.html","content":"\n有的时候会遇到一些奇葩的需求，就是用Excel做报表，但是需要对里面的数据进行填充并生成报表图片，发送出去。这里记录用python调用jar包对excel文件进行公式计算和截图，数据填充可以用xlrd或者openpyxl\n<!-- more -->\n\n利用`jpype`模块初始化java虚拟机加载jar包然后执行其中的功能。\n\n## 代码\n\n```python\n#!/usr/bin/env python\n# -*- coding: utf-8 -*-\nimport os\n\nimport jpype\n\n\ndef convertToImage():\n    Workbook = jpype.JClass('com.aspose.cells.Workbook')\n    ImageFormat = jpype.JClass('com.aspose.cells.ImageFormat')\n    ImageOrPrintOptions = jpype.JClass(\n        'com.aspose.cells.ImageOrPrintOptions')\n    SheetRender = jpype.JClass('com.aspose.cells.SheetRender')\n\n    book = Workbook(os.path.abspath('data/test.xlsx').replace('\\\\', '/'))\n    # 保存为html\n    book.save('data/index.html', 12)\n    # 保存为pdf\n    book.save('data/test.pdf')\n\n    # 截图\n    imgOptions = ImageOrPrintOptions()\n    # imgOptions.setQuality(100)\n    imgOptions.setOnePagePerSheet(True)\n\n    # 输出图片格式\n#     imgOptions.setImageFormat(ImageFormat.getJpeg())\n    imgOptions.setImageFormat(ImageFormat.getPng())\n\n    # 计算\n    CalculationOptions = jpype.JClass(\n        'com.aspose.cells.CalculationOptions')\n    opt = CalculationOptions()\n    # 对Sheet1中的公式进行计算\n    sheet = book.getWorksheets().get('Sheet1')\n    sheet.calculateFormula(opt, True)\n\n    # 设置区域\n    pageSetup = sheet.getPageSetup()\n    # 去掉边距\n    pageSetup.setBottomMargin(0.)\n    pageSetup.setLeftMargin(0.)\n    pageSetup.setRightMargin(0.)\n    pageSetup.setTopMargin(0.)\n    # 设置要截图的区域(对角线)\n    pageSetup.setPrintArea('A0:C2')\n    # Create a SheetRender object for the target sheet\n    sr = SheetRender(sheet, imgOptions)\n    for page in range(sr.getPageCount()):\n        # Generate an image for the worksheet\n        sr.toImage(\n            page, os.path.join('data', '%d.png' % (page + 1)))\n\n\ndef test():\n    # emm这里不知道什么用绝对路径就报错\n    libs = '{};{}'.format(\n        'libs/bcprov-jdk16-146.jar',\n        'libs/aspose-cells-19.2.jar'\n    )\n    command = (jpype.getDefaultJVMPath(),\n                   '-ea', '-Xmn128m', '-Xms512M', '-Xmx512M',\n                   '-Djava.class.path={0}'.format(libs))\n    print(command)\n    jpype.startJVM(jpype.getDefaultJVMPath(),\n                   '-ea', '-Xmn128m', '-Xms512M', '-Xmx512M',\n                   '-Djava.class.path={0}'.format(libs)\n                   )\n    # 解决多线程问题\n    jpype.attachThreadToJVM()\n    # 对excel截图\n    convertToImage()\n    # 关闭虚拟机\n    jpype.shutdownJVM()\n    print('截图完成')\n\n\nif __name__ == '__main__':\n    test()\n```\n\n## 附件\n\n[调用java生成报表.7z](/files/调用java生成报表.7z)\n\n解压后进入whls文件夹安装对应版本的jpype包\n\n## 效果图\n\n![calljava](/images/calljava.png)","tags":["Python","截图"],"categories":["教程"]},{"title":"PyQtClient例子客户端","url":"/article/5a3255e1.html","content":"\n![1.gif](/images/1.gif)对本博客所写的项目PyQt例子进行一个客户端的编写，客户端主要实现一些动画效果，更换皮肤，运行例子等功能。![2.gif](/images/2.gif)\n<!-- more -->\n\n## 项目地址\n\n<div class=\"github-widget\" data-repo=\"PyQt5/PyQtClient\"></div>\n\n## Windows客户端下载\n\n1. [包含部分例子](https://github.com/PyQt5/PyQtClient/releases/download/1.0.1/PyQtClient-x86-win32-exe.7z)\n2. [不包含例子](https://github.com/PyQt5/PyQtClient/releases/download/1.0.1/PyQtClient-x86-win32-exe.7z)\n3. [百度网盘](https://pan.baidu.com/s/14j9tMqGlAy_8y3067xh-vw) 提取码: nadv\n\n## 效果图\n\n![PyQtClient](https://github.com/PyQt5/PyQtClient/raw/master/ScreenShot/PyQtClient.gif)\n\n","tags":["PyQt"],"categories":["随笔"]},{"title":"FFmpeg合成加密HLS记录","url":"/article/84a174ee.html","content":"\n记录在某个需求中要求截图并合成加密视频文件，这里采用FFmpeg的管道流来实现生成HLS加密文件。\n<!-- more -->\n\n```python\n#!/usr/bin/env python\n# -*- coding: utf-8 -*-\nfrom pathlib import Path\nfrom subprocess import Popen, PIPE\n\n\n# p = Popen([r'D:\\soft\\ffmpeg\\bin\\ffmpeg.exe', '-y',\n#            '-threads', '2',\n#            '-f', 'image2pipe',\n#            '-vcodec', 'mjpeg', '-r', '24', '-i', '-',\n#            '-vcodec', 'h264', '-r', '24',\n#            #            '-encryption_scheme', 'cenc-aes-ctr',\n#            #            '-encryption_key', '617D8A125A284DF48E3C6B1866348A3F',\n#            #            '-encryption_kid', 'B326F895B6A24CC5A4DC70995728059C',\n#            r'F:\\Workspace\\Test\\videos\\video.mp4'], stdin=PIPE)\n\np = Popen([r'D:\\soft\\ffmpeg\\bin\\ffmpeg.exe',\n           '-re',   # 按照实际帧率读取输入文件\n           '-y',        # 覆盖已存在文件\n           '-threads', '2',  # 线程数量\n           '-f', 'image2pipe',  # PIPE图片流\n           '-vcodec', 'mjpeg',  # 图片编码\n           '-r', '24',  # 帧率\n           '-i', '-',  # 指定输入流为PIPE\n           '-vcodec', 'h264',  # 输出编码\n           '-r', '24',  # 帧率\n           '-map', '0',\n#            '-crf','20',     # 降低质量\n           '-b', '720k',        # 码率\n           '-f', 'hls',\n           '-codec:v', 'libx264',\n           '-vbsf', 'h264_mp4toannexb',\n           # 指定加密密匙文件\n           '-hls_key_info_file', r'F:\\Workspace\\Test\\videokey.info',\n           '-hls_time', '20',\n           '-hls_list_size', '0',\n           '-hls_wrap', '0',\n#            '-hls_flags', 'single_file',  # 生成单个文件(有bug)\n           r'F:\\Workspace\\Test\\videos\\playlist.m3u8'], stdin=PIPE)\nprint(p)\n\nt = 1 / 24\nfor i, path in enumerate(Path('frames').rglob('*.jpg')):\n    #     print(i, path)\n    p.stdin.write(open(str(path), 'rb').read())\n\np.stdin.close()\np.wait()\nprint('ok')\n```","tags":["Python","FFmpeg","HLS"],"categories":["笔记"]},{"title":"PyQt5编译QWebView与QWebEngineView共存","url":"/article/3b824793.html","content":"\n在PyQt5.5过后移除了`QWebView`控件，改用`QWebEngineView`，但是这个刚开始用起来不是很方便，最近在整理一些例子的时候需要同时使用`QWebView`和`QWebEngineView`，故希望把`QWebView`重新加入到后面的PyQt5版本中，查看PyQt5.10.1的源码发现里面其实是有`QWebView`的，只是因为Qt5.10.1中没有编译好的dll等导致无法编译。\n<!-- more -->\n\n## 准备工作\n\n1. 安装VS2015\n2. 安装Qt5.10.1\n3. 前往 https://github.com/annulen/webkit/releases 下载对应的文件，比如：qtwebkit-5.212.0_alpha2-qt59-msvc2015-x86.zip\n4. 下载PyQt5.10.1源码\n5. 下载对应版本的sip源码\n\n## 编译\n\n1. 设置环境变量`set PATH=D:\\soft\\Qt\\Qt5.10.1\\5.10.1\\msvc2015\\bin;%PATH%`\n2. 首先进入vs2015命令行编译sip并安装，`python configure.py && nmake && nmake install`\n3. 进入PyQt5.10.1源码编译安装即可\n4. 如果要减少PyQt5.10.1的编译可以试试以下代码\n\n```\nD:\\soft\\Python35\\python configure.py --confirm-license --no-designer-plugin --no-qml-plugin --disable=dbus --disable=QAxContainer --disable=QtAndroidExtras --disable=QtBluetooth --disable=QtDBus --disable=QtDesigner --disable=Enginio --disable=QtLocation --disable=QtMacExtras --disable=QtMultimedia --disable=QtMultimediaWidgets --disable=QtNfc --disable=QtSerialPort --disable=QtSql --disable=QtSvg --disable=QtTest --disable=QtWinExtras --disable=QtX11Extras --disable=QtXml --disable=QtXmlPatterns --disable=pylupdate --disable=pyrcc\n```","tags":["PyQt","QWebView","浏览器"],"categories":["教程"]},{"title":"PyQt5之图片轮播","url":"/article/c054e672.html","content":"\n之前看到了`QStackedWidget`做切换动画，让界面不那么生硬，于是参考了 http://qt.shoutwiki.com/wiki/Extending_QStackedWidget_for_sliding_page_animations_in_Qt 做了一个`QStackedWidget`的切换动画，然后利用`QStackedWidget`结合多个`QLabel`显示图片来做一个轮播效果。\n\n其实在写之前也在网上找了很多例子，参看过后发现大多例子都是利用到了`paintEvent`去绘制，这样其实还是比较麻烦，个人觉得更好的方式是使用`QPropertyAnimation`属性动画修改控件中`QLabel`图片控件的pos位置属性就可以达到移动效果了。\n<!-- more -->\n\n1. 比较核心的算法就是要计算当前页面和下一个页面的位置偏移量，比如:\n\n```python\n# 计算偏移量\noffsetX = self.frameRect().width()\noffsetY = self.frameRect().height()\nw_next.setGeometry(0, 0, offsetX, offsetY)\n\nif direction == self.BOTTOM2TOP:\n    offsetX = 0\n    offsetY = -offsetY\nelif direction == self.TOP2BOTTOM:\n    offsetX = 0\nelif direction == self.RIGHT2LEFT:\n    offsetX = -offsetX\n    offsetY = 0\nelif direction == self.LEFT2RIGHT:\n    offsetY = 0\n\n# 重新定位显示区域外部/旁边的下一个窗口小部件\npnext = w_next.pos()\npnow = w_now.pos()\nself._pnow = pnow\n\n# 移动到指定位置并显示\nw_next.move(pnext.x() - offsetX, pnext.y() - offsetY)\nw_next.show()\nw_next.raise_()\n```\n\n2. 其次是对这两个页面增加关联`pos`属性的`QPropertyAnimation`动画，然后加入到并行动画组`QParallelAnimationGroup`中再启动即可。\n\n3. 对`QStackedWidget`的`setCurrentIndex`和`setCurrentWidget`这两个函数进行了覆盖重写达到及时手动调用这两个函数也会产生动画效果的目的。\n\n## 代码\n\nhttps://github.com/PyQt5/PyQt/blob/master/QPropertyAnimation/PageSwitching.py\n\n## 效果图\n\n![PageSwitching](/PyQt/QPropertyAnimation/ScreenShot/PageSwitching.gif)","tags":["PyQt","动画","轮播"],"categories":["例子"]},{"title":"python 在类里使用进程池","url":"/article/4809cb2f.html","content":"\n1. 首先， 进程池的作用就是减少进程的创建和释放 开销的， 所以在类中作为局部变量是不合适的; \n2. 其次， 进程池必须在`if __name__ == \"__main__\" `里 ，否则会报 frozen_ 什么什么的错误;（这一点可能解释有误）;\n<!-- more -->\n\n3. 然后， 线程池的`apply_async`中如果传入`self.xxx`方法，会报`multiprocessing.Pool pickling error`什么的错误， 具体解释见https://blog.csdn.net/dutsoft/article/details/70336462， 里面有解决方法，但是我没有成功（最开始测试没有现在理解的透彻， 不过应该是可以的）; 由于第1点 不合理， 所以有什么办法在类 函数中获取 进程池对象po的地址： \n\n![processinclass1](/images/processinclass1.png)\n\n我的解决思路和方法是: \n1. 通过globals() 取得全局变量 ， 测试证明 ：不同文件的`globals()`是不同的： 如`Tab2.py `的 `globals()` 和` main_extra_func_file.py`中的 `globals() `是不同的 ， 所以 这样在`Tab2.py`中取不到po对象； \n2. 通过`__main__.po` 来获取 （为什么会想到这个呢， 因为有时候导包 import .xxx 和import xxx 会报 `__main__` 没有什么属性什么的）：\n\n```python\ndef getPoolObject():\n# po 的名字在main函数中定义\n# __main__ 模块在sys.modules 的键是\"__mp_main__\"\n    return sys.modules[\"__mp_main__\"].po\n```\n\nps : (图没截好 ， `rglob_worker` 是外部函数 ， 非类内函数 ，po = getPoolBojcet() 这一行是类内函数 ，红色箭头 2. 在的那条白色分割线 是2个函数。 ) \n\n![processinclass2](/images/processinclass2.png)\n\n`len(po._cache) == 1` : po._cache 是当前有任务的进程数， ==1表示所有任务结束; 利用回调 ， 可以更轻松地进行进程通信。\n","tags":["进程"],"categories":["笔记"]},{"title":"PyQt5之QSlider滑动条点击定位","url":"/article/a3497f7b.html","content":"\n`QSlider` 在通常情况下支持鼠标点击可以任意拖动，或者鼠标点击则往鼠标点击的方向移动一小格，这种移动一小格通常情况下用起来很不方便，比如我要做一个播放器的播放进度条，肯定是点击某个位置就直接跳到该位置，为此需要对 `QSlider` 的鼠标事件`mousePressEvent`进行重写。\n<!-- more -->\n\n## 实现方法\n\n一般的想法就是重写`mousePressEvent`后，得到鼠标点击的x和y点然后进行比例换算，再通过`setValue`来设置值，其实`QSlider`的`style`里面是有一个`sliderValueFromPosition`方法来计算值的。直接调用这个方法即可。\n\n1. 首先通过`QSlider.style().subControlRect`方法计算得到滑块的区域，当鼠标点击区域在此次时则交给系统自己处理（比如按住不放拖动）\n2. 通过`orientation`判断滑动条的方向（横竖）\n3. 通过`invertedAppearance`判断滑动条是否反向（左右、上下）\n4. 通过`QSlider.style().sliderValueFromPosition(最小值, 最大值, x或者y坐标, 宽度或者高度)`来计算得到值\n5. 最后通过`setValue`来设置值\n\n## 代码\n\nhttps://github.com/PyQt5/PyQt/blob/master/QSlider/ClickJumpSlider.py\n\n```python\n#!/usr/bin/env python\n# -*- coding: utf-8 -*-\nfrom PyQt5.QtCore import Qt\nfrom PyQt5.QtWidgets import QSlider, QStyleOptionSlider, QStyle, QWidget,\\\n    QFormLayout, QLabel\n\n\nclass JumpSlider(QSlider):\n\n    def mousePressEvent(self, event):\n        # 获取上面的拉动块位置\n        option = QStyleOptionSlider()\n        self.initStyleOption(option)\n        rect = self.style().subControlRect(\n            QStyle.CC_Slider, option, QStyle.SC_SliderHandle, self)\n        if rect.contains(event.pos()):\n            # 如果鼠标点击的位置在滑块上则交给Qt自行处理\n            super(JumpSlider, self).mousePressEvent(event)\n            return\n        if self.orientation() == Qt.Horizontal:\n            # 横向，要考虑invertedAppearance是否反向显示的问题\n            self.setValue(self.style().sliderValueFromPosition(\n                self.minimum(), self.maximum(),\n                event.x() if not self.invertedAppearance() else (self.width(\n                ) - event.x()), self.width()))\n        else:\n            # 纵向\n            self.setValue(self.style().sliderValueFromPosition(\n                self.minimum(), self.maximum(),\n                (self.height() - event.y()) if not self.invertedAppearance(\n                ) else event.y(), self.height()))\n\n\nclass TestWindow(QWidget):\n\n    def __init__(self, *args, **kwargs):\n        super(TestWindow, self).__init__(*args, **kwargs)\n        layout = QFormLayout(self)\n\n        self.label1 = QLabel('0', self)\n        layout.addRow(self.label1, JumpSlider(\n            Qt.Horizontal, valueChanged=lambda v: self.label1.setText(str(v))))\n\n        # 横向-反向显示\n        self.label2 = QLabel('0', self)\n        layout.addRow(self.label2, JumpSlider(\n            Qt.Horizontal, invertedAppearance=True,\n            valueChanged=lambda v: self.label2.setText(str(v))))\n\n        self.label3 = QLabel('0', self)\n        layout.addRow(self.label3, JumpSlider(\n            Qt.Vertical, minimumHeight=200, valueChanged=lambda v: self.label3.setText(str(v))))\n\n        # 纵向反向显示\n        self.label4 = QLabel('0', self)\n        layout.addRow(self.label4, JumpSlider(\n            Qt.Vertical, invertedAppearance=True,\n            minimumHeight=200, valueChanged=lambda v: self.label4.setText(str(v))))\n\n\nif __name__ == '__main__':\n    import sys\n    import cgitb\n    sys.excepthook = cgitb.enable(1, None, 5, '')\n    from PyQt5.QtWidgets import QApplication\n    app = QApplication(sys.argv)\n    w = TestWindow()\n    w.show()\n    sys.exit(app.exec_())\n```\n\n## 效果图\n\n![ClickJumpSlider](/PyQt/QSlider/ScreenShot/ClickJumpSlider.gif)\n\n","tags":["PyQt","滑动条"],"categories":["例子"]},{"title":"PyQt5仿网页鼠标移动点阵特效","url":"/article/f1af6d66.html","content":"\nOrz，前段时间有个zz需求，就是要做一个类似网页上很多个多点连线、鼠标移动跟随的那种炫酷特效，然后花了点时间在网上找了js做的，刚开始打算是嵌入`QWebView`来显示网页，后来研究了下js的算法代码，遂改用`QWidget`的`paintEvent`直接绘制。\n<!-- more -->\n\n## 大概思路\n\n1. 先根据窗口大小随机创建一些点\n2. 遍历这些点并找到与之相关联的点\n3. 在动画过程中绘制圆点和画两点之间的连线\n4. 属性动画`QPropertyAnimation`改变颜色的透明度\n\n## 题外\n\n1. 这里没有仔细去研究js里的算法优化,在浏览器里嗖嗖的就生成了,在py里好慢....\n2. 尽量在py里优化了循环操作,也简单的做了个cython加速也才提高了1s ? 1倍?...\n3. 不要只是为了好看用这玩意儿,和网页的效果一样,占CPU !!!!!!没有任何意义\n4. 如果有更好的优化算法请告知, 3Q\n5. pyd是python3.4生成的,删掉pyd也能运行\n\n## 代码\n\nhttps://github.com/PyQt5/PyQt/blob/master/QPropertyAnimation/RlatticeEffect.py\n\n```python\n#!/usr/bin/env python\n# -*- coding: utf-8 -*-\nfrom random import random\nfrom time import time\n\nfrom PyQt5.QtCore import QPropertyAnimation, QObject, pyqtProperty, QEasingCurve,\\\n    Qt, QRectF, pyqtSignal\nfrom PyQt5.QtGui import QColor, QPainterPath, QPainter\nfrom PyQt5.QtWidgets import QWidget\n\n\ntry:\n    import pointtool  # @UnusedImport @UnresolvedImport\n    getDistance = pointtool.getDistance\n    findClose = pointtool.findClose\nexcept:\n    import math\n\n    def getDistance(p1, p2):\n        return math.pow(p1.x - p2.x, 2) + math.pow(p1.y - p2.y, 2)\n\n    def findClose(points):\n        plen = len(points)\n        for i in range(plen):\n            closest = [None, None, None, None, None]\n            p1 = points[i]\n            for j in range(plen):\n                p2 = points[j]\n                dte1 = getDistance(p1, p2)\n                if p1 != p2:\n                    placed = False\n                    for k in range(5):\n                        if not placed:\n                            if not closest[k]:\n                                closest[k] = p2\n                                placed = True\n                    for k in range(5):\n                        if not placed:\n                            if dte1 < getDistance(p1, closest[k]):\n                                closest[k] = p2\n                                placed = True\n            p1.closest = closest\n\n\nclass Target:\n\n    def __init__(self, x, y):\n        self.x = x\n        self.y = y\n\n\nclass Point(QObject):\n\n    valueChanged = pyqtSignal()\n\n    def __init__(self, x, ox, y, oy, *args, **kwargs):\n        super(Point, self).__init__(*args, **kwargs)\n        self.__x = x\n        self._x = x\n        self.originX = ox\n        self._y = y\n        self.__y = y\n        self.originY = oy\n        # 5个闭合点\n        self.closest = [0, 0, 0, 0, 0]\n        # 圆半径\n        self.radius = 2 + random() * 2\n        # 连线颜色\n        self.lineColor = QColor(156, 217, 249)\n        # 圆颜色\n        self.circleColor = QColor(156, 217, 249)\n\n    def initAnimation(self):\n        # 属性动画\n        if not hasattr(self, 'xanimation'):\n            self.xanimation = QPropertyAnimation(\n                self, b'x', self, valueChanged=self.valueChanged.emit,\n                easingCurve=QEasingCurve.InOutSine)\n            self.yanimation = QPropertyAnimation(\n                self, b'y', self, valueChanged=self.valueChanged.emit,\n                easingCurve=QEasingCurve.InOutSine,\n                finished=self.updateAnimation)\n            self.updateAnimation()\n\n    def updateAnimation(self):\n        self.xanimation.stop()\n        self.yanimation.stop()\n        duration = (1 + random()) * 1000\n        self.xanimation.setDuration(duration)\n        self.yanimation.setDuration(duration)\n        self.xanimation.setStartValue(self.__x)\n        self.xanimation.setEndValue(self.originX - 50 + random() * 100)\n        self.yanimation.setStartValue(self.__y)\n        self.yanimation.setEndValue(self.originY - 50 + random() * 100)\n        self.xanimation.start()\n        self.yanimation.start()\n\n    @pyqtProperty(float)\n    def x(self):\n        return self._x\n\n    @x.setter\n    def x(self, x):\n        self._x = x\n\n    @pyqtProperty(float)\n    def y(self):\n        return self._y\n\n    @y.setter\n    def y(self, y):\n        self._y = y\n\n\nclass Window(QWidget):\n\n    def __init__(self, *args, **kwargs):\n        super(Window, self).__init__(*args, **kwargs)\n        self.setMouseTracking(True)\n        self.resize(800, 600)\n        self.points = []\n        self.target = Target(self.width() / 2, self.height() / 2)\n        self.initPoints()\n\n    def paintEvent(self, event):\n        super(Window, self).paintEvent(event)\n        painter = QPainter()\n        painter.begin(self)\n        painter.setRenderHint(QPainter.Antialiasing)\n        painter.fillRect(self.rect(), Qt.black)\n        self.animate(painter)\n        painter.end()\n\n    def mouseMoveEvent(self, event):\n        super(Window, self).mouseMoveEvent(event)\n        # 鼠标移动时更新xy坐标\n        self.target.x = event.x()\n        self.target.y = event.y()\n        self.update()\n\n    def initPoints(self):\n        t = time()\n        self.points.clear()\n        # 创建点\n        stepX = self.width() / 20\n        stepY = self.height() / 20\n        for x in range(0, self.width(), int(stepX)):\n            for y in range(0, self.height(), int(stepY)):\n                ox = x + random() * stepX\n                oy = y + random() * stepY\n                point = Point(ox, ox, oy, oy)\n                point.valueChanged.connect(self.update)\n                self.points.append(point)\n        print(time() - t)\n\n        t = time()\n        # 每个点寻找5个闭合点\n        findClose(self.points)\n        print(time() - t)\n\n    def animate(self, painter):\n        for p in self.points:\n            # 检测点的范围\n            value = abs(getDistance(self.target, p))\n            if value < 4000:\n                # 其实就是修改颜色透明度\n                p.lineColor.setAlphaF(0.3)\n                p.circleColor.setAlphaF(0.6)\n            elif value < 20000:\n                p.lineColor.setAlphaF(0.1)\n                p.circleColor.setAlphaF(0.3)\n            elif value < 40000:\n                p.lineColor.setAlphaF(0.02)\n                p.circleColor.setAlphaF(0.1)\n            else:\n                p.lineColor.setAlphaF(0)\n                p.circleColor.setAlphaF(0)\n\n            # 画线条\n            if p.lineColor.alpha():\n                for pc in p.closest:\n                    if not pc:\n                        continue\n                    path = QPainterPath()\n                    path.moveTo(p.x, p.y)\n                    path.lineTo(pc.x, pc.y)\n                    painter.save()\n                    painter.setPen(p.lineColor)\n                    painter.drawPath(path)\n                    painter.restore()\n\n            # 画圆\n            painter.save()\n            painter.setPen(Qt.NoPen)\n            painter.setBrush(p.circleColor)\n            painter.drawRoundedRect(QRectF(\n                p.x - p.radius, p.y - p.radius, 2 * p.radius, 2 * p.radius), p.radius, p.radius)\n            painter.restore()\n\n            # 开启动画\n            p.initAnimation()\n\n\nif __name__ == '__main__':\n    import sys\n    import cgitb\n    sys.excepthook = cgitb.enable(1, None, 5, '')\n    from PyQt5.QtWidgets import QApplication\n    app = QApplication(sys.argv)\n    w = Window()\n    w.show()\n    sys.exit(app.exec_())\n```\n\n## 效果图\n\n![RlatticeEffect](/PyQt/QPropertyAnimation/ScreenShot/RlatticeEffect.gif)\n\n","tags":["PyQt","动画","特效"],"categories":["例子"]},{"title":"QDataWidgetMapper 数据库绑定 QLineEdit控件","url":"/article/1ed0f370.html","content":"\nqt为操作数据库提供了一个model+view的模式 , 这样简单的出入库逻辑就不需要自己编写。\n\n`QDataWidgetMapper` 可以 将数据库的数据 映射到其他控件 。\n\n注意: 表格里的数据修改 还没有提交到数据库 , 需要点击提交按钮才生效。\n<!-- more -->\n\nhttps://github.com/PyQt5/PyQt/tree/master/Test/partner_625781186/16_sqlModel/01_mapper\n\n## 代码\n\n```python\n#-*- coding: utf-8 -*-\n\nfrom PyQt5 import  QtWidgets, QtGui, QtCore\nfrom PyQt5.QtCore import *\nfrom PyQt5.QtGui import *\nfrom PyQt5.QtWidgets import *\nfrom PyQt5.QtSql import *\n\nimport sys\n\nsys.path.append('./ui')\nfrom Ui_MainWindow import Ui_MainWindow\n\n\nclass MainWindow(QMainWindow, Ui_MainWindow):\n    def __init__(self, parent=None, *args):\n\n        super(MainWindow, self).__init__(parent,  *args)\n        self.setupUi(self)\n        self.resize(800,600)\n        \n        #===============================   db   ======================================#\n        # self.db = QSqlDatabase.addDatabase('QMYSQL')\n        # self.db.setHostName(\"127.0.0.1\")  # set address\n        # self.db.setUserName(\"root\")  # set user name\n        # self.db.setPassword('123456')  # set user pwd   \n        # self.db.setDatabaseName(\"database\")\n        \n        self.db = QSqlDatabase.addDatabase('QSQLITE')\n        self.db.setDatabaseName('./db/database.db')\n\n        #================================= codemodel =====================================#\n        # 实例化model\n        self.codeModel = QSqlRelationalTableModel()\n        # model设置表\n        self.initializeModel(self.codeModel, 'Mongo')\n        # 设置编辑策略\n        # self.codeModel.setEditStrategy(QSqlTableModel.OnFieldChange)\n        # !!! 这里要注意 , 只能用这个策略 , 才可以实现自动提交\n        self.codeModel.setEditStrategy(QSqlTableModel.OnManualSubmit)\n\n        self.codeView = self.createView(\"code_View\", self.codeModel)\n        self.verticalLayout.addWidget(self.codeView)  \n\n        #================================ initData ==================================#\n        # 数据映射\n        self.mapper = QDataWidgetMapper()\n        # 提交策略\n        self.mapper.setSubmitPolicy(QDataWidgetMapper.AutoSubmit)\n        # 映射的模型源\n        self.mapper.setModel(self.codeModel)\n        self.mapper.addMapping(self.l1,0)\n        self.mapper.addMapping(self.l2,1)\n        self.mapper.addMapping(self.l3,2)\n        self.mapper.addMapping(self.l4,3)\n        self.mapper.addMapping(self.l5,4)\n\n        self.mapper.toFirst()\n        \n        #================================ pushButton ==================================#\n        self.sub_btn.clicked.connect(self.mapper.submit)\n        self.sub_btn.clicked.connect(self.codeModel.submitAll)\n        self.pre_btn.clicked.connect(self.mapper.toPrevious)\n        self.next_btn.clicked.connect(self.mapper.toNext)\n        \n    def initializeModel(self, model, tablename):\n        '''重关联。'''\n        model.setTable(tablename)\n#        model.setEditStrategy(QSqlTableModel.OnRowChange)\n        model.select()\n        \n    def createView(self, title, model):\n        '''创建TableView视图'''\n        view =  QTableView()\n        view.setModel(model)\n        view.setWindowTitle(title)\n        #列宽设置\n        view.horizontalHeader().setSectionResizeMode(3)\n        #行高设置\n        view.verticalHeader().setSectionResizeMode(1)\n        #充满列宽\n        view.horizontalHeader().setStretchLastSection(True) \n#        view.verticalHeader().setVisible(False)#隐藏行标题\n        #标题左对齐\n        view.horizontalHeader().setDefaultAlignment(Qt.AlignLeft)\n        #标题左对齐\n        view.verticalHeader().setDefaultAlignment(Qt.AlignLeft)\n        \n        return view  \n    \n\nif __name__ == \"__main__\":\n    import sys\n    \n    app = QApplication(sys.argv)\n    app.setStyle(QStyleFactory.create(\"Fusion\"))\n    ui = MainWindow()\n    ui.show()\n    sys.exit(app.exec_())\n```\n\n## 效果图\n\n![datawidgetmapper](/images/datawidgetmapper.gif)\n\n","tags":["PyQt","Model"],"categories":["例子"]},{"title":"PyQt5显示.9格式的PNG图片","url":"/article/26350c05.html","content":"\n做过安卓开发的和使用过QQ的都知道`.9.png`这种图片格式，效果就如QQ的聊天气泡一样可以拉伸，这种格式的图片允许开发人员定义可扩展区域，当需要延伸图片以填充比图片本身更大区域时，可扩展区的内容被延展；允许开发人员定义内容显示区，用于显示文字或其他内容。目前在`Github`上有两个C++版本的，在这里我把它们都用Python实现了一遍。另外一个我也为`PyQt`提供了编译好的pyd文件。\n<!-- more -->\n\n## C++版本\n\n在Github开源库中搜索到两个C++版本的\n\n1. 一个是 [NinePatchQt](https://github.com/Roninsc2/NinePatchQt)\n2. 一个是 [QtNinePatch](https://github.com/soramimi/QtNinePatch)\n\n## PyQt5版本\n\n这里也分为两个版本，都是基于上面的C++源码翻译改写过来的，具体的例子见项目里面的测试代码吧。\n\n1. [QtNinePatch](https://github.com/PyQt5/PyQt/blob/master/QLabel/QtNinePatch.py)是参考第一个源码编写，用法是在`paintEvent`中调用\n2. [QtNinePatch2](https://github.com/PyQt5/PyQt/blob/master/QLabel/QtNinePatch2.py)是参考第二个源码编写，用法是`pixmap = QtNinePatch.createPixmapFromNinePatchImage(self.image, self.width(), self.height())`直接得到一个处理好的`QPixmap`对象来使用\n\n## 说明\n\n1. 建议优先使用pyd版本的（后续提供Python3.4 3.5 3.6 3.7 编译好的32为库文件），也可以自行编译，编译步骤见下文。\n2. 其次可以使用纯python版本2的（个人觉得方便调用）\n3. 最后再考虑纯python版本1的吧\n4. 以上为个人意见，两个C++版本的写法不一样，但是核心算法应该是类似的。\n\n## 自行编译\n\n1. 首先要安装好Qt、PyQt5、编译安装对应的sip、对应的VC++编译工具\n2. 用Qt Creator 打开pro文件进行编译\n3. 进入源码中的sip文件夹修改configure.py文件\n```\n# 这里是你的VC版本和对应的Qt目录中的文件夹\nconfig.platform = \"win32-msvc2010\"\nqt_path = 'D:/soft/Qt/Qt5.5.1/5.5/msvc2010'\n```\n4. 最后执行python configure.py来编译\n\n## 下载\n\nhttps://github.com/PyQt5/PyQt/tree/master/QLabel\n\n## 效果图\n\n![NinePatchImage](/PyQt/QLabel/ScreenShot/NinePatchImage.gif)\n\n","tags":["PyQt","图片","气泡",".9png"],"categories":["例子"]},{"title":"PyQt5菜单之多选功能","url":"/article/e22868ec.html","content":"\n有时候会遇到这种需求：在界面某个位置弹出一个菜单，其中里面的菜单项可以多选（类似配置选项），此时用`QMenu`会遇到点击一个菜单项就会自动关闭，当然可以通过其他方式实现该功能，不过这里就采用`QMenu`通过特殊的方式来实现该需求。\n<!-- more -->\n\n## 需求\n\n要实现的效果：\n\n1. 菜单1\n2. 菜单2\n3. 菜单3\n4. 菜单4\n\n点击菜单1、2、3可以多选不关闭菜单\n\n点击菜单4可以勾选，并且关闭菜单\n\n## 原理\n\n1. 设置菜单项可勾选：通过`QAction.setCheckable(True)`方法实现\n2. 设置菜单不可关闭：通过覆盖QMenu的鼠标释放`mouseReleaseEvent`方法（可直接替换或者通过`installEventFilter`安装事件过滤器实现）\n3. 在菜单的鼠标释放事件中，当点击菜单项后是通过点击点坐标来查找是否有`QAction`，然后触发对应的`QAction`。\n4. 故在没有`QAction`的地方则直接交还给`QMenu`自行处理逻辑，在有`QAction`的地方可以根据自己的需求进行处理（如上所提）\n\n## 代码\n\n```python\n#!/usr/bin/env python\n# -*- coding: utf-8 -*-\nfrom PyQt5.QtWidgets import QWidget, QVBoxLayout, QLabel, QPushButton, QMenu,\\\n    QAction\n\n\nclass Window(QWidget):\n\n    def __init__(self, *args, **kwargs):\n        super(Window, self).__init__(*args, **kwargs)\n        layout = QVBoxLayout(self)\n        self.labelInfo = QLabel(self)\n        self.button = QPushButton('带按钮的菜单', self)\n        layout.addWidget(self.labelInfo)\n        layout.addWidget(self.button)\n\n        # 添加菜单\n        self._initMenu()\n\n    def _initMenu(self):\n        # 创建菜单\n        self._menu = QMenu(self.button)\n        # 替换menu的鼠标释放事件达到选择性不关闭菜单\n        self._menu.mouseReleaseEvent = self._menu_mouseReleaseEvent\n        self._menu.addAction('菜单1', self._checkAction)\n        self._menu.addAction('菜单2', self._checkAction)\n        self._menu.addAction(\n            QAction('菜单3', self._menu, triggered=self._checkAction))\n        action = QAction('菜单4', self._menu, triggered=self._checkAction)\n        # 添加自定义的属性,判断该属性可以关闭菜单\n        action.setProperty('canHide', True)\n        self._menu.addAction(action)\n        for action in self._menu.actions():\n            # 循环设置可勾选\n            action.setCheckable(True)\n        self.button.setMenu(self._menu)\n\n    def _menu_mouseReleaseEvent(self, event):\n        action = self._menu.actionAt(event.pos())\n        if not action:\n            # 没有找到action就交给QMenu自己处理\n            return QMenu.mouseReleaseEvent(self._menu, event)\n        if action.property('canHide'):  # 如果有该属性则给菜单自己处理\n            return QMenu.mouseReleaseEvent(self._menu, event)\n        # 找到了QAction则只触发Action\n        action.activate(action.Trigger)\n\n    def _checkAction(self):\n        # 三个action都响应该函数\n        self.labelInfo.setText('\\n'.join(['{}\\t选中：{}'.format(\n            action.text(), action.isChecked()) for action in self._menu.actions()]))\n\n\nif __name__ == '__main__':\n    import sys\n    import cgitb\n    sys.excepthook = cgitb.enable(1, None, 5, 'text')\n    from PyQt5.QtWidgets import QApplication\n    app = QApplication(sys.argv)\n    w = Window()\n    w.resize(400, 400)\n    w.show()\n    sys.exit(app.exec_())\n```\n\n## 效果图\n\n![MultiSelect](/PyQt/QMenu/ScreenShot/MultiSelect.gif)","tags":["PyQt","菜单"],"categories":["例子"]},{"title":"多线程之守护线程和阻塞线程","url":"/article/f76099fa.html","content":"\n如果你设置一个线程为守护线程，就表示你在说这个线程是不重要的，在进程退出的时候，不用等待这个线程退出。如果你的主线程在退出的时候，不用等待那些子线程完成，那就设置这些线程的daemon属性。\n<!-- more -->\n\n即在线程开始（thread.start()）之前，调用setDeamon（）函数，设定线程的daemon标志。\n\n（thread.setDaemon(True)）就表示这个线程“不重要”。\n\n如果你想等待子线程完成再退出，那就什么都不用做，或者显示地调用thread.setDaemon(False)，设置daemon的值为false。新的子线程会继承父线程的daemon标志。\n\n整个Python会在所有的非守护线程退出后才会结束，即进程中没有非守护线程存在的时候才结束。\n\nsetDaemon()函数要放在start之前设置才行。\n\n```python\nimport threading\nimport time\n\ndef func():\n    print(\"子线程开启：\", time.localtime())\n    time.sleep(2)\n    print(\"子线程结束：\", time.localtime())\n\n\nprint(\"主线程开启：\", time.localtime())\nt = threading.Thread(target=func, args=())\n# t.setDaemon(True)\nt.start()\nprint(\"主线程关闭：\", time.localtime())\n```\n\n在 Python 的多线程编程中，在实例代码中经常有 thread1.join()这样的代码。那么今天咱们用实际代码来解释一下 join 函数的作用。\n\njoin的原理就是依次检验线程池中的线程是否结束，没有结束就阻塞直到线程结束，如果结束则跳转执行下一个线程的join函数。\n\n先看看这个：\n\n1. 阻塞主进程，专注于执行多线程中的程序。\n2. 多线程多join的情况下，依次执行各线程的join方法，前头一个结束了才能执行后面一个。\n3. 无参数，则等待到该线程结束，才开始执行下一个线程的join。\n4. 参数timeout为线程的阻塞时间，如 timeout=2 就是罩着这个线程2s 以后，就不管他了，继续执行下面的代码。\n5. 下面的例子是一次阻塞子线程，每个子线程都会等上个子线程join结束才会执行,如果注释掉t.join则会同时执行5个子线程，多线程在做网络访问的时候可以减少等待时间，那么在一个工作流程中可以将访问网络接口的情况做成多线程。\n\n```python\nimport threading, time\n\ndef func():\n    print(\"hello world!\")\n    time.sleep(1)\n\nprint(\"hello main start\")\nfor i in range(5):\n    t = threading.Thread(target=func, args=())\n    print(t.getName())\n    t.start()\n    t.join()\n```","tags":["Python","线程"],"categories":["笔记"]},{"title":"PyQt5结合Asyncio异步","url":"/article/52cdee24.html","content":"\n今天尝试了下[quamash](https://github.com/harvimt/quamash)框架，该框架是一个`PyQt`的异步事件循环封装库，使用Python3+ 的`asyncio`这个异步库。在看了该项目的内容后发现只有一个简单的进度条例子，故尝试用其来下载网络图片并显示。\n<!-- more -->\n\n## 安装依赖\n\n1. pip install quamash\n2. pip install aiohttp\n3. Python3.5+ 和 PyQt5\n\n这里使用`aiohttp`是因为它基于`asyncio`封装的网络操作库，常见的`get`、`post`等方法，不过它只支持Python3.5及以上的版本，主要是它使用了async def 这样的语法。\n\n## 说明\n\n1. 在创建`QApplication`后随即设置替换事件循环`loop`\n```python\napp = QApplication(sys.argv)\nloop = QEventLoop(app)\nasyncio.set_event_loop(loop)\nw = Window()\n```\n2. 通过`asyncio.ensure_future(func(), loop=loop)`来执行某个异步函数\n\n## 流程\n\n|           |    |                             |\n|:----------|:--:|----------------------------:|\n| Window    |  → | initSession（初始化session） |\n| ↓         |    |                             |\n| 下载按钮   |  → | doDownload（执行_doDownload方法） |\n| ↓         |    |                             |\n| session.get（下载json数据进行解析） |   |      |\n| ↓         |    |                             |\n| 添加到界面 |  ← | _doDownloadImage（对单张图片进行下载） |\n\n## 源码\n\n```python\n#!/usr/bin/env python\n# -*- coding: utf-8 -*-\nimport asyncio\n\nfrom PyQt5.QtCore import Qt\nfrom PyQt5.QtGui import QPixmap, QMovie\nfrom PyQt5.QtWidgets import QWidget, QVBoxLayout, QPushButton,\\\n    QApplication, QListWidget, QListWidgetItem, QLabel, QMessageBox\nimport aiohttp\nfrom quamash import QEventLoop\n\nUrl = 'https://www.doutula.com/api/search?keyword=%E6%9C%80%E6%96%B0%E8%A1%A8%E6%83%85&mime=0&page={}'\nHeaders = {\n    ':authority': 'www.doutula.com',\n    ':method': 'GET',\n    ':scheme': 'https',\n    'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',\n    'accept-language': 'zh-CN,zh;q=0.9',\n    'cache-control': 'max-age=0',\n    'dnt': '1',\n    'upgrade-insecure-requests': '1',\n    'user-agent': 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.26 Safari/537.36 Core/1.63.6756.400 QQBrowser/10.2.2498.400'\n}\n\n\nclass Window(QWidget):\n\n    def __init__(self, *args, **kwargs):\n        super(Window, self).__init__(*args, **kwargs)\n        layout = QVBoxLayout(self)\n        self.listWidget = QListWidget(self)\n        self.listWidget.setSpacing(2)  # item直接的间隔\n        # 隐藏横向滚动条\n        self.listWidget.setHorizontalScrollBarPolicy(Qt.ScrollBarAlwaysOff)\n        # 让list 从左到右排列\n        self.listWidget.setFlow(self.listWidget.LeftToRight)\n        # 自动换行\n        self.listWidget.setWrapping(True)\n        self.listWidget.setResizeMode(self.listWidget.Adjust)\n\n        self.buttonMsg = QPushButton('弹出提示框', self, clicked=self.showMessage)\n        self.buttonDown = QPushButton('下载图片', self, clicked=self.doDownload)\n        layout.addWidget(self.listWidget)\n        layout.addWidget(self.buttonMsg)\n        layout.addWidget(self.buttonDown)\n        self.currentPage = 0\n        self.initSession()  # 其实没必要，session主要用在需要登录的网站。缓存cookie用\n\n    def initSession(self):\n        async def _initSession():\n            # 初始化session\n            self.session = aiohttp.ClientSession(loop=loop)\n            print(self.session)\n        asyncio.ensure_future(_initSession(), loop=loop)\n\n    async def _doDownloadImage(self, url):\n        # 下载图片并添加到界面\n        async with self.session.get(url) as resp:\n            data = await resp.read()\n            if not data:\n                print('下载失败: ', url)\n                return\n            path = os.path.join('tmp', os.path.basename(url))\n            with open(path, 'wb') as fp:\n                fp.write(data)\n            item = QListWidgetItem(url, self.listWidget)\n            image = QPixmap(path)\n            item.setSizeHint(image.size())\n            label = QLabel(self.listWidget)\n            label.setPixmap(image)\n            if path.endswith('.gif'):  # 可能是动态图\n                label.setMovie(QMovie(path))\n            self.listWidget.setItemWidget(item, label)\n            self.listWidget.scrollToBottom()\n\n    async def _doDownload(self):\n        # 下载工作\n        if self.currentPage == -1:\n            QMessageBox.information(self, '提示', '已经没有更多了')\n            return\n        self.currentPage += 1\n        url = Url.format(self.currentPage)\n        print('get url: ', url)\n        async with self.session.get(url, headers=Headers) as resp:\n            data = await resp.json()\n            if not data:\n                return\n            data = data.get('data', None)\n            if not data:\n                self.currentPage = -1\n                print('已经是最后一页了')\n                return\n            # 解析json并生成item添加到界面中\n            for entity in data.get('list', []):\n                url = entity.get('image_url', None)\n                if not url:\n                    continue\n                await self._doDownloadImage(url)  # 下载图片\n\n    def doDownload(self):\n        # 响应按钮点击调用\n        asyncio.ensure_future(self._doDownload(), loop=loop)\n\n    def showMessage(self):\n        # 显示对话框\n        app.aboutQt()\n\n    def closeEvent(self, event):\n        if not self.session.closed:\n            asyncio.ensure_future(self.session.close(), loop=loop)\n        super(Window, self).closeEvent(event)\n\n\nif __name__ == '__main__':\n    import sys\n    import cgitb\n    import os\n    os.makedirs('tmp', exist_ok=True)\n    sys.excepthook = cgitb.enable(1, None, 5, 'text')\n    app = QApplication(sys.argv)\n    loop = QEventLoop(app)\n    asyncio.set_event_loop(loop)\n    w = Window()\n    w.show()\n    with loop:\n        loop.run_forever()\n```\n\n## 效果图\n\n![pyqt5asyncio](/images/pyqt5asyncio.gif)","tags":["PyQt","Asyncio","异步"],"categories":["例子"]},{"title":"PyQt5仿网页图片鼠标移动特效","url":"/article/919044c2.html","content":"\nem，就是类似于那种游戏官网首页的图片，鼠标放上去后来回移动，图片的前景和背景错位移动。\n<!-- more -->\n\n## 原理分析\n\n1. 2张一样大小的透明图片，1张作为背景，一张作为前景（比如说人物）。\n2. 当鼠标往左移动时，前景人物跟着往左移动，背景往右移动\n3. 计算好偏移量（见代码中）\n\nhttps://github.com/PyQt5/PyQt/blob/master/QLabel/ImageSlipped.py\n\n## 关键代码\n\n```python\n#!/usr/bin/env python\n# -*- coding: utf-8 -*-\nfrom PyQt5.QtGui import QPixmap, QPainter\nfrom PyQt5.QtWidgets import QWidget\n\n\n\nclass SlippedImgWidget(QWidget):\n\n    def __init__(self, bg, fg, *args, **kwargs):\n        super(SlippedImgWidget, self).__init__(*args, **kwargs)\n        # 开启鼠标跟踪\n        self.setMouseTracking(True)\n        # 背景\n        self.bgPixmap = QPixmap(bg)\n        # 前景\n        self.pePixmap = QPixmap(fg)\n        # 最小尺寸(背景右边和下方隐藏10个像素)\n        size = self.bgPixmap.size()\n        self.setMinimumSize(size.width() - 10, size.height() - 10)\n        self.setMaximumSize(size.width() - 10, size.height() - 10)\n        # 分成10份用于鼠标移动判断\n        self.stepX = size.width() / 10\n        self.stepY = size.height() / 10\n        # 偏移量\n        self._offsets = [-4, -4, -4, -4]  # 背景(-4,-4),前景(-4,-4)\n\n    def mouseMoveEvent(self, event):\n        super(SlippedImgWidget, self).mouseMoveEvent(event)\n        pos = event.pos()\n\n        # 偏移量\n        offsetX = 5 - int(pos.x() / self.stepX)\n        offsetY = 5 - int(pos.y() / self.stepY)\n        self._offsets[0] = offsetX\n        self._offsets[1] = offsetY\n        self._offsets[2] = offsetX\n        self._offsets[3] = offsetY\n        # 刷新\n        self.update()\n\n    def paintEvent(self, event):\n        super(SlippedImgWidget, self).paintEvent(event)\n        # 绘制图形\n        painter = QPainter(self)\n        painter.setRenderHint(QPainter.Antialiasing)\n        # 左上角偏移5个像素画背景图片\n        painter.drawPixmap(\n            -5 + self._offsets[0],\n            -5 + self._offsets[1], self.bgPixmap)\n        # 右下角偏移5个像素画前景图片\n        painter.drawPixmap(\n            self.width() - self.pePixmap.width() + 5 - self._offsets[2],\n            self.height() - self.pePixmap.height() + 5 - self._offsets[3],\n            self.pePixmap\n        )\n\n\nif __name__ == '__main__':\n    import sys\n    from PyQt5.QtWidgets import QApplication\n    app = QApplication(sys.argv)\n    w = SlippedImgWidget('images/bg.png', 'images/fg.png')\n    w.show()\n    sys.exit(app.exec_())\n```\n\n## 效果图\n\n![ImageSlipped](/PyQt/QLabel/ScreenShot/ImageSlipped.gif)","tags":["PyQt","特效"],"categories":["例子"]},{"title":"PyQt5窗口跟随其它窗口","url":"/article/2241662d.html","content":"\n要实现`PyQt`窗口跟随其它外部的窗口，能想到两点办法，一个是hook系统事件得到目标窗口的位置和大小以及是否关闭等，二是通过循环检测窗口的位置来实现。\n<!-- more -->\n\n## 基于Windows定时检测目标窗口\n\n1. 利用`win32gui`模块获取目标窗口的句柄\n2. 通过句柄获取目标窗口的大小位置，并设置自己的位置\n3. 主要是检测时间，在10毫秒以下很流畅\n4. 窗口关闭是根据目标句柄无效来判断\n\nhttps://github.com/PyQt5/PyQt/blob/master/Demo/FollowWindow.py\n\n## 代码\n\n```python\n#!/usr/bin/env python\n# -*- coding: utf-8 -*-\n\nimport os\n\nfrom PyQt5.QtCore import QTimer\nfrom PyQt5.QtWidgets import QWidget, QVBoxLayout, QPushButton\nimport win32gui\n\n\nclass Window(QWidget):\n\n    def __init__(self, *args, **kwargs):\n        super(Window, self).__init__(*args, **kwargs)\n        layout = QVBoxLayout(self)\n        layout.addWidget(QPushButton('test', self))\n        self.tmpHwnd = None\n        # 启动定时器检测记事本的位置大小和是否关闭\n        self.checkTimer = QTimer(self, timeout=self.checkWindow)\n        self.checkTimer.start(10)  # 10毫秒比较流畅\n\n    def checkWindow(self):\n        # 查找\n        hwnd = win32gui.FindWindow('Notepad', None)\n        if self.tmpHwnd and not hwnd:\n            # 表示记事本关闭了\n            self.checkTimer.stop()\n            self.close()  # 关闭自己\n            return\n        if not hwnd:\n            return\n        self.tmpHwnd = hwnd\n        # 获取位置\n        rect = win32gui.GetWindowRect(hwnd)\n        print(rect)\n        self.move(rect[2], rect[1])\n\n\nif __name__ == '__main__':\n    import sys\n    from PyQt5.QtWidgets import QApplication\n    # 先检测是否已有记事本打开\n    hwnd = win32gui.FindWindow('Notepad', None)\n    print('hwnd', hwnd)\n    if not hwnd:\n        # 启动记事本\n        os.startfile('notepad')\n    app = QApplication(sys.argv)\n    w = Window()\n    w.show()\n    sys.exit(app.exec_())\n```\n\n## 效果图\n\n![FollowWindow](/PyQt/Demo/ScreenShot/FollowWindow.gif)","tags":["PyQt","窗口"],"categories":["PyQt"]},{"title":"PyQt5窗口跟随其它窗口","url":"/article/2241662d.html","content":"\n要实现`PyQt`窗口跟随其它外部的窗口，能想到两点办法，一个是hook系统事件得到目标窗口的位置和大小以及是否关闭等，二是通过循环检测窗口的位置来实现。\n<!-- more -->\n\n## 基于Windows定时检测目标窗口\n\n1. 利用`win32gui`模块获取目标窗口的句柄\n2. 通过句柄获取目标窗口的大小位置，并设置自己的位置\n3. 主要是检测时间，在10毫秒以下很流畅\n4. 窗口关闭是根据目标句柄无效来判断\n\nhttps://github.com/PyQt5/PyQt/blob/master/Demo/FollowWindow.py\n\n## 代码\n\n```python\n#!/usr/bin/env python\n# -*- coding: utf-8 -*-\nimport os\n\nfrom PyQt5.QtCore import QTimer\nfrom PyQt5.QtWidgets import QWidget, QVBoxLayout, QPushButton\nimport win32gui\n\n\nclass Window(QWidget):\n\n    def __init__(self, *args, **kwargs):\n        super(Window, self).__init__(*args, **kwargs)\n        layout = QVBoxLayout(self)\n        layout.addWidget(QPushButton('test', self))\n        self.tmpHwnd = None\n        # 启动定时器检测记事本的位置大小和是否关闭\n        self.checkTimer = QTimer(self, timeout=self.checkWindow)\n        self.checkTimer.start(10)  # 10毫秒比较流畅\n\n    def checkWindow(self):\n        # 查找\n        hwnd = win32gui.FindWindow('Notepad', None)\n        if self.tmpHwnd and not hwnd:\n            # 表示记事本关闭了\n            self.checkTimer.stop()\n            self.close()  # 关闭自己\n            return\n        if not hwnd:\n            return\n        self.tmpHwnd = hwnd\n        # 获取位置\n        rect = win32gui.GetWindowRect(hwnd)\n        print(rect)\n        self.move(rect[2], rect[1])\n\n\nif __name__ == '__main__':\n    import sys\n    from PyQt5.QtWidgets import QApplication\n    # 先检测是否已有记事本打开\n    hwnd = win32gui.FindWindow('Notepad', None)\n    print('hwnd', hwnd)\n    if not hwnd:\n        # 启动记事本\n        os.startfile('notepad')\n    app = QApplication(sys.argv)\n    w = Window()\n    w.show()\n    sys.exit(app.exec_())\n```\n\n## 效果图\n\n![FollowWindow](/PyQt/Demo/ScreenShot/FollowWindow.gif)","tags":["PyQt","窗口"],"categories":["例子"]},{"title":"PyQt5动画边框阴影","url":"/article/5a4e93df.html","content":"\n为子控件增加动画阴影效果，结合`QGraphicsDropShadowEffect`和`QPropertyAnimation`动态改变阴影半径达到效果，在旧版本的Qt中`QGraphicsDropShadowEffect`可能会有点问题（父控件会影响子控件）\n<!-- more -->\n\n## 原理\n\n原理是利用QGraphicsDropShadowEffect添加边框阴影，然后使用动画不停改变阴影的模糊半径来达到效果，如图：\n\n![ShadowEffect](/PyQt/QGraphicsDropShadowEffect/ScreenShot/ShadowEffect.gif)\n\n## 简单说明\n\n1. 继承`QGraphicsDropShadowEffect`增加动态属性`radius`\n2. 通过`setGraphicsEffect`方法设置控件的边框阴影\n3. 通过`QPropertyAnimation`属性动画不断改变`radius`的值并调用`setBlurRadius`更新半径值\n\nhttps://github.com/PyQt5/PyQt/blob/master/QGraphicsDropShadowEffect/ShadowEffect.py\n\n## 自定义类\n\n```python\n#!/usr/bin/env python\n# -*- coding: utf-8 -*-\nfrom PyQt5.QtCore import QPropertyAnimation, pyqtProperty\nfrom PyQt5.QtWidgets import QGraphicsDropShadowEffect\n\n\n\nclass AnimationShadowEffect(QGraphicsDropShadowEffect):\n\n    def __init__(self, color, *args, **kwargs):\n        super(AnimationShadowEffect, self).__init__(*args, **kwargs)\n        self.setColor(color)\n        self.setOffset(0, 0)\n        self.setBlurRadius(0)\n        self._radius = 0\n        self.animation = QPropertyAnimation(self)\n        self.animation.setTargetObject(self)\n        self.animation.setDuration(2000)  # 一次循环时间\n        self.animation.setLoopCount(-1)  # 永久循环\n        self.animation.setPropertyName(b'radius')\n        # 插入线行值\n        self.animation.setKeyValueAt(0, 1)\n        self.animation.setKeyValueAt(0.5, 30)\n        self.animation.setKeyValueAt(1, 1)\n\n    def start(self):\n        self.animation.start()\n\n    @pyqtProperty(int)\n    def radius(self):\n        return self._radius\n\n    @radius.setter\n    def radius(self, r):\n        self._radius = r\n        self.setBlurRadius(r)\n```\n\n## 测试代码\n\n```python\n#!/usr/bin/env python\n# -*- coding: utf-8 -*-\n\n\"\"\"\nCreated on 2018年9月25日\n@author: Irony\n@site: https://pyqt5.com, https://github.com/892768447\n@email: 892768447@qq.com\n@file: Test\n@description: \n\"\"\"\nfrom PyQt5.QtCore import Qt\nfrom PyQt5.QtGui import QPixmap\nfrom PyQt5.QtWidgets import QWidget, QHBoxLayout, QLabel, QPushButton, QLineEdit\n\nfrom AnimationShadowEffect import AnimationShadowEffect  # @UnresolvedImport\n\n\n__Author__ = \"\"\"By: Irony\nQQ: 892768447\nEmail: 892768447@qq.com\"\"\"\n__Copyright__ = 'Copyright (c) 2018 Irony'\n__Version__ = 1.0\n\n\nclass Window(QWidget):\n\n    def __init__(self, *args, **kwargs):\n        super(Window, self).__init__(*args, **kwargs)\n        layout = QHBoxLayout(self)\n\n        # 绿色边框\n        labelGreen = QLabel(self, pixmap=QPixmap('1.jpg').scaled(100, 100))\n        layout.addWidget(labelGreen)\n        aniGreen = AnimationShadowEffect(Qt.darkGreen, labelGreen)\n        labelGreen.setGraphicsEffect(aniGreen)\n        aniGreen.start()\n\n        # 红色边框,圆形图片\n        labelRed = QLabel(self)\n        labelRed.setMinimumSize(100, 100)\n        labelRed.setMaximumSize(100, 100)\n        labelRed.setStyleSheet('border-image: url(1.jpg);border-radius: 50px;')\n        layout.addWidget(labelRed)\n        aniRed = AnimationShadowEffect(Qt.red, labelGreen)\n        labelRed.setGraphicsEffect(aniRed)\n        aniRed.start()\n\n        # 蓝色边框按钮\n        button = QPushButton('按钮', self)\n        aniButton = AnimationShadowEffect(Qt.blue, button)\n        layout.addWidget(button)\n        button.setGraphicsEffect(aniButton)\n        aniButton.start()\n\n        # 青色边框输入框\n        lineedit = QLineEdit(self)\n        aniEdit = AnimationShadowEffect(Qt.cyan, lineedit)\n        layout.addWidget(lineedit)\n        lineedit.setGraphicsEffect(aniEdit)\n        aniEdit.start()\n\n\nif __name__ == '__main__':\n    import sys\n    from PyQt5.QtWidgets import QApplication\n    app = QApplication(sys.argv)\n    w = Window()\n    w.show()\n    sys.exit(app.exec_())\n```","tags":["PyQt","动画","阴影"],"categories":["例子"]},{"title":"PyQt5圆形图片","url":"/article/729610ce.html","content":"\n实现圆形图片的方法有很多，比如用遮罩（mask）,裁切等等。这里比较几种实现方式，选出个人认为最优的方案。\n<!-- more -->\n\nhttps://github.com/PyQt5/PyQt/blob/master/QLabel/CircleImage.py\n\n## 采用mask方式\n\n具体参考 [【Qt】QLabel实现的圆形图像 - 米罗西 - 博客园](https://www.cnblogs.com/zhehan54/p/9515124.html)\n\n## 画圆形遮盖（适合纯色背景）\n\n原理是在原图片上画一个4角有颜色，中间圆形镂空的图片。\n\n![circleimage1](/images/circleimage1.png)\n\n```python\n#!/usr/bin/env python\n# -*- coding: utf-8 -*-\n\nfrom PyQt5.QtCore import Qt\nfrom PyQt5.QtGui import QPixmap, QPainter, QPainterPath\nfrom PyQt5.QtWidgets import QLabel, QWidget, QHBoxLayout\n\n\nclass Label(QLabel):\n\n    def __init__(self, *args, antialiasing=True, **kwargs):\n        super(Label, self).__init__(*args, **kwargs)\n        self.Antialiasing = antialiasing\n        self.setMaximumSize(200, 200)\n        self.setMinimumSize(200, 200)\n        self.radius = 100\n\n        #加载图片并缩放\n        self.image = QPixmap(\"head.jpg\").scaled(\n            200, 200, Qt.KeepAspectRatioByExpanding, Qt.SmoothTransformation)\n\n        painter = QPainter(self.image)\n        if self.Antialiasing:\n            painter.setRenderHint(QPainter.Antialiasing, True)\n            painter.setRenderHint(QPainter.HighQualityAntialiasing, True)\n            painter.setRenderHint(QPainter.SmoothPixmapTransform, True)\n\n        path = QPainterPath()\n        path.addRoundedRect(\n            0, 0, self.width(), self.height(), self.radius, self.radius)\n        path.addRect(0,0,self.width(),self.height())\n        painter.setPen(Qt.NoPen)\n        painter.setBrush(Qt.green)\n        painter.drawPath(path)\n        self.setPixmap(self.image)\n\n\nclass Window(QWidget):\n\n    def __init__(self, *args, **kwargs):\n        super(Window, self).__init__(*args, **kwargs)\n        layout = QHBoxLayout(self)\n        layout.addWidget(Label(self))\n        layout.addWidget(Label(self, antialiasing=False))\n        self.setStyleSheet(\"background: black;\")\n\nif __name__ == \"__main__\":\n    import sys\n    from PyQt5.QtWidgets import QApplication\n    app = QApplication(sys.argv)\n    w = Window()\n    w.show()\n    sys.exit(app.exec_())\n```\n\n## 使用QPainter的setCompositionMode\n\n具体参考 [Qt 圆形头像制作工具 抗锯齿 可缩放编辑](https://qtdream.com/topic/911/qt-%E5%9C%86%E5%BD%A2%E5%A4%B4%E5%83%8F%E5%88%B6%E4%BD%9C%E5%B7%A5%E5%85%B7-%E6%8A%97%E9%94%AF%E9%BD%BF-%E5%8F%AF%E7%BC%A9%E6%94%BE%E7%BC%96%E8%BE%91)\n\n```c++\n//result_avatar_size 是我们最后生成的图片的长宽，可以是QSize(200, 200)的正圆\ndestination_image = QImage(result_avatar_size, QImage::Format_ARGB32_Premultiplied);\n//在黑色的正方形中间画一个透明的圆，作为头像遮罩\nQPainter painter(&destination_image);\npainter.setRenderHint(QPainter::Antialiasing);\n//全涂黑\npainter.fillRect(destination_image.rect(), QBrush(Qt::black, Qt::SolidPattern));\npainter.setCompositionMode(QPainter::CompositionMode_SourceOut);\npainter.setPen(Qt::NoPen);\npainter.setBrush(QBrush(Qt::transparent, Qt::SolidPattern));\n//画透明区域\npainter.drawEllipse(destination_image.rect());\n```\n\n## 使用QPainter的切割方法（推荐）\n\n利用`QPainter.setClipPath`方法切割一个圆形的`QPainterPath`\n\n![circleimage2](/images/circleimage2.png)\n\n```python\n#!/usr/bin/env python\n# -*- coding: utf-8 -*-\n\n'''\nCreated on 2017年8月25日\n@author: Irony.\"[讽刺]\n@site: https://pyqt5.com, https://github.com/892768447\n@email: 892768447@qq.com\n@file: \n@description: \n'''\nfrom PyQt5.QtCore import Qt\nfrom PyQt5.QtGui import QPixmap, QPainter, QPainterPath, QPen\nfrom PyQt5.QtWidgets import QLabel, QWidget, QHBoxLayout\n\n\n__Author__ = \"By: Irony.\\\"[讽刺]\\nQQ: 892768447\\nEmail: 892768447@qq.com\"\n__Copyright__ = \"Copyright (c) 2017 Irony.\\\"[讽刺]\"\n__Version__ = \"Version 1.0\"\n\n\nclass Label(QLabel):\n\n    def __init__(self, *args, antialiasing=True, **kwargs):\n        super(Label, self).__init__(*args, **kwargs)\n        self.Antialiasing = antialiasing\n        self.setMaximumSize(200, 200)\n        self.setMinimumSize(200, 200)\n        self.radius = 100\n\n        #####################核心实现#########################\n        self.target = QPixmap(self.size())  # 大小和控件一样\n        self.target.fill(Qt.transparent)  # 填充背景为透明\n\n        p = QPixmap(\"head.jpg\").scaled(  # 加载图片并缩放和控件一样大\n            200, 200, Qt.KeepAspectRatioByExpanding, Qt.SmoothTransformation)\n\n        painter = QPainter(self.target)\n        if self.Antialiasing:\n            # 抗锯齿\n            painter.setRenderHint(QPainter.Antialiasing, True)\n            painter.setRenderHint(QPainter.HighQualityAntialiasing, True)\n            painter.setRenderHint(QPainter.SmoothPixmapTransform, True)\n\n#         painter.setPen(# 测试黑色圆圈\n#             QPen(Qt.black, 5, Qt.SolidLine, Qt.RoundCap, Qt.RoundJoin))\n        path = QPainterPath()\n        path.addRoundedRect(\n            0, 0, self.width(), self.height(), self.radius, self.radius)\n        #**** 切割为圆形 ****#\n        painter.setClipPath(path)\n#         painter.drawPath(path)  # 测试黑色圆圈\n\n        painter.drawPixmap(0, 0, p)\n        self.setPixmap(self.target)\n        #####################核心实现#########################\n\nclass Window(QWidget):\n\n    def __init__(self, *args, **kwargs):\n        super(Window, self).__init__(*args, **kwargs)\n        layout = QHBoxLayout(self)\n        layout.addWidget(Label(self))\n        layout.addWidget(Label(self, antialiasing=False))\n        self.setStyleSheet(\"background: black;\")\n\nif __name__ == \"__main__\":\n    import sys\n    from PyQt5.QtWidgets import QApplication\n    app = QApplication(sys.argv)\n    w = Window()\n    w.show()\n    sys.exit(app.exec_())\n```","tags":["PyQt","圆形","图片"],"categories":["例子"]},{"title":"异常捕获之cgitb模块","url":"/article/dc513f93.html","content":"\n`cgitb`模块为`Python`脚本提供了一个特殊的异常管理器。名字有点误导人，它最初设计是为了以HTML格式展示cgi脚本的大量异常信息。后来，他扩展为也可以展示纯文本信息。该模块激活后，如果发生了未捕获的异常，将会展示格式化的输出报告。该报告包括源代码每一层的回溯，以及当前执行程序的参数和局部变量。以及，你可以选择将这些信息存到一个文件里，而不是发送到浏览器。\n<!-- more -->\n\n## 用途\n\n当编辑器中无法显示错误信息时，尤其是`PyQt`，可以尝试在cmd中运行代码，或者使用此模块来得到错误信息。\n\n## 介绍\n\n### cgitb.enable\n\n```python\ncgitb.enable(display=1, logdir=None, context=5, format=\"html\")\n```\n\n参数说明\n\n1. display 1，发送至浏览器；0， 不发送\n2. logdir 如果有的话，写到该目录下\n3. context 显示错误代码周围的代码行数\n4. format 是否显示为HTML，除了'html'之外的所有值，都会显示为纯文本\n\n### cgitb.handle\n\n```python\ncgitb.handle(info=None)\n```\n\n参数说明\n\n1. 如果你想用cgitb处理异常，你可以调用这个函数。\n2. info 应当是含有异常类型、异常值和traceback对象的三元组\n3. 如同sys.exc_info()返回的那样。如果不提供info，则从sys.exc_info中获取。\n\n## 如何使用\n\n以下代码放在最开始执行\n\n```python\nimport cgitb\nimport sys\nsys.excepthook = cgitb.Hook(1, None, 5, sys.stderr, 'text')\n```\n","tags":["Python","异常"],"categories":["笔记"]},{"url":"/about/132.html","content":"{% gallery %}\n![](https://i.loli.net/2019/12/25/Fze9jchtnyJXMHN.jpg)\n![](https://i.loli.net/2019/12/25/ryLVePaqkYm4TEK.jpg)\n![](https://i.loli.net/2019/12/25/gEy5Zc1Ai6VuO4N.jpg)\n![](https://i.loli.net/2019/12/25/d6QHbytlSYO4FBG.jpg)\n![](https://i.loli.net/2019/12/25/6nepIJ1xTgufatZ.jpg)\n![](https://i.loli.net/2019/12/25/E7Jvr4eIPwUNmzq.jpg)\n![](https://i.loli.net/2019/12/25/mh19anwBSWIkGlH.jpg)\n![](https://i.loli.net/2019/12/25/2tu9JC8ewpBFagv.jpg)\n{% endgallery %}"},{"title":"about","url":"/about/index.html"},{"title":"categories","url":"/categories/index.html"},{"title":"gallery","url":"/gallery/1index.html","content":"{% gallery %}\n![](https://i.loli.net/2019/12/25/Fze9jchtnyJXMHN.jpg)\n![](https://i.loli.net/2019/12/25/ryLVePaqkYm4TEK.jpg)\n![](https://i.loli.net/2019/12/25/gEy5Zc1Ai6VuO4N.jpg)\n![](https://i.loli.net/2019/12/25/d6QHbytlSYO4FBG.jpg)\n![](https://i.loli.net/2019/12/25/6nepIJ1xTgufatZ.jpg)\n![](https://i.loli.net/2019/12/25/E7Jvr4eIPwUNmzq.jpg)\n![](https://i.loli.net/2019/12/25/mh19anwBSWIkGlH.jpg)\n![](https://i.loli.net/2019/12/25/2tu9JC8ewpBFagv.jpg)\n{% endgallery %}"},{"title":"gallery","url":"/gallery/index.html","content":"<div class=\"gallery-group-main\">\n{% galleryGroup '壁紙' '收藏的一些壁紙' '/Gallery/wallpaper' https://i.loli.net/2019/11/10/T7Mu8Aod3egmC4Q.png %}\n{% galleryGroup '漫威' '關於漫威的圖片' '/Gallery/marvel' https://i.loli.net/2019/12/25/8t97aVlp4hgyBGu.jpg %}\n{% galleryGroup 'OH MY GIRL' '關於OH MY GIRL的圖片' '/Gallery/ohmygirl' https://i.loli.net/2019/12/25/hOqbQ3BIwa6KWpo.jpg %}\n</div>"},{"title":"link","url":"/link/index.html"},{"title":"標籤","url":"/tags/index.html"},{"title":"shuoshuo","url":"/shuoshuo/index.html"}]